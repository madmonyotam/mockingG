(this.webpackJsonpmg_client=this.webpackJsonpmg_client||[]).push([[0],{136:function(t){t.exports=JSON.parse('{"colors":{"black":"#000000","white":"#ffffff","blue01":"#39536f","blue02":"#496a8c","blue03":"#5980a9","blueLight01":"#bfd6ef","grey01":"#808080"},"materialUI":{"primary":"colors.blue01","secondary":"colors.blue02"},"backgrounds":{"primary":"colors.blue01","secondary":"colors.blueLight01","active":"colors.blue02","hover":"colors.blue03"},"texts":{"primary":"colors.white","secondary":"colors.blue01","placeholder":"colors.grey01"},"searchBar":{"bg":"backgrounds.primary","fg":"texts.primary"},"canvases":{"bg":"backgrounds.secondary","fg":"texts.secondary","packBgStart":"backgrounds.primary","packBgEnd":"backgrounds.hover"}}')},137:function(t){t.exports=JSON.parse('{"icons":{"back":{"type":null,"name":"keyboard_arrow_left"},"remove":{"type":null,"name":"delete_outline"},"edit":{"type":null,"name":"edit"},"add":{"type":null,"name":"add"}},"searchBar":{"back":"icons.back"},"listItem":{"remove":"icons.remove","edit":"icons.edit"},"leftPanel":{"add":"icons.add"}}')},157:function(t,n,e){t.exports=e(271)},162:function(t,n,e){},190:function(t,n){},192:function(t,n){},227:function(t,n){},228:function(t,n){},270:function(t,n,e){},271:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),i=e(8),o=e.n(i),c=(e(162),e(24)),u=e(147),l=e(303),s=e(136),f=e(137);function d(t,n){if(!n)return t;var e=t;"string"===typeof n&&(n=n.split(/[.,]/));for(var r=0;r<n.length;r++){if("undefined"===typeof e)return;e=e[n[r]]}return e}var h=function t(n){var e=d(s,n);return"string"!==typeof e?e:e.startsWith("#")?e:e.indexOf(".")>-1||e.indexOf(",")>-1?t(e):void 0},m=function t(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?"type":"name",a=d(f,n);return"string"===typeof a&&(a.indexOf(".")>-1||a.indexOf(",")>-1)?t(a,e):a?a[r]?a[r]:a:void 0},p=function(t){return t},b=e(15),g=e(3),v=e.n(g),y=e(16);function k(){var t=Object(b.a)(["\n  position: absolute;\n  top: ",";\n  bottom: ",";\n  left: ",";\n  right: ",";\n  opacity: ",";\n  background: ",";\n"]);return k=function(){return t},t}var w=y.a.div(k(),(function(t){return t.top||0}),(function(t){return t.bottom||0}),(function(t){return t.left||0}),(function(t){return t.right||0}),(function(t){return t.opacity}),(function(t){return t.mask}));w.defaultProps={opacity:.7,mask:"white"},w.propTypes={opacity:v.a.number,mask:v.a.string};var x,E,O,j,C,B,I=w,z=e(17),A=e(49),R=null,T=function(t,n,e){var r=z.e().x((function(t){return t.x})).y((function(t){return t.y})).curve(z.a);n.on("mouseout",(function(){R=null})),n.on("mousemove",(function(n,a){var i={x:z.c.offsetX,y:z.c.offsetY};if(R){var o=[R,i];R=i,t.append("path").attr("d",r(o)).attr("fill","none").attr("stroke",e).attr("stroke-width",2).transition().duration(450).attr("stroke-width",0).ease((function(t){return z.b(t)})).transition().duration(10).remove()}else R=i}))},L=0,S=2,N=1,P=0,_=null,J=[h("canvases.packBgStart"),h("canvases.packBgEnd")],U=function(t){return t.depth<N||t.depth>S},W=function(t){return Object(A.isEmpty)(t.data.children)||t.depth===S},F=function(t){t.on("mouseup",(function(t){3===t.depth&&(t=t.parent),2===t.depth&&(t=t.parent),Object(A.isEmpty)(t.data.children)||(D(),setTimeout((function(){0===P?(j(t.data.name),P++):1===P&&(C(t.data.name),P++),nt(t.data)}),1e3))}))},M=function(t,n){t.transition().duration(2e3).attr("r",(function(t){return U(t)?0:t.r})),n.transition().duration(2e3).attr("font-size",(function(t){return Y(t)}))},D=function(){var t=x.selectAll(".node"),n=x.selectAll("circle"),e=x.selectAll("text");n.transition().duration(1e3).attr("r",20).transition().duration(2e3).attr("r",4),e.transition().duration(1e3).attr("font-size",0),t.transition().duration(1e3).attr("transform",(function(t){return"translate(".concat(t.x,",").concat(O-20,")")})).transition().duration(2e3).attr("transform",(function(t){return"translate(".concat(E,",").concat(O-2,")")})).remove()},G=function(t){return B.selectAll(".node").data(t,(function(t){return t})).enter().append("g").attr("class","node").attr("transform",(function(t){return"translate(".concat(t.x,",").concat(t.y,")")}))},K=function(t){var n=z.g().domain([0,L]).range(J);return t.append("circle").attr("fill",(function(t){return U(t)?"none":n(t.data.value)})).attr("fill-opacity",.5).attr("r",0)},X=function(t){return t.append("text").attr("class",(function(t){return W(t)?"light-text":"text"})).attr("y",(function(t){return W(t)?0:-(t.r+5)})).attr("text-anchor","middle").attr("font-size","0").text((function(t){return U(t)?"":$(t)}))},Y=function(t){var n=Math.floor(t.r/3);return n=(n=n<8?8:n)>14?14:n},$=function(t){var n=t.data.name,e=t.r,r=16;return W(t)?(r=e<50?14:r,r=e<40?12:r,r=e<35?9:r,r=e<30?7:r,r=e<20?3:r,n.length<=r?n:n.substring(0,r)+"..."):n},q=function(t){D(),P++;var n=Object(A.find)(_.children,(function(n){return n.name===t}));nt(n)},H=function(){D(),L=0,S=2,N=1,P=0,nt(_)},Q=function(t){j=t},V=function(t){C=t},Z=function(t,n,e){E=n,O=e,B=(x=t).append("g").attr("class","pack")},tt=function t(n,e){if(e||(e={name:"root",value:0,children:[]}),"string"==typeof n)return e.value=1,delete e.children,e;for(var r in n){var a={name:r,value:1,children:[]},i=t(n[r],a);e.value+=i.value,e.children.push(a)}return e},nt=function(t,n){n&&(_=t),L=t.value;var e=z.f().size([E,O]).padding(20),r=z.d(t);e(r),function(t){var n=G(t),e=K(n),r=X(n);T(x,e,h("canvases.bg")),T(x,r,h("canvases.fg")),M(e,r),F(n)}(r.descendants())};function et(){var t=Object(b.a)(["\n  position: relative;\n  min-width: 100px;\n  height: ",";\n  background: ",";\n  display: flex;\n  flex: ",";\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow: auto;\n  box-shadow: 1px 0px 4px 0px\n    ",";\n"]);return et=function(){return t},t}var rt=y.a.div(et(),(function(t){return t.height||"100%"}),(function(t){return t.background||"inherit"}),(function(t){return t.flex||.2}),(function(t){return t.shadowColor||"rgb(93, 107, 140)"}));rt.propTypes={flex:v.a.number,height:v.a.oneOfType([v.a.string,v.a.number]),background:v.a.string,shadowColor:v.a.string};var at=rt,it=e(305),ot=e(302),ct=e(298);function ut(){var t=Object(b.a)(["  \n  position: relative; \n  min-height: 50px;\n  height: ",";\n  width: ",";\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  cursor:  ",";\n  box-shadow: 0px 1px 4px 0px ",";\n  :hover {\n    background: ",";\n    color: ",";\n  }\n  :active {\n    background: ",";\n    color: ",";\n  }\n"]);return ut=function(){return t},t}var lt=y.a.div(ut(),(function(t){return t.height||"50px"}),(function(t){return t.width||"100%"}),(function(t){return t.background||"inherit"}),(function(t){return t.color||h("texts.secondary")}),(function(t){return t.menuItem&&"pointer"}),(function(t){return t.shadowColor||"rgb(93, 107, 140)"}),(function(t){return t.menuItem&&h("backgrounds.hover")}),(function(t){return t.menuItem&&h("texts.primary")}),(function(t){return t.menuItem&&h("backgrounds.active")}),(function(t){return t.menuItem&&h("texts.primary")}));lt.propTypes={width:v.a.oneOfType([v.a.string,v.a.number]),height:v.a.oneOfType([v.a.string,v.a.number]),background:v.a.string,shadowColor:v.a.string};var st=lt;function ft(){var t=Object(b.a)(["   \n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 0 10px;\n  width: ",";\n  color: ",";\n  font-size: ",";\n  font-weight:  ",";\n"]);return ft=function(){return t},t}var dt=y.a.div(ft(),(function(t){return t.width||"fit-content"}),(function(t){return t.color||"inherit"}),(function(t){return t.fontSize||"inherit"}),(function(t){return t.weight||"400"})),ht=Object(ct.a)((function(t){return{btn:{marginLeft:10,marginTop:2,color:h("searchBar.fg")}}}));var mt=function(t){var n=t.label,e=t.nested,r=t.onBack,i=ht();return a.a.createElement(st,{background:h("searchBar.bg")},function(){if(e)return a.a.createElement(it.a,{className:i.btn,size:"small",onClick:r},a.a.createElement(ot.a,null,m("searchBar.back")))}(),a.a.createElement(dt,{color:h("searchBar.fg")},n))};function pt(){var t=Object(b.a)(["   \n  width: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return pt=function(){return t},t}function bt(){var t=Object(b.a)(["   \n  width: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return bt=function(){return t},t}y.a.div(bt(),(function(t){return t.width||"50px"}));var gt=y.a.div(pt(),(function(t){return t.width||"50px"}));function vt(){var t=Object(b.a)(["\n  justify-content: space-between;\n  background: ",";\n  color: ",";\n"]);return vt=function(){return t},t}var yt=Object(y.a)(st)(vt(),(function(t){return t.selected?h("backgrounds.primary"):"inherit"}),(function(t){return t.selected?h("texts.primary"):"inherit"})),kt=Object(ct.a)((function(t){return{btn:{color:h("texts.primary"),padding:5,fontSize:20}}}));var wt=function(t){var n=t.label,e=t.handleRowClick,r=t.handleRemove,i=t.handleEdit,o=t.parent,u=kt(),l=Object(c.useBranch)({selected:["selected"]}).selected,s=function(t){t.stopPropagation(),r(n)},f=function(t){t.stopPropagation(),i(n)},d=l==="".concat(o,":").concat(n);return a.a.createElement(yt,{key:n,menuItem:!0,selected:d,onClick:function(){e(n)}},a.a.createElement(dt,null,n),a.a.createElement(gt,{width:"80px"},a.a.createElement(it.a,{style:{cursor:"not-allowed"},size:"small",onClick:f},a.a.createElement(ot.a,{className:u.btn},m("listItem.edit"))),a.a.createElement(it.a,{size:"small",onClick:s},a.a.createElement(ot.a,{className:u.btn},m("listItem.remove")))))},xt=e(150),Et=e(304),Ot=!1,jt=Object(ct.a)((function(t){return{btn:{color:h("texts.secondary"),padding:5,fontSize:20}}}));var Ct=function(t){var n=t.label,e=t.handleAdd,i=jt(),o=Object(r.useState)(""),c=Object(xt.a)(o,2),u=c[0],l=c[1];Object(r.useEffect)((function(){Ot=!1}),[]);var s=function(){e(u),l("")};return a.a.createElement(st,{style:{cursor:"pointer"},onKeyUp:function(t){if(u)switch(t.key){case"Escape":l("");break;case"Enter":s()}}},a.a.createElement(Et.a,{autoFocus:Ot,fullWidth:!0,value:u,onChange:function(t){Ot||(Ot=!0),l(t.target.value.trimStart())},label:n,variant:"filled"}),u?a.a.createElement(it.a,{size:"small",onClick:s},a.a.createElement(ot.a,{className:i.btn},m("leftPanel.add"))):null)},Bt=e(170),It="http://localhost:5588/mocking_G";function zt(t,n){var e="".concat(It).concat(t),r={params:n};return Bt.get(e,r)}function At(t,n){t.set(["libs"],n)}function Rt(t,n){t.set(["focus","lib"],n)}function Tt(t,n){zt("/addLibrary",{library:n}).then((function(n){t.set("libs",n.data)})).catch((function(t){console.log(t.response.data.message)}))}function Lt(t,n){zt("/removeLibrary",{library:n}).then((function(n){t.set("libs",n.data)}))}function St(t,n){t.set(["cats"],n)}function Nt(t,n){t.set(["focus","cat"],n)}function Pt(t,n){var e=t.get(["focus","lib"]);t.set(["selected"],"".concat(e,":").concat(n))}function _t(t,n){zt("/addCategory",{library:t.get(["focus","lib"]),category:n}).then((function(n){t.set("cats",n.data)})).catch((function(t){console.log(t.response.data.message)}))}function Jt(t,n){zt("/removeCategory",{library:t.get(["focus","lib"]),category:n}).then((function(n){t.set("cats",n.data)}))}var Ut=function(){var t=Object(c.useBranch)({libs:["libs"]}),n=t.libs,e=t.dispatch,i=Object(c.useBranch)({cats:["cats"]}).cats,o=Object(c.useBranch)({focus:["focus"]}).focus;return Object(r.useEffect)((function(){zt("/getAllLibraries").then((function(t){e(At,t.data)}))}),[]),a.a.createElement(at,{flex:.15},a.a.createElement(mt,{label:o.lib?o.lib:p("libraries"),nested:o.lib,onBack:function(){H(),e(Rt,null)}}),a.a.createElement((function(){switch(o.lib?"cats":"libs"){case"libs":return a.a.createElement(Ct,{label:p("Add Library"),handleAdd:function(t){t=t.trim(),e(Tt,t)}});case"cats":return a.a.createElement(Ct,{label:p("Add Category"),handleAdd:function(t){t=t.trim(),e(_t,t)}});default:return}}),null),a.a.createElement((function(){var t=o.lib?"cats":"libs",r=function(t){var n;zt("/getCategoriesFromLibrary",{library:n=t}).then((function(t){e(St,t.data),setTimeout((function(){e(Rt,n)}))})),q(t)},c=function(t){e(Nt,t),e(Pt,t)},u=function(t){e(Lt,t)},l=function(t){e(Jt,t)},s=function(t){},f=function(t){};switch(t){case"libs":return n.map((function(t){return a.a.createElement(wt,{key:t,label:t,handleRowClick:r,handleRemove:u,handleEdit:s})}));case"cats":return i.map((function(t){return a.a.createElement(wt,{key:t,parent:o.lib,label:t,handleRowClick:c,handleRemove:l,handleEdit:f})}));default:return}}),null))},Wt=e(62),Ft=e(29),Mt=e(144),Dt=e(145),Gt=e(21),Kt=e(151),Xt=e(146),Yt=function(t){function n(t){var e;return Object(Wt.a)(this,n),(e=Object(Mt.a)(this,Object(Dt.a)(n).call(this,t))).width=0,e.height=0,e.measure=e.measure.bind(Object(Gt.a)(e)),e.createCanvas=e.createCanvas.bind(Object(Gt.a)(e)),e}return Object(Kt.a)(n,t),Object(Ft.a)(n,[{key:"componentDidMount",value:function(){this.measure();var t=this.createCanvas();this.do(t)}},{key:"do",value:function(t){var n=this.props.margin,e=this.width-(n.left+n.right),r=this.height-(n.top+n.bottom);return this.props.canvasReady(t,e,r)}},{key:"createCanvas",value:function(){var t=this.props.margin;return z.h("#".concat(this.id)).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")"))}},{key:"measure",value:function(){var t=document.getElementById(this.id).getBoundingClientRect();this.width=t.width,this.height=t.height}},{key:"render",value:function(){return this.id="cont"+Object(Xt.v4)(),a.a.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),n}(r.Component);Yt.defaultProps={margin:{top:0,bottom:0,left:0,right:0}};e(270);var $t=function(){var t=Object(c.useBranch)({back:["back"]}),n=(t.back,t.dispatch),e={},r=function(t){zt("/getCategoriesFromLibrary",{library:t}).then((function(e){n(St,e.data),setTimeout((function(){n(Rt,t)}))}))},i=function(t){n(Nt,t),n(Pt,t)},o=function(t,n,a){var o=function(t,n,e){return t.append("rect").attr("width",n).attr("height",e).attr("fill",h("canvases.bg"))}(t,n,a);T(t,o,h("canvases.fg")),function(t,n,a){zt("/getAll").then((function(o){e=tt(o.data),Z(t,n,a),nt(e,!0),Q(r),V(i)}))}(t,n,a)};return a.a.createElement("div",{style:{flex:1,cursor:"none"}},a.a.createElement(Yt,{canvasReady:o,margin:{top:0,bottom:0,left:0,right:0}}))};var qt=function(){return a.a.createElement(I,{opacity:1,style:{display:"flex"}},a.a.createElement(Ut,null),a.a.createElement($t,null))},Ht=h("materialUI.primary"),Qt=h("materialUI.secondary"),Vt=Object(u.a)({palette:{primary:{main:Ht},secondary:{main:Qt}}});var Zt=function(t){var n=t.tree,e=Object(c.useRoot)(n);return a.a.createElement(e,null,a.a.createElement(l.a,{theme:Vt},a.a.createElement(qt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=e(82),nn=new(e.n(tn).a)({libs:[],cats:[],focus:{lib:null,cat:null},selected:null});window.tree=nn;var en=nn;o.a.render(a.a.createElement(Zt,{tree:en}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[157,1,2]]]);
//# sourceMappingURL=main.293d69ae.chunk.js.map