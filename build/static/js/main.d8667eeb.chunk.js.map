{"version":3,"sources":["plugins/access/index.js","plugins/Layouts/Column.js","plugins/Layouts/Row.js","plugins/tools/Label.js","plugins/icons/IconButton.js","plugins/menuPanel/SearchBar.js","plugins/Layouts/Spaces.js","plugins/menuPanel/ListItem.js","plugins/Layouts/Center.js","plugins/menuPanel/AddRow.js","plugins/menuPanel/BottomBarMenu.js","tree/actions/types.js","plugins/requests/index.js","plugins/canvases/utils/packUtils.js","tree/actions/items.js","plugins/Layouts/Absolute.js","plugins/inputs/Input.js","plugins/inputs/Select.js","plugins/tools/Chip.js","plugins/inputs/MultiSelect.js","plugins/menuPanel/inspector/Inspector.js","tree/actions/libs.js","tree/actions/cats.js","Views/MenuPanel.js","plugins/editor/Editor.js","plugins/schemaPanel/SwitchEditorBtn.js","plugins/tools/Composer.js","plugins/tools/FileDownloader.js","plugins/tools/CopyToClipBoard.js","plugins/schemaPanel/BarButtons.js","plugins/schemaPanel/BottomBarGen.js","plugins/schemaPanel/BottomBarSchema.js","plugins/tools/Mask.js","plugins/schemaPanel/DragMask.js","plugins/tools/Start.js","plugins/canvases/utils/canvasActions.js","plugins/canvases/OpenPanelCanvas.js","Views/SchemaPanel.js","plugins/canvases/pack/Pack.js","plugins/canvases/pack/LibraryPack.js","plugins/canvases/paint/Tag.js","plugins/canvases/pack/TypesPack.js","plugins/canvases/paint/Frames.js","plugins/canvases/MainCanvas.js","plugins/menuModal/Menu.js","Views/Main.js","App.js","tree/tree.js","index.js"],"names":["get","collection","path","value","split","i","length","dim","dimensions","time","timeings","color","code","colors","startsWith","indexOf","icon","getType","typeOrName","icons","Column","styled","div","props","zIndex","height","background","flex","shadowColor","defaultProps","propTypes","PropTypes","number","oneOfType","string","Row","width","menuItem","Label","fontSize","weight","IconBtn","iconSize","iconPadding","onClick","iconStyle","btnStyle","rest","classes","makeStyles","theme","padding","btn","useStyles","IconButton","className","size","Icon","access","SearchBar","label","nested","onBack","marginLeft","marginTop","renderBack","SpaceAround","Srow","selected","ListItem","handleRowClick","handleRemove","handleEdit","parent","useBranch","useState","mode","setMode","setValue","handleRemoveClick","e","stopPropagation","changeMadeToEdit","changeMadeToButton","edit","close","ClickAwayListener","onClickAway","key","onKeyUp","TextField","autoFocus","fullWidth","onChange","target","trimStart","variant","style","justifyContent","isSelected","renderButtons","Center","overflow","open","AddRow","handleAdd","focusItem","useEffect","add","cursor","BottomBar","BackRow","BottomBarMenu","types","viewKey","collapse","dispatch","handleCollapse","tree","set","transform","setTypes","data","getAllTypes","typesByGroup","allTypes","g","typs","concat","Object","entries","map","el","t","type","getTypesToSelect","group","typesToSelect","filter","optionFormatFields","getOptionFormat","name","libraryPack","typesPack","axios","require","rootUrl","window","location","host","params","from","query","getLibraryPack","getTypesPack","generate","items","amount","schema","then","res","catch","err","console","error","response","onSchemaChange","library","category","onChangeFromEditor","replaceSchema","getValueByRendererType","renderer","placeholder","onAddFromPack","additionalFields","AdditionalFields","innerRenderer","getAdditionalFields","num","Math","floor","random","changeDragState","setItemToFocus","item","editItem","oldName","newName","addItem","field","JSON","stringify","removeItem","focus","lib","cat","Absolute","top","bottom","left","right","Input","onFocus","onBlur","initValue","inputType","Select","options","onSelect","setOnFocus","findInOptions","v","find","o","toLowerCase","position","setTimeout","selection","maxHeight","boxShadow","borderBottom","handleSelect","renderList","MyChip","onDelete","Chip","margin","MultiSelect","multiValue","setMultiValue","getFilteredList","filtered","toReturn","forEach","setInitValue","isEmpty","overflowX","handleDelete","values","renderMultiValue","ButtonsRow","show","Inspector","typ","keys","includes","getGroupFromType","setGroup","initType","k","getTypeByKey","setType","tempItem","setTempItem","tempData","setTempData","showButtons","setShowButtons","prefix","setPrefix","suffix","setSuffix","setSize","addEmpty","setAddEmpty","randomSize","setRandomSize","additionalValues","setAdditionalValues","groups","focusedItem","focused","categoriesPath","setCategoriesPath","revertChanges","stableCompare","useCallback","theSame","tempGenerate","Boolean","isUndefined","changeAddEmpty","changeTempItem","changeSize","changeRandomSize","changePrefix","changeSuffix","changeAdditionalValues","newItem","changeSchema","newItems","groupOption","selectedItem","Checkbox","marginRight","checked","disabled","ren","rendererType","updateOptions","typeOptions","Array","isArray","renderString","renderersDir","autocomplete","autocompleteArray","val","array","renderFromType","pure","setOptions","showGutter","tabSize","renderEditor","Button","setLibToSelected","setLibs","libraries","projectName","setLibToFocus","addLib","log","message","removeLib","editLib","getCategoriesFromLibrary","setCatToSelected","setCats","cats","setCatToFocus","addCategory","editCategory","selectedCategory","removeCategory","getItemsFromCategory","generateFromCat","setKey","newKey","schemaName","onCategorySelected","CollapseColumn","LeftPanel","libs","stableDispatch","libsActions","RenderList","handleClickOnLib","onLibrarySelected","handleClickOnCat","catsActions","handleClickOnItem","itemsActions","handleRemoveLib","onRemoveLibrary","handleRemoveCat","onRemoveCategory","handleRemoveItem","onRemoveItem","handleEditLib","onEditLibrary","handleEditCat","onEditCategory","handleEditItem","onEditItem","listOf","getListOf","RenderAddRow","addTo","trim","onAddLibrary","onAddCategory","onAddItem","getLabel","Editor","isData","editorRef","useRef","mockData","initCode","setInitCode","setCode","codeFromProps","current","session","editor","getSession","undoManager","getUndoManager","reset","setUndoManager","ref","debounceChangePeriod","onLoad","c","isEqual","newCode","parse","updateSchema","showPrintMargin","highlightActiveLine","showLineNumbers","SwitchButtonCont","selectedBtn","indicator","backgroundColor","SwitchEditorBtn","onSwitch","CodeSelected","codeClass","schemaClass","Tabs","Tab","root","Composer","createElement","mapChildren","children","React","Children","child","isDecorator","cloneElement","propsTypes","func","isRequired","FileDownloader","content","fileName","fileExtension","saveFile","preventDefault","parsed","blob","Blob","url","URL","createObjectURL","a","document","body","appendChild","href","download","click","revokeObjectURL","removeChild","object","bool","CopyToClipBoard","copyToClipboard","textToCopy","navigator","clipboard","writeText","display","select","execCommand","ButtonsCont","filename","BarButtons","AmountInput","BottomBarGen","setAmount","gen","BottomBarSchema","Mask","opacity","mask","RoundWrapper","p","DragMask","text","setOpen","onMouseEnter","onMouseLeave","transition","maxWidth","Start","measure","bind","createCanvas","this","canvas","do","canvasReady","d3","id","append","attr","Bounding","getElementById","getBoundingClientRect","v4","Component","prevMousePlace","move","board","line","x","d","y","curve","on","mousePlace","offsetX","offsetY","duration","ease","remove","OpenPanelCanvas","setclose","onCanvasReady","frame","createFrame","dropCircles","Placeholder","TopBar","InnerColumn","SchemaPanel","dragState","editorWrapper","editorWidth","setEditorWidth","editorToRender","setEditorToRender","handleSwitchEditor","InnerFlex","minWidth","Pack","circlePadding","marginBottom","showMainCircle","limitByLevel","fillOpacity","moveOnCircleColor","moveOnTextColor","getTranslate","createPack","normalizeData","firstLevelClick","secondLevelClick","thirdLevelClick","clickIsBlock","packDomain","colorScaleRange","clickColor","textClasses","in","out","init","mainGroup","mainData","newData","level","nameKey","countBack","push","isMainData","packLayout","treeRoot","nodes","descendants","n","depth","createNodes","paintCircles","paintTexts","circles","selectAll","texts","handleNodeClick","handleNodeDrag","colorScale","domain","range","enter","r","exit","exitCircles","updateCircles","childrenScope","adaptText","radius","cutIn","substring","getFontSize","isChildren","min","max","getTextPosition","exitTexts","updateTexts","clickAction","blink","_clickAction","blockButton","navigateBack","orininalColor","circle","lastClickedId","LibraryPack","l","findLibrary","findCategory","it","findItem","newLib","newCat","editorData","libIndex","findIndex","catIndex","tagsContexts","Tag","index","initPosition","tagHeight","tagWidth","positionX","deltaY","positionY","paintTag","paintText","mouseEvents","tags","TypesPack","dragCircle","dragText","blockDrag","firstMove","panelIsopen","addToSchema","setDrag","event","sourceEvent","prevX","getPrevCircle","movementX","Number","prevY","prevR","prevT","prevFontSize","prevText","getPrevText","TempText","TempFontSize","TempX","TempY","TempR","TempT","getXyFromEvent","dragAction","stop","startDragCircle","startDragText","onDrag","block","checkDrop","endDragText","endDragCircle","initDragStart","call","backTag","removeTag","fillFrame","Logo","img","rotate","MainCanvas","setRotate","handleAddFromPack","handleDragState","getAllLibs","initWithData","setLevelClick","getAllType","setAddToSchema","setDragState","scaleDown","paintFrame","typesTag","projectTag","setSelected","scaleUp","initKey","paintTabs","schemaPanelSize","leftPanelSize","getFlex","userSelect","alt","src","Menu","openMenu","setFocus","closeMenu","MenuItem","Modal","onEscapeKeyDown","borderRadius","toUpperCase","renderMainMenu","InitMask","Main","loading","setLoading","clearTimeout","LinearProgress","MenuPanel","primary","secondary","createMuiTheme","palette","main","App","Root","useRoot","ThemeProvider","Baobab","packView","drag","selectedLibrary","ReactDOM","render"],"mappings":"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","file":"static/js/main.d8667eeb.chunk.js","sourcesContent":["\nimport colors from \"plugins/config/colors\";\nimport icons from \"plugins/config/icons\";\nimport dimensions from \"plugins/config/dimensions\";\nimport timeings from \"plugins/config/time\";\n\nfunction get(collection, path) {\n    if(!path) return collection;\n    \n    let value = collection;\n    \n    if (typeof path === 'string') {\n        path = path.split(/[.,]/);\n    }\n    \n    for (let i = 0; i < path.length; i++) {\n        \n        if(typeof value === 'undefined'){\n            return undefined;\n        }\n        value = value[path[i]];  \n    }\n    \n    return value; \n};\n\nexport const dim = (path) => {\n    let dimension = get(dimensions,path);\n    return dimension;\n}\n\nexport const time = (path) => {\n    let timing = get(timeings,path);\n    return timing;\n}\n\nexport const color = (path) => {\n    let code = get(colors,path);\n    \n    if ( !(typeof code === 'string') ) {     \n        return code;\n    } \n\n    if ( code.startsWith('#') ) {\n      return code;\n    } \n\n    if ( code.indexOf('.') > -1 || code.indexOf(',') > -1 ){\n        return color(code);\n    }\n\n    return undefined;\n};\n\nexport const icon = (path, getType = false) => {\n    const typeOrName = getType ? 'type' : 'name';\n\n    let code = get(icons,path);\n    \n    if ( typeof code === 'string' && (code.indexOf('.') > -1 || code.indexOf(',') > -1) ){\n        return icon(code,getType);\n    }\n\n    if(!code) return undefined;\n\n    if ( !code[typeOrName] ) {     \n        return code;\n    }\n\n    return code[typeOrName];\n};\n\nexport const translate = (value) => {\n    return value;\n}\n\n","import styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nconst Column = styled.div`\n  z-index: ${props => props.zIndex};\n  position: relative;\n  min-width: 100px;\n  height: ${props => props.height};\n  background: ${props => props.background};\n  display: flex;\n  flex: ${props => props.flex};\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow: auto;\n  box-shadow: 1px 0px 4px 0px ${props => props.shadowColor};\n`;\n\nColumn.defaultProps = {\n  zIndex: 1,\n  flex: 0.2,\n  height: '100%',\n  background: 'inherit',\n  shadowColor: \"rgb(93, 107, 140)\",\n  }\n\nColumn.propTypes = {\n  flex: PropTypes.number,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  background: PropTypes.string,\n  shadowColor: PropTypes.string\n};\n\nexport default Column;\n","import styled from 'styled-components';\nimport PropTypes from \"prop-types\";\nimport { color } from \"plugins/access\";\n\nconst Row = styled.div`  \n  z-index: ${props => props.zIndex};\n  position: relative; \n  overflow: hidden;\n  min-height: 50px;\n  height: ${props => props.height};\n  width: ${props => props.width};\n  background: ${props => props.background};\n  color: ${props => props.color};\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  cursor:  ${(props) => (props.menuItem && 'pointer')};\n  box-shadow: 0px 1px 4px 0px ${props => props.shadowColor};\n  :hover {\n    background: ${(props) => (props.menuItem && color('backgrounds.hover'))};\n    color: ${(props) => (props.menuItem && color('texts.primary'))};\n  }\n  :active {\n    background: ${(props) => (props.menuItem && color('backgrounds.active'))};\n    color: ${(props) => (props.menuItem && color('texts.primary'))};\n  }\n`\n\nRow.defaultProps = {\n  zIndex: 1,\n  width: '100%',\n  height: '50px',\n  background: 'inherit',\n  color: color('texts.secondary'),\n  shadowColor: 'rgb(93, 107, 140)',\n  }\n\nRow.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  background: PropTypes.string,\n  shadowColor: PropTypes.string\n};\n\nexport default Row;","import styled from 'styled-components';\n\nconst Label = styled.div`   \n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 0 10px;\n  width: ${props => props.width || 'fit-content'};\n  color: ${props => props.color || 'inherit'};\n  font-size: ${props => props.fontSize || 'inherit'};\n  font-weight:  ${props => props.weight || '400'};\n`\n\nexport default Label;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Icon, IconButton } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport * as access from \"plugins/access\";\n\nconst IconBtn = ({ iconSize, iconPadding, color, onClick, icon, iconStyle, btnStyle, ...rest }) => {\n\n  const useStyles = makeStyles(theme => ({\n    icon: {\n      color: color,\n      padding: iconPadding,\n      fontSize: iconSize,\n      ...iconStyle\n    },\n    btn: {\n        ...btnStyle\n    }\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <IconButton className={classes.btn} size=\"small\" onClick={onClick} {...rest}>\n      <Icon className={classes.icon}>{icon}</Icon>\n    </IconButton>\n  );\n};\n\nIconBtn.defaultProps = {\n  onClick: () => {},\n  iconSize: 20,\n  iconPadding: 5,\n  color: access.color(\"texts.primary\"),\n  icon: access.icon(\"listItem.remove\"),\n  btnStyle: {},\n  iconStyle: {},\n};\n\nIconBtn.propTypes = {\n  onClick: PropTypes.func,\n  iconSize: PropTypes.number,\n  iconPadding: PropTypes.number,\n  color: PropTypes.string,\n  icon: PropTypes.string,\n  btnStyle: PropTypes.object,\n  iconStyle: PropTypes.object\n};\n\nexport default IconBtn;\n","import React from \"react\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Label from \"plugins/tools/Label\";\nimport IconButton from \"plugins/icons/IconButton\";\n\nfunction SearchBar({ label, nested, onBack }) {\n  const renderBack = () => {\n    if (!nested) return;\n    const btnStyle = { marginLeft: 10, marginTop: 2 };\n\n    return (\n      <IconButton\n        icon={access.icon(\"searchBar.back\")}\n        color={access.color(\"searchBar.fg\")}\n        onClick={onBack}\n        btnStyle={btnStyle}\n      />\n    );\n  };\n\n  return (\n    <Row background={access.color(\"searchBar.bg\")}>\n      {renderBack()}\n      <Label color={access.color(\"searchBar.fg\")}>{label}</Label>\n    </Row>\n  );\n}\n\nexport default SearchBar;\n","import styled from 'styled-components';\n\nconst SpaceBetween = styled.div`   \n  width: ${props => props.width || '50px'};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst SpaceAround = styled.div`   \n  width: ${props => props.width || '50px'};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n`\n\nexport { SpaceBetween, SpaceAround };","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport { TextField, ClickAwayListener } from \"@material-ui/core\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Label from \"plugins/tools/Label\";\nimport { SpaceAround } from \"plugins/Layouts/Spaces\";\nimport IconButton from \"plugins/icons/IconButton\";\n\nconst Srow = styled(Row)`\n  justify-content: space-between;\n  background: ${props =>\n    props.selected ? access.color(\"backgrounds.primary\") : \"inherit\"};\n  color: ${props =>\n    props.selected ? access.color(\"texts.primary\") : \"inherit\"};\n`;\n\nfunction ListItem({ label, handleRowClick, handleRemove, handleEdit, parent }) {\n  const { selected } = useBranch({ selected: [\"selected\"] });\n  const [mode, setMode] = useState(\"button\");\n  const [value, setValue] = useState(label);\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    handleRemove(label);\n  };\n\n  const changeMadeToEdit = e => {\n    e.stopPropagation();\n    setMode(\"edit\");\n  };\n\n  const changeMadeToButton = () => {\n    setMode(\"button\");\n  };\n\n  const edit = () => {\n    handleEdit(label,value);\n    changeMadeToButton();\n  };\n\n  const close = () => {\n    setValue(label);\n    changeMadeToButton();\n  }\n\n  const handleOnKeyPrass = e => {\n    switch (e.key) {\n      case \"Escape\":\n        close();\n        break;\n      case \"Enter\":\n        edit();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const renderRemove = () => {\n    return (\n      <IconButton\n        onClick={handleRemoveClick}\n        icon={access.icon(\"listItem.remove\")}\n        color={access.color(\"menuPanel.icon\")}\n      />\n    );\n  };\n\n  const rendeEdit = () => {\n    if(!handleEdit) return null;\n\n    return (\n      <IconButton\n        onClick={changeMadeToEdit}\n        icon={access.icon(\"listItem.edit\")}\n        color={access.color(\"menuPanel.icon\")}\n      />\n    );\n  };\n\n  const renderButtons = () => {\n    const width = handleEdit ? \"85px\" : \"50px\";\n\n    return (\n      <SpaceAround width={width}>\n        {rendeEdit()}\n        {renderRemove()}\n      </SpaceAround>\n    );\n  };\n\n  const renderAddBtn = () => {\n    if (!value) return null;\n\n    return (\n      <Row\n        width={\"50px\"}\n        style={{ padding: \"0 5px\", justifyContent: \"center\" }}\n      >\n        <IconButton\n          icon={access.icon(\"listItem.check\")}\n          color={access.color(\"texts.secondary\")}\n          onClick={edit}\n        />\n      </Row>\n    );\n  };\n\n  if (mode === \"edit\") {\n    const handleInputChange = e => {\n      setValue(e.target.value.trimStart());\n    };\n\n    return (\n      <ClickAwayListener onClickAway={close}>\n        <Row key={label} onKeyUp={handleOnKeyPrass}>\n          <TextField\n            autoFocus={true}\n            fullWidth={true}\n            value={value}\n            onChange={handleInputChange}\n            label={\"edit\"}\n            variant={\"filled\"}\n          />\n          {renderAddBtn()}\n        </Row>\n      </ClickAwayListener>\n    );\n  }\n\n  const isSelected = selected === `${parent}:${label}`;\n  return (\n    <Srow\n      key={label}\n      menuItem={true}\n      selected={isSelected}\n      onClick={() => {\n        handleRowClick(label);\n      }}\n    >\n      <Label>{label}</Label>\n      {renderButtons()}\n    </Srow>\n  );\n}\n\nexport default ListItem;\n","import styled from 'styled-components';\n\nconst Center = styled.div`   \n  display: flex;\n  flex: 1;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  overflow: ${props => props.overflow || 'auto'};\n`\n\nexport default Center;","import React, { useState, useEffect } from \"react\";\nimport { TextField, ClickAwayListener } from \"@material-ui/core\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Center from \"plugins/Layouts/Center\";\nimport Label from \"plugins/tools/Label\";\nimport IconButton from \"plugins/icons/IconButton\";\n\nlet open = false;\n\nfunction AddRow({ label, handleAdd }) {\n  const [value, setValue] = useState(\"\");\n  const { focusItem } = useBranch({ focusItem: [\"focus\", \"item\"] });\n\n  useEffect(() => {\n    open = false;\n  }, []);\n\n  const handleOnKeyPrass = e => {\n    if (!value) return;\n    switch (e.key) {\n      case \"Escape\":\n        setValue(\"\");\n        break;\n      case \"Enter\":\n        add();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const add = () => {\n    handleAdd(value);\n    setValue(\"\");\n  };\n\n  const renderAddBtn = () => {\n    if (!value) return null;\n\n    return (\n      <Row\n        width={\"50px\"}\n        style={{ padding: \"0 5px\", justifyContent: \"center\" }}\n      >\n        <IconButton\n          icon={access.icon(\"leftPanel.add\")}\n          color={access.color(\"texts.secondary\")}\n          onClick={add}\n        />\n      </Row>\n    );\n  };\n\n  const renderInput = () => {\n    const handleChange = e => {\n      if (!open) open = true;\n      setValue(e.target.value.trimStart());\n    };\n\n    return (\n      <TextField\n        autoFocus={open}\n        fullWidth={true}\n        value={value}\n        onChange={handleChange}\n        label={label}\n        variant={\"filled\"}\n      />\n    );\n  };\n\n  if (focusItem) {\n    return (\n      <Row>\n        <Center>\n          <Label>{focusItem}</Label>\n        </Center>\n      </Row>\n    );\n  }\n\n  return (\n    <ClickAwayListener\n      onClickAway={() => {\n        setValue(\"\");\n      }}\n    >\n      <Row style={{ cursor: \"pointer\" }} onKeyUp={handleOnKeyPrass}>\n        {renderInput()}\n        {renderAddBtn()}\n      </Row>\n    </ClickAwayListener>\n  );\n}\n\nexport default AddRow;\n","import React from \"react\";\n\nimport * as access from \"plugins/access\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport styled from \"styled-components\";\nimport Row from \"plugins/Layouts/Row\";\nimport IconButton from \"plugins/icons/IconButton\";\n\nconst BottomBar = styled(Row)`\n  justify-content: flex-end;\n`;\n\nconst BackRow = styled(Row)`\n  justify-content: center;\n`;\n\nfunction BottomBarMenu({ viewKey }) {\n  const { collapse, dispatch } = useBranch({ collapse: [\"collapse\"] });\n\n  const handleCollapse = () => {\n    dispatch(tree => {\n      tree.set(\"collapse\", !collapse);\n    });\n  };\n\n  const RenderCollapseButton = () => {\n    const iconStyle = { transform: collapse ? \"rotate(180deg)\" : \"rotate(0deg)\" }\n\n    return (\n      <BackRow width={\"50px\"} onClick={handleCollapse}>\n        <IconButton icon={access.icon(\"leftPanel.collapse\")} iconStyle={iconStyle} />\n      </BackRow>\n    );\n  };\n\n  if (viewKey === \"initKey\") return <div></div>;\n\n  return (\n    <BottomBar background={access.color(\"bottomBar.bg\")}>\n      <RenderCollapseButton />\n    </BottomBar>\n  );\n}\n\nexport default BottomBarMenu;\n","import { find } from \"lodash\";\n\nlet types;\n\nexport function setTypes(tree, data) {\n  tree.set(\"types\", data);\n  types = data;\n}\n\nexport function getAllTypes(typesByGroup) {\n  let allTypes = [];\n  for (const g in typesByGroup) {\n    const typs = typesByGroup[g];\n    allTypes = allTypes.concat(Object.entries(typs));\n  }\n\n  allTypes = allTypes.map(el => {\n    let t = {...el[1]};\n    t.type = el[0];\n    return t\n  });\n\n  return allTypes;\n}\n\nexport function getGroupFromType(typ) {\n\n  for (const group in types) {\n      const keys = Object.keys(types[group]);\n      if(keys.includes(typ)){\n        return getOptionFormat(group);\n      } \n  }\n \n  return getOptionFormat('');\n}\n\nexport function getTypesToSelect(group){\n\n  const allTypes = getAllTypes(types);\n\n  let typesToSelect = group ? allTypes.filter((t)=>t.group === group) : allTypes;\n  typesToSelect = typesToSelect.map((t)=>{ \n    const optionFormatFields = getOptionFormat(t.type,t.name);\n    return ({...t, ...optionFormatFields }) \n  });\n\n  return typesToSelect;\n}\n\nexport function getTypeByKey(k) {\n  const allTypes = getAllTypes(types);\n  const type = find(allTypes, el => {\n    return(el.type === k);\n  });\n  return type;\n}\n\nfunction getOptionFormat(value,label) {\n  if(typeof label ===  'undefined') label = value; \n  return { value, label };\n}","const axios = require(\"axios\");\n// let port = 5588;\n\nconst rootUrl = `http://${window.location.host}/mocking_G`;\n\nfunction get(path, params) {\n  const from = `${rootUrl}${path}`;\n  const query = { params };\n\n  return axios.get(from, query);\n}\n\nexport { get };\n","let libraryPack;\nlet typesPack;\n\nexport const setLibraryPack = (pack) => {\n    libraryPack = pack;\n}\n\nexport const getLibraryPack = () => {\n    return libraryPack;\n}\n\nexport const setTypesPack = (pack) => {\n    typesPack = pack;\n}\n\nexport const getTypesPack = () => {\n    return typesPack;\n}\n\n","import { get } from \"plugins/requests\";\nimport { getLibraryPack } from \"plugins/canvases/utils/packUtils\";\n\nexport function setItems(tree, items) {\n  tree.set([\"items\"], items);\n}\n\nexport function generate(tree, { items, amount = 1 }) {\n  get(\"/generate\", { schema: items, amount })\n    .then(res => {\n      tree.set(\"mockData\", res.data);\n    })\n    .catch(err => {\n      //TODO: notify type does not exist\n      tree.set(\"mockData\", null);\n      console.error(err.response);\n    });\n}\n\nexport function tempGenerate(items) {\n  return get(\"/generate\", { schema: items, amount:1 })\n}\n\nfunction replaceSchema(tree, items) {\n  const library = tree.get(\"selectedLibrary\");\n  const category = tree.get(\"selectedCategory\");\n  const libraryPack = getLibraryPack();\n\n  get(\"/replaceSchema\", { schema: items, library, category })\n    .then(res => {\n      tree.set(\"items\", res.data);\n      libraryPack.onChangeFromEditor(library, category, res.data);\n    })\n    .catch(err => {\n      //TODO: notify type does not exist\n      console.error(err.response);\n    });\n}\n\nexport function onSchemaChange(tree, items) {\n  generate(tree, { items, amount: 1 });\n  replaceSchema(tree, items);\n}\n\nfunction getValueByRendererType(renderer) {\n  switch (renderer.type) {\n    case \"number\":\n      return 10;\n    case \"string\":\n      return renderer.placeholder;\n    case \"autocompleteArray\":\n    case \"array\":\n      return [];\n\n    default:\n      return renderer.placeholder;\n  }\n\n  \n}\n\nfunction getAdditionalFields(type) {\n  const { renderer } = type;\n\n  if (!renderer) return {};\n\n  if (renderer.type) {\n    return { value: getValueByRendererType(renderer) };\n  }\n\n  let AdditionalFields = { value: {} };\n  for (const key in renderer) {\n    const innerRenderer = renderer[key];\n    AdditionalFields.value[key] = getValueByRendererType(innerRenderer);\n  }\n\n  return AdditionalFields;\n}\n\nexport function onAddFromPack(tree, type) {\n  get(\"/getTypeByKey\", { type }).then(res => {\n    const additionalFields = getAdditionalFields(res.data);\n    const num = Math.floor(Math.random() * 100);\n\n    let items = { ...tree.get(\"items\") };\n    items[`${type}-${num}`] = {\n      type: type,\n      ...additionalFields\n    };\n\n    onSchemaChange(tree, items);\n  });\n}\n\nexport function changeDragState(tree, value) {\n  tree.set(\"drag\", value);\n}\n\nexport function setItemToFocus(tree, item) {\n  tree.set([\"focus\", \"item\"], item);\n}\n\nexport function setSelected(tree, item) {\n  const cat = tree.get([\"focus\", \"cat\"]);\n  tree.set([\"selected\"], `${cat}:${item}`);\n}\n\nexport function editItem(tree, data) {\n  const library = tree.get([\"focus\", \"lib\"]);\n  const category = tree.get([\"focus\", \"cat\"]);\n\n  const {oldName, newName} = data;\n\n  get(\"/editItem\", {library, category, oldName, newName }).then(res => {\n    tree.set(\"items\", res.data);\n  });\n}\n\nexport function addItem(tree, value) {\n  const library = tree.get([\"focus\", \"lib\"]);\n  const category = tree.get([\"focus\", \"cat\"]);\n\n  const field = JSON.stringify({[value]:{}}, null, 2)\n\n  get(\"/addItem\", { library, category, field })\n    .then(res => {\n      tree.set(\"items\", res.data);\n    })\n    .catch(err => {\n      console.error(err.response);\n    });\n}\n\nexport function removeItem(tree, field) {\n  const focus = tree.get([\"focus\"]);\n  const library = focus.lib;\n  const category = focus.cat;\n\n  get(\"/removeFromSchema\", { library, category, field }).then(res => {\n    tree.set(\"items\", res.data);\n    generate(tree, { items: res.data, amount: 1 });\n  });\n}\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Absolute = styled.div`\n  position: absolute;\n  top: ${props => props.top};\n  bottom: ${props => props.bottom};\n  left: ${props => props.left};\n  right: ${props => props.right};\n  background: transparent;\n`;\n\nAbsolute.defaultProps = {\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0\n  }\n  \n  Absolute.propTypes = {\n    top: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    bottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    left: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    right: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  }\n  \n  \n  export default Absolute","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TextField } from \"@material-ui/core\";\n\nfunction Input({ onFocus, onBlur, onChange, label, initValue, type, ...rest }) {\n  const [value, setValue] = useState(initValue);\n  const inputType = type === 'array' ? 'string' : type;\n\n  const getArrayValues = (values) => {\n    return values.split(',');\n  }\n\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  const handleOnChange = e => {\n    setValue(e.target.value);\n    onChange(e.target.value);\n\n    if(type === 'array'){\n      const value = getArrayValues(e.target.value);\n      onChange(value);\n    }\n  };\n\n  return (\n    <TextField\n      label={label}\n      variant={\"filled\"}\n      onChange={handleOnChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      value={value}\n      type={inputType}\n      fullWidth\n      {...rest}\n    />\n  );\n}\n\nInput.defaultProps = {\n  initValue: \"\",\n  onFocus: ()=>{},\n  onBlur: ()=>{},\n  onChange: ()=>{}, \n  label: 'label',\n  type: 'string'\n};\n\nInput.propTypes = {\n  initValue: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func, \n  label: PropTypes.string,\n  type: PropTypes.string,\n};\n\nexport default Input;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { find } from \"lodash\";\nimport { ClickAwayListener } from \"@material-ui/core\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Column from \"plugins/Layouts/Column\";\nimport Absolute from \"plugins/Layouts/Absolute\";\nimport Label from \"plugins/tools/Label\";\nimport Input from \"plugins/inputs/Input\";\n\nfunction Select({ options, label, onSelect, initValue }) {\n  const [value, setValue] = useState(initValue);\n  const [onFocus, setOnFocus] = useState(false);\n\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  const findInOptions = v => {\n    const selection = find(options, o => {\n      return o.label.toLowerCase() === v;\n    });\n\n    return selection;\n  };\n\n  const renderInput = () => {\n    const onBlur = () => {\n      setTimeout(() => {\n        setOnFocus(false);\n      }, 200);\n    };\n\n    const onChange = v => {\n      setValue({ value: v, label: v });\n\n      const selection = findInOptions(v);\n\n      if (selection) {\n        onSelect(selection);\n      }\n    };\n\n    return (\n      <Input\n        initValue={value.label || \"\"}\n        onFocus={() => {\n          setOnFocus(true);\n        }}\n        onBlur={onBlur}\n        label={label}\n        onChange={onChange}\n      />\n    );\n  };\n\n  const renderList = () => {\n    if (!onFocus) return null;\n\n    const handleSelect = o => {\n      setValue(o);\n      onSelect(o);\n    };\n\n    const list = () => {\n      const filtered = options.filter(o => o.label.toLowerCase().indexOf(value.label) !== -1);\n\n      return filtered.map(o => {\n        return (\n          <Row\n            key={o.value}\n            style={{\n              boxShadow: \"unset\",\n              borderBottom: `1px solid ${access.color(\"backgrounds.secondary\")}`\n            }}\n            background={access.color(\"colors.white\")}\n            menuItem={true}\n            onClick={() => {\n              handleSelect(o);\n            }}\n          >\n            <Label>{o.label}</Label>\n          </Row>\n        );\n      });\n    };\n\n    return (\n      <Absolute top={\"55px\"} style={{ zIndex: 10 }}>\n        <Column height={\"fit-content\"} style={{ maxHeight: 500 }}>\n          {list()}\n        </Column>\n      </Absolute>\n    );\n  };\n\n  const checkSelection = () => {\n    const selection = findInOptions(value.label);\n\n    if (!selection) {\n      setValue(initValue);\n    }\n  };\n\n  return (\n    <ClickAwayListener onClickAway={checkSelection}>\n      <div style={{ position: \"relative\" }}>\n        {renderInput()}\n        {renderList()}\n      </div>\n    </ClickAwayListener>\n  );\n}\n\nSelect.defaultProps = {\n  initValue: { value: \"\", label: \"\" },\n  options: [],\n  label: \"lebel\",\n  onSelect: () => {}\n};\n\nSelect.propTypes = {\n  initValue: PropTypes.object,\n  options: PropTypes.array,\n  label: PropTypes.string,\n  onSelect: PropTypes.func\n};\n\nexport default Select;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Chip } from \"@material-ui/core\";\n\n\nfunction MyChip({onDelete,value}) {\n\n  const handleDelete = ()=>{\n    onDelete(value);\n  }\n\n  return (\n    <Chip style={{margin: 5}} label={value.label} onDelete={handleDelete} variant=\"outlined\" />\n  );\n}\n\nMyChip.defaultProps = {\n    onDelete: ()=>{},\n    value: {}\n};\n\nMyChip.propTypes = {\n    onDelete: PropTypes.func,\n    value: PropTypes.object,\n};\n\nexport default MyChip;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { find, isEmpty } from \"lodash\";\nimport { ClickAwayListener } from \"@material-ui/core\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Column from \"plugins/Layouts/Column\";\nimport Absolute from \"plugins/Layouts/Absolute\";\nimport Label from \"plugins/tools/Label\";\nimport Chip from \"plugins/tools/Chip\";\nimport Input from \"plugins/inputs/Input\";\n\nfunction MultiSelect({ options, label, onSelect, initValue }) {\n  const [multiValue, setMultiValue] = useState(initValue);\n  const [value, setValue] = useState({ value: \"\", label: \"\" });\n  const [onFocus, setOnFocus] = useState(false);\n\n  useEffect(() => {\n    setMultiValue(initValue);\n  }, [initValue]);\n\n  const findInOptions = v => {\n    const selection = find(options, o => {\n      return o.label.toLowerCase() === v;\n    });\n\n    return selection;\n  };\n\n  const checkSelection = () => {\n    const selection = findInOptions(value.label);\n\n    if (!selection) {\n      setMultiValue(initValue);\n    }\n  };\n\n  const getFilteredList = () => {\n    let filtered = options.filter(o => {\n      let toReturn = true;\n\n      multiValue.forEach(v => {\n        if (v.value === o.value) {\n          toReturn = false;\n        }\n      });\n\n      return toReturn;\n    });\n\n    filtered = filtered.filter(o => o.label.toLowerCase().indexOf(value.label) !== -1);\n    return filtered;\n  };\n\n  const handleSelect = o => {\n    setMultiValue([o, ...multiValue]);\n    onSelect([o, ...multiValue]);\n  };\n\n  const setInitValue = () => {\n    setValue({ value: \"\", label: \"\" });\n  }\n\n  const renderInput = () => {\n    const onBlur = () => {\n      setTimeout(() => {\n        setOnFocus(false);\n        setInitValue();\n      }, 200);\n    };\n\n    const onChange = v => {\n      setValue({ value: v, label: v });\n\n      const selection = findInOptions(v);\n\n      if (selection) {\n        onSelect(selection);\n        setInitValue();\n      }\n    };\n\n    const handleOnKeyPrass = e => {\n      switch (e.key) {\n        case \"Escape\":\n          setOnFocus(false);\n          setInitValue();\n          break;\n        case \"Enter\":\n          const firstValue = getFilteredList()[0];\n          if(firstValue) handleSelect(getFilteredList()[0]);\n          setOnFocus(false);\n          setInitValue();\n          break;\n        default:\n          break;\n      }\n    };\n\n    return (\n      <Input\n        initValue={value.label || \"\"}\n        onFocus={() => {\n          setOnFocus(true);\n        }}\n        onBlur={onBlur}\n        onKeyUp={handleOnKeyPrass}\n        label={label}\n        onChange={onChange}\n      />\n    );\n  };\n\n  const renderList = () => {\n    if (!onFocus) return null;\n\n    const list = () => {\n      const filtered = getFilteredList();\n\n      return filtered.map(o => {\n        return (\n          <Row\n            key={o.value}\n            style={{\n              boxShadow: \"unset\",\n              borderBottom: `1px solid ${access.color(\"backgrounds.secondary\")}`\n            }}\n            background={access.color(\"colors.white\")}\n            menuItem={true}\n            onClick={() => {\n              handleSelect(o);\n            }}\n          >\n            <Label>{o.label}</Label>\n          </Row>\n        );\n      });\n    };\n\n    return (\n      <Absolute top={\"55px\"} style={{ zIndex: 10 }}>\n        <Column height={\"fit-content\"} style={{ maxHeight: 500 }}>\n          {list()}\n        </Column>\n      </Absolute>\n    );\n  };\n\n  const renderMultiValue = () => {\n    const handleDelete = value => {\n      const values = multiValue.filter(v => {\n        return v.value !== value.value;\n      });\n      setMultiValue(values);\n      onSelect(values);\n    };\n\n    return multiValue.map(v => {\n      return <Chip key={v.label} value={v} onDelete={handleDelete} />;\n    });\n  };\n\n  const renderChips = () => {\n    if (isEmpty(multiValue)) return null;\n    return <Row style={{ overflowX: \"auto\" }}> {renderMultiValue()} </Row>;\n  };\n\n  return (\n    <ClickAwayListener onClickAway={checkSelection}>\n      <div style={{ position: \"relative\" }}>\n        {renderInput()}\n        {renderList()}\n        {renderChips()}\n      </div>\n    </ClickAwayListener>\n  );\n}\n\nMultiSelect.defaultProps = {\n  initValue: [],\n  options: [],\n  label: \"lebel\",\n  onSelect: () => {}\n};\n\nMultiSelect.propTypes = {\n  initValue: PropTypes.array,\n  options: PropTypes.array,\n  label: PropTypes.string,\n  onSelect: PropTypes.func\n};\n\nexport default MultiSelect;\n","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { isUndefined } from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport AceEditor from \"react-ace\";\nimport { Button, Checkbox } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\n\nimport {\n  getGroupFromType,\n  getTypesToSelect,\n  getTypeByKey\n} from \"tree/actions/types\";\nimport { onSchemaChange, tempGenerate } from \"tree/actions/items\";\nimport { get } from \"plugins/requests\";\n\nimport Column from \"plugins/Layouts/Column\";\nimport Row from \"plugins/Layouts/Row\";\nimport Select from \"plugins/inputs/Select\";\nimport MultiSelect from \"plugins/inputs/MultiSelect\";\nimport Input from \"plugins/inputs/Input\";\nimport Label from \"plugins/tools/Label\";\n\nimport * as access from \"plugins/access\";\n\nconst ButtonsRow = styled(Row)`\n  display: flex;\n  justify-content: space-around;\n  height: ${props => (props.show ? \"50px\" : \"0px\")};\n  min-height: ${props => (props.show ? \"50px\" : \"0px\")};\n  transition: all 500ms;\n`;\n\nfunction getOptionFormat(value, label) {\n  if (typeof label === \"undefined\") label = value;\n  return { value, label };\n}\n\nfunction Inspector({ item }) {\n\n  const g = getGroupFromType(item.type);\n  const [group, setGroup] = useState(g);\n\n  let initType = getTypeByKey(item.type) || getOptionFormat(\"\");\n  initType.label = initType.name || initType.label;\n  const [type, setType] = useState(initType);\n\n  const [tempItem, setTempItem] = useState(item);\n  const [tempData, setTempData] = useState({});\n  const [showButtons, setShowButtons] = useState(false);\n\n  const [prefix, setPrefix] = useState(item.prefix || \"\");\n  const [suffix, setSuffix] = useState(item.suffix || \"\");\n  const [size, setSize] = useState(item.size);\n  const [addEmpty, setAddEmpty] = useState(item.addEmpty || false);\n  const [randomSize, setRandomSize] = useState(item.randomSize || false);\n\n  const [additionalValues, setAdditionalValues] = useState(item.value);\n\n  const { types } = useBranch({ types: [\"types\"] });\n  const groups = Object.keys(types).map(t => {\n    return getOptionFormat(t);\n  });\n\n  const typesToSelect = getTypesToSelect(group.value);\n\n  const { focusedItem } = useBranch({ focusedItem: [\"focus\", \"item\"] });\n  const { focused } = useBranch({ focused: [\"focus\"] });\n  const { items, dispatch } = useBranch({ items: [\"items\"] });\n\n  const [categoriesPath, setCategoriesPath] = useState([]);\n  useEffect(() => {\n    get(\"/getAllCategoriesPath\").then(({data}) => {\n      setCategoriesPath(data);\n    });\n  }, []);\n\n  const revertChanges = () => {\n    setTempItem(item);\n    setSize(item.size);\n    setPrefix(item.prefix);\n    setSuffix(item.suffix);\n    setType(initType);\n    setAddEmpty(item.addEmpty);\n    setGroup(g);\n  };\n\n  const compareItem = () => {\n    let theSame = true;\n\n    tempGenerate({ [focusedItem]: tempItem }).then(res => {\n      setTempData(res.data[0]);\n    });\n\n    if (item.type !== type.type) theSame = false;\n    else if (Boolean(item.size || size) && item.size !== size) theSame = false;\n    else if (\n      (!isUndefined(item.randomSize) || !isUndefined(randomSize)) &&\n      size &&\n      item.randomSize !== randomSize\n    )\n      theSame = false;\n    else if (Boolean(item.prefix || prefix) && item.prefix !== prefix)\n      theSame = false;\n    else if (Boolean(item.suffix || suffix) && item.suffix !== suffix)\n      theSame = false;\n    else if (Boolean(item.addEmpty || addEmpty) && item.addEmpty !== addEmpty )  \n      theSame = false;  \n    else if (JSON.stringify(item.value) !== JSON.stringify(additionalValues))\n      theSame = false;\n\n    if (!theSame) {\n      setShowButtons(true);\n    } else if (showButtons) {\n      setShowButtons(false);\n    }\n  };\n\n  const stableCompare = useCallback(compareItem, [\n    type,\n    size,\n    prefix,\n    suffix,\n    additionalValues,\n    randomSize,\n    addEmpty\n  ]);\n\n  useEffect(() => {\n    stableCompare();\n  }, [type, size, addEmpty, prefix, suffix, additionalValues, randomSize, stableCompare]);\n\n  const changeTypeInSchema = selectedItem => {\n    setType(selectedItem);\n    changeTempItem(\"type\", selectedItem.type);\n  };\n\n  const changeAddEmpty = () => {\n    setAddEmpty(!addEmpty);\n    changeTempItem(\"addEmpty\", !addEmpty);\n  };\n\n  const changeSize = value => {\n    setSize(value);\n    changeTempItem(\"size\", value);\n  };\n\n  const changeRandomSize = () => {\n    setRandomSize(!randomSize);\n    changeTempItem(\"randomSize\", !randomSize);\n  };\n\n  const changePrefix = value => {\n    setPrefix(value);\n    changeTempItem(\"prefix\", value);\n  };\n\n  const changeSuffix = value => {\n    setSuffix(value);\n    changeTempItem(\"suffix\", value);\n  };\n\n  const changeAdditionalValues = value => {\n    setAdditionalValues(value);\n    changeTempItem(\"value\", value);\n  };\n\n  const changeTempItem = (field, value) => {\n    let newItem = { ...tempItem };\n\n    if (value === \"\") {\n      delete newItem[field];\n    } else {\n      newItem[field] = value;\n    }\n\n    setTempItem(newItem);\n  };\n\n  const changeSchema = () => {\n    let newItems = { ...items };\n\n    newItems[focusedItem] = tempItem;\n    dispatch(onSchemaChange, newItems);\n  };\n\n  const handleOnSelectGroup = groupOption => {\n    if (groupOption.value !== group.value) {\n      setGroup(groupOption);\n      getTypesToSelect(groupOption.value);\n      setType(getOptionFormat(\"\"));\n    }\n  };\n\n  const renderFromType = () => {\n    const getRightRender = (ren, i) => {\n      const label = ren[0];\n      const rendererType = ren[1].type;\n      const placeholder = ren[1].placeholder;\n      const value = tempItem.value ? tempItem.value[label] : \"\";\n\n      const updateOptions = (typeOptions = []) => {\n        if(!Array.isArray(typeOptions) && typeOptions === \"getAllCategoriesPath\"){\n          typeOptions = categoriesPath;\n        }\n\n        return typeOptions;\n      }\n\n      const renderNumber = () => {\n        return (\n          <Input\n            key={i}\n            label={access.translate(label)}\n            initValue={value}\n            type={\"number\"}\n            placeholder={placeholder}\n            onChange={v =>\n              changeAdditionalValues({ ...additionalValues, [label]: v })\n            }\n          />\n        );\n      };\n\n      const renderString = () => {\n        return (\n          <Input\n            key={i}\n            label={access.translate(label)}\n            initValue={value}\n            placeholder={placeholder}\n            onChange={v =>\n              changeAdditionalValues({ ...additionalValues, [label]: v })\n            }\n          />\n        );\n      };\n\n      const renderArray = () => {\n        return (\n          <Input\n            key={i}\n            label={access.translate(label)}\n            type={'array'}\n            initValue={value}\n            placeholder={placeholder}\n            onChange={v =>\n              changeAdditionalValues({ ...additionalValues, [label]: v })\n            }\n          />\n        );\n      }\n\n      const renderAutoComplete = () => {\n        let options = updateOptions(ren[1].options).map(o => {\n          return getOptionFormat(o);\n        });\n\n        options = options.filter(o => {\n          return o.value !== `${focused.lib}.${focused.cat}`;\n        });\n\n        return (\n          <Select\n            key={i}\n            label={access.translate(label)}\n            options={options}\n            initValue={getOptionFormat(value)}\n            onSelect={v =>\n              changeAdditionalValues({\n                ...additionalValues,\n                [label]: v.value\n              })\n            }\n          />\n        );\n      };\n\n      const renderAutoCompleteArray = () => {\n\n        let options = updateOptions(ren[1].options).map(o => {\n          return getOptionFormat(o);\n        });\n\n        options = options.filter(o => {\n          return o.value !== `${focused.lib}.${focused.cat}`;\n        });\n\n        const initValue = Array.isArray(value)\n          ? value.map(v => {\n              return getOptionFormat(v);\n            })\n          : [];\n\n        return (\n          <MultiSelect\n            key={i}\n            label={access.translate(label)}\n            options={options}\n            initValue={initValue}\n            onSelect={val =>\n              changeAdditionalValues({\n                ...additionalValues,\n                [label]: val.map(v => {\n                  return v.value;\n                })\n              })\n            }\n          />\n        );\n      };\n\n      const renderersDir = {\n        string: renderString,\n        number: renderNumber,\n        autocomplete: renderAutoComplete,\n        autocompleteArray: renderAutoCompleteArray,\n        array: renderArray\n      };\n\n      return renderersDir[rendererType]\n        ? renderersDir[rendererType]()\n        : renderString();\n    };\n\n    if (type.renderer) {\n      const renderers = Object.entries(type.renderer);\n      return renderers.map(getRightRender);\n    }\n  };\n\n  const renderEditor = () => {\n    const style = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n\n    const options = {\n      showGutter: false,\n      tabSize: 2\n    };\n\n    const code = JSON.stringify(tempData, null, 2);\n\n    return (\n      <div style={{ height: \"400px\", overflow: \"auto\" }}>\n        <AceEditor\n          style={style}\n          mode=\"json\"\n          theme=\"monokai\"\n          name=\"example\"\n          fontSize={14}\n          value={code}\n          setOptions={options}\n        />\n      </div>\n    );\n  };\n\n  const renderButtons = () => {\n    return (\n      <ButtonsRow show={showButtons}>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={revertChanges}>\n          {access.translate(\"Cancel\")}\n        </Button>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={changeSchema}>\n          {access.translate(\"Save\")}\n        </Button>\n      </ButtonsRow>\n    );\n  };\n\n  const renderPrefixSuffix = () => {\n    if (type.pure) return null;\n\n    return (\n      <Fragment>\n        <Input\n          label={access.translate(\"prefix\")}\n          initValue={prefix}\n          onChange={changePrefix}\n        />\n        <Input\n          label={access.translate(\"suffix\")}\n          initValue={suffix}\n          onChange={changeSuffix}\n        />\n      </Fragment>\n    );\n  };\n\n  const Placeholder = () => {\n    return <div style={{ flex: 1 }}></div>;\n  };\n\n  const renderSize = () => {\n    return (\n      <Row\n        style={{\n          boxShadow: \"unset\",\n          borderBottom: \"1px solid rgba(0, 0, 0, 0.42)\"\n        }}\n      >\n        <Input\n          label={access.translate(\"size\")}\n          initValue={size}\n          type={\"number\"}\n          onChange={changeSize}\n        />\n\n        <Label width={\"140px\"} fontSize={\"13px\"}>\n          {access.translate(\"Random Size:\")}\n        </Label>\n\n        <Checkbox\n          style={{marginRight: 5}}\n          checked={randomSize}\n          onChange={changeRandomSize}\n          size=\"small\"\n          value=\"primary\"\n          disabled={!size}\n        />\n      </Row>\n    );\n  };\n\n  const renderAddEmpty = () => {\n    return(\n      <Row>\n        <Label width={\"50%\"} fontSize={\"13px\"}>\n          {access.translate(\"Add possible empty items:\")}\n        </Label>\n        <Checkbox\n          style={{ marginRight: 5 }}\n          checked={addEmpty}\n          onChange={changeAddEmpty}\n          size=\"small\"\n          value=\"primary\" />\n      </Row>\n    );\n  };\n\n  return (\n    <Column flex={1}>\n      <Select\n        label={access.translate(\"group\")}\n        options={groups}\n        initValue={group}\n        onSelect={handleOnSelectGroup}\n      />\n      <Select\n        label={access.translate(\"type\")}\n        options={typesToSelect}\n        initValue={type}\n        onSelect={changeTypeInSchema}\n      />\n\n      {renderSize()}\n      {renderFromType()}\n      {renderPrefixSuffix()}\n      {renderAddEmpty()}\n      <Placeholder />\n      {renderEditor()}\n      {renderButtons()}\n    </Column>\n  );\n}\n\nInspector.defaultProps = {\n  item: \"\"\n};\n\nInspector.propTypes = {\n  item: PropTypes.object\n};\n\nexport default Inspector;\n","import { get } from \"plugins/requests\";\n\nfunction setLibToSelected(tree,lib) {\n  tree.set([\"selectedLibrary\"], lib);\n}\n\nexport function setLibs(tree, data) {\n  tree.set([\"libs\"], data.libraries);\n  setTimeout(() => { \n    tree.set([\"projectName\"], data.projectName);\n  })\n  \n}\n\nexport function setLibToFocus(tree, lib) {\n  tree.set([\"focus\", \"lib\"], lib);\n\n  if(lib){\n    setLibToSelected(tree, lib);\n  }\n}\n\nexport function addLib(tree, lib) {\n  get(\"/addLibrary\", { library: lib })\n    .then(res => {\n      tree.set(\"libs\", res.data);\n    })\n    .catch(err => {\n      console.log(err.response.data.message);\n    });\n}\n\nexport function removeLib(tree, lib) {\n  get(\"/removeLibrary\", { library: lib }).then(res => {\n    tree.set(\"libs\", res.data);\n  });\n}\n\nexport function editLib(tree, data) {\n  const {oldName, newName} = data;\n\n  get(\"/editLibrary\", { oldName, newName }).then(res => {\n    tree.set(\"libs\", res.data);\n  });\n}\n\nexport function getCategoriesFromLibrary(tree, library) {\n  get(\"/getCategoriesFromLibrary\", { library }).then(res => {\n    tree.set(\"cats\", res.data);\n    setTimeout(() => {\n      tree.set([\"focus\", \"lib\"], library);\n      setLibToSelected(tree, library);\n    });\n  });\n}\n","import { getLibraryPack } from \"plugins/canvases/utils/packUtils\";\nimport { get } from \"plugins/requests\";\n\nfunction setCatToSelected(tree,cat) {\n  tree.set([\"selectedCategory\"], cat);\n}\n\nexport function generateFromCat(tree,category, amount = 1) {\n  const library = tree.get([\"focus\", \"lib\"]);\n\n  get(\"/generate\", { library, category, amount }).then((res)=>{\n    tree.set('mockData',res.data);\n  }).catch((err)=>{\n    //TODO: notify type does not exist\n    tree.set('mockData',null);\n    console.log(err.response.data.message)\n  })\n}\n\nexport function setCats(tree, cats) {\n  tree.set([\"cats\"], cats);\n}\n\nexport function setCatToFocus(tree, cat) {\n  tree.set([\"focus\", \"cat\"], cat);\n\n  if(cat){\n    setCatToSelected(tree,cat);\n  }\n}\n\nexport function addCategory(tree, category) {\n  const library = tree.get([\"focus\", \"lib\"]);\n\n  get(\"/addCategory\", { library, category })\n    .then(res => {\n      tree.set(\"cats\", res.data);\n    })\n    .catch(err => {\n      console.log(err.response.data.message);\n    });\n}\n\nexport function editCategory(tree, data) {\n  const library = tree.get([\"focus\", \"lib\"]);\n  const selectedCategory = tree.get(\"selectedCategory\");\n  const {oldName, newName} = data;\n\n  get(\"/editCategory\", {library, oldName, newName }).then(res => {\n    tree.set(\"cats\", res.data);\n\n    if(selectedCategory === oldName){\n      tree.set(\"selectedCategory\", newName);\n    }\n\n  });\n}\n\nexport function removeCategory(tree, category) {\n  const library = tree.get([\"focus\", \"lib\"]);\n\n  get(\"/removeCategory\", { library, category }).then(res => {\n    tree.set(\"cats\", res.data);\n  });\n}\n\nexport function getItemsFromCategory(tree, category) {\n  const library = tree.get([\"focus\", \"lib\"]);\n\n  get(\"/getSchema\", { library, category }).then(res => {\n    tree.set(\"items\", res.data);\n    setTimeout(() => {\n      tree.set([\"focus\", \"cat\"], category);\n      setCatToSelected(tree,category);\n      generateFromCat(tree,category)\n    });\n  });\n}\n\nexport function setKey(tree, { newKey, schemaName }) {\n  const viewKey = tree.get('viewKey');\n  const lib = tree.get(['focus','lib']);\n  \n  if(viewKey !== newKey){\n    tree.set('viewKey',newKey);\n    \n    setTimeout(() => {\n        getLibraryPack().onCategorySelected(lib,schemaName);\n      }, 200) \n  } else {\n    getLibraryPack().onCategorySelected(lib,schemaName);\n  }\n}\n","import React, { useEffect, Fragment, useCallback } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport * as access from \"plugins/access\";\nimport styled from \"styled-components\";\n\nimport Column from \"plugins/Layouts/Column\";\nimport SearchBar from \"plugins/menuPanel/SearchBar\";\nimport ListItem from \"plugins/menuPanel/ListItem\";\nimport AddRow from \"plugins/menuPanel/AddRow\";\nimport BottomBarMenu from \"plugins/menuPanel/BottomBarMenu\";\nimport Inspector from \"plugins/menuPanel/inspector/Inspector\";\n\nimport * as libsActions from \"tree/actions/libs\";\nimport * as catsActions from \"tree/actions/cats\";\nimport * as itemsActions from \"tree/actions/items\";\n\nimport { getLibraryPack } from \"plugins/canvases/utils/packUtils\";\nimport { get } from \"plugins/requests\";\n\nconst CollapseColumn = styled(Column)`\n  min-width: 50px;\n  transition: flex ${access.time(\"schemaPanel.collapse\")}ms;\n  overflow-x: hidden;\n`;\n\nfunction LeftPanel({ viewKey }) {\n  const { libs, dispatch } = useBranch({ libs: [\"libs\"] });\n  const { projectName } = useBranch({ projectName: [\"projectName\"] });\n  const { cats } = useBranch({ cats: [\"cats\"] });\n  const { items } = useBranch({ items: [\"items\"] });\n  const { focus } = useBranch({ focus: [\"focus\"] });\n  const { collapse } = useBranch({ collapse: [\"collapse\"] });\n  const libraryPack = getLibraryPack();\n\n  const stableDispatch = useCallback(dispatch, []) \n\n  useEffect(() => {\n    get(\"/getAllLibraries\").then(res => {\n      stableDispatch(libsActions.setLibs, res.data);\n    });\n  }, [stableDispatch]);\n\n  const RenderList = () => {\n    \n\n    const getListOf = () => {\n      let listOf = \"libs\";\n      if(focus.lib){\n        listOf = \"cats\";\n      }\n      if(focus.cat){\n        listOf = \"items\";\n      }\n      if(focus.item){\n        listOf = \"inspector\";\n      }\n    \n      return listOf;\n    }\n\n    const handleClickOnLib = label => {\n      dispatch(libsActions.getCategoriesFromLibrary, label);\n      libraryPack.onLibrarySelected(label);\n    };\n\n    const handleClickOnCat = label => {\n      dispatch(catsActions.getItemsFromCategory, label);\n      libraryPack.onCategorySelected(focus.lib, label);\n      dispatch(catsActions.setKey, { newKey: \"showSchema\", schemaName: label });\n    };\n\n    const handleClickOnItem = label => {\n      dispatch(itemsActions.setItemToFocus, label);\n    };\n\n    const handleRemoveLib = label => {\n      dispatch(libsActions.removeLib, label);\n      libraryPack.onRemoveLibrary(label);\n    };\n\n    const handleRemoveCat = label => {\n      dispatch(catsActions.removeCategory, label);\n      libraryPack.onRemoveCategory(focus.lib, label);\n    };\n\n    const handleRemoveItem = label => {\n      dispatch(itemsActions.removeItem, label);\n      libraryPack.onRemoveItem(focus.lib, focus.cat, label);\n    };\n\n    const handleEditLib = (oldName, newName) => {\n      dispatch(libsActions.editLib, { oldName, newName });\n      libraryPack.onEditLibrary(oldName, newName);\n    };\n\n    const handleEditCat = (oldName, newName) => {\n      dispatch(catsActions.editCategory, { oldName, newName });\n      libraryPack.onEditCategory(focus.lib, oldName, newName);\n    };\n\n    const handleEditItem = (oldName, newName) => {\n      dispatch(itemsActions.editItem, { oldName, newName });\n      libraryPack.onEditItem(focus.lib, focus.cat, oldName, newName);\n    }\n\n    switch (getListOf()) {\n      case \"libs\":\n        return libs.map(label => (\n          <ListItem\n            key={label}\n            label={label}\n            handleRowClick={handleClickOnLib}\n            handleRemove={handleRemoveLib}\n            handleEdit={handleEditLib}\n          />\n        ));\n      case \"cats\":\n        return cats.map(label => (\n          <ListItem\n            key={label}\n            parent={focus.lib}\n            label={label}\n            handleRowClick={handleClickOnCat}\n            handleRemove={handleRemoveCat}\n            handleEdit={handleEditCat}\n          />\n        ));\n      case \"items\":\n        return Object.keys(items).map(label => (\n          <ListItem\n            key={label}\n            parent={focus.cat}\n            label={label}\n            handleRowClick={handleClickOnItem}\n            handleRemove={handleRemoveItem}\n            handleEdit={handleEditItem}\n          />\n        ));\n      case \"inspector\":\n        return <Inspector item={items[focus.item]} />\n      default:\n        return null;\n    }\n  };\n\n  const RenderAddRow = () => {\n    let addTo = !focus.lib ? \"libs\" : \"cats\";\n    if (focus.lib) {\n      addTo = !focus.cat ? \"cats\" : \"items\";\n    }\n\n    const handleAddLib = value => {\n      value = value.trim();\n      dispatch(libsActions.addLib, value);\n      libraryPack.onAddLibrary(value);\n    };\n\n    const handleAddCat = value => {\n      value = value.trim();\n      dispatch(catsActions.addCategory, value);\n      libraryPack.onAddCategory(focus.lib, value);\n    };\n\n    const handleAddItem = value => {\n      value = value.trim();\n      libraryPack.onAddItem(focus.lib,focus.cat, value);\n      dispatch(itemsActions.addItem, value);\n    };\n\n    switch (addTo) {\n      case \"libs\":\n        return (\n          <AddRow\n            label={access.translate(\"Add Library\")}\n            handleAdd={handleAddLib}\n          />\n        );\n      case \"cats\":\n        return (\n          <AddRow\n            label={access.translate(\"Add Schema\")}\n            handleAdd={handleAddCat}\n          />\n        );\n      case \"items\":\n        return (\n          <AddRow\n            label={access.translate(\"Add Field\")}\n            handleAdd={handleAddItem}\n          />\n        );\n      default:\n        return;\n    }\n  };\n\n  const handleBack = () => {\n    const { lib, cat, item } = focus;\n\n    if(item) {\n      dispatch(itemsActions.setItemToFocus, null);\n    } else if (cat) {\n      dispatch(catsActions.setCatToFocus, null);\n      libraryPack.onBack(lib);\n    } else if (lib) {\n      dispatch(libsActions.setLibToFocus, null);\n      libraryPack.onBack();\n    }\n  };\n\n  const getLabel = () => {\n    const { lib, cat } = focus;\n    if (lib && cat) return `${lib} - ${cat}`;\n    if (lib) return lib;\n    return projectName;\n  };\n\n  const getFlex = () => {\n    if (collapse) {\n      return access.dim(\"flexCollapse.leftPanel\");\n    }\n\n    return access.dim(\"flexViews.leftPanel\");\n  };\n\n  const zIndex = access.dim(\"zIndexViews.leftPanel\");\n  const flex = getFlex();\n  const label = getLabel();\n\n  const renderContent = () => {\n    if (collapse) {\n      return (\n        <Fragment>\n          <CollapseColumn\n            flex={1}\n            background={access.color(\"bottomBar.bg\")}\n          ></CollapseColumn>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <RenderAddRow />\n        <Column flex={1}>\n          <RenderList />\n        </Column>\n      </Fragment>\n    );\n  };\n\n  return (\n    <CollapseColumn\n      flex={flex}\n      zIndex={zIndex}\n      background={access.color(\"menuPanel.bg\")}\n    >\n      <SearchBar label={label} nested={focus.lib} onBack={handleBack} />\n      {renderContent()}\n      <BottomBarMenu viewKey={viewKey} />\n    </CollapseColumn>\n  );\n}\n\nexport default LeftPanel;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport { isEqual } from \"lodash\";\n\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\n\nimport { onSchemaChange } from \"tree/actions/items\";\n\nfunction Editor({ width, isData }) {\n  const editorRef = useRef();\n\n  const { items, dispatch } = useBranch({ items: [\"items\"] });\n  const { mockData } = useBranch({ mockData: [\"mockData\"] });\n  const [initCode, setInitCode] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n\n  const data = isData ? mockData : items;\n  const codeFromProps = JSON.stringify(data, null, 2);\n\n  useEffect(() => {\n    // reset undo maneger\n    if(editorRef.current){\n      const { editor } = editorRef.current;\n      const session = editor.getSession();\n      const undoManager = session.getUndoManager();\n      undoManager.reset();\n      session.setUndoManager(undoManager);\n    }\n  }, [isData])\n\n  if (data !== null && codeFromProps !== initCode) {\n    setInitCode(codeFromProps);\n    setCode(codeFromProps);\n  }\n\n  const updateSchema = newCode => {\n    try {\n      newCode = JSON.parse(newCode);\n      dispatch(onSchemaChange, newCode);\n    } catch (error) {\n      dispatch((tree) => {\n        tree.set(\"mockData\", null);\n      })\n    }\n  };\n\n  const onLoad = () => {};\n\n  const onChange = c => {\n    if(isEqual(c,codeFromProps)) return null;\n\n    setCode(c);\n    if (!isData) {\n      updateSchema(c);\n    }\n  };\n\n  const options = {\n    showLineNumbers: true,\n    tabSize: 2\n  };\n\n  const style = {\n    height: \"100%\",\n    width: width\n  };\n\n  return (\n    <AceEditor\n      ref={editorRef}\n      style={style}\n      debounceChangePeriod={1000}\n      mode=\"json\"\n      theme=\"xcode\"\n      name=\"editor\"\n      onLoad={onLoad}\n      onChange={onChange}\n      fontSize={14}\n      showPrintMargin={true}\n      showGutter={true}\n      highlightActiveLine={true}\n      value={code}\n      setOptions={options}\n    />\n  );\n}\n\nexport default Editor;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Tab, Tabs } from \"@material-ui/core\";\n\nimport * as access from \"plugins/access\";\n\nimport { SpaceAround } from \"plugins/Layouts/Spaces\";\n\n\nconst SwitchButtonCont = styled(SpaceAround)`\nmargin-right: 5px;\n  &:before {\n    content: \"\";\n    height: 35px;\n    margin-right: 5px;\n    border-left: solid 1px ${access.color(\"schemaPanel.divider\")};\n  }\n`;\n\nconst useStyles = makeStyles(props => ({\n  selectedBtn: {\n    color: access.color(\"schemaPanel.selected\"),\n    fontSize: 11\n  },\n  btn: {\n    color: access.color(\"schemaPanel.notSelected\"),\n    fontSize: 11,\n  },\n  indicator: {\n    backgroundColor: access.color(\"schemaPanel.selected\"),\n  }\n}));\n\nfunction SwitchEditorBtn({ onSwitch, value }) {\n  const { mockData } = useBranch({ mockData: [\"mockData\"] });\n\n\n  const handleChange = (e, v) => {\n    onSwitch(v);\n  };\n\n  const CodeSelected = value === \"code\";\n  const disabled = !mockData;\n  const classes = useStyles();\n  const codeClass = CodeSelected ? classes.selectedBtn : classes.btn;\n  const schemaClass = !CodeSelected ? classes.selectedBtn : classes.btn;\n\n  return (\n    <SwitchButtonCont width={\"fit-content\"}>\n      <Tabs value={value} onChange={handleChange} classes={{indicator: classes.indicator}}>\n        <Tab\n          classes={{ root: schemaClass }}\n          label={access.translate(\"schema\")}\n          value={\"schema\"}\n        />\n        <Tab\n          classes={{ root: codeClass }}\n          label={access.translate(\"Generate\")}\n          value={\"code\"}\n          disabled={disabled}\n        />\n      </Tabs>\n    </SwitchButtonCont>\n  );\n}\n\nSwitchEditorBtn.defaultProps = {\n  onSwitch: 1,\n  value: \"100%\"\n};\n\nSwitchEditorBtn.propTypes = {\n  onSwitch: PropTypes.func.isRequired,\n  value: PropTypes.oneOf([\"code\", \"schema\"]).isRequired\n};\n\nexport default SwitchEditorBtn;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction Composer({ createElement, children }) {\n  const mapChildren = children => {\n    return React.Children.map(children, child => {\n\n      if (child.type.isDecorator) {\n        return React.cloneElement(child, {}, mapChildren(child.props.children));\n      }\n      return createElement(child);\n    });\n  };\n\n  return mapChildren(children);\n}\n\nComposer.propsTypes = {\n  createElement: PropTypes.func.isRequired\n};\n\nexport default Composer;\n","import React from \"react\";\nimport PropTypes from 'prop-types'\n\nimport Composer from \"plugins/tools/Composer\";\n\n\nfunction FileDownloader({content, fileName, fileExtension, disabled, children, onClick, ...rest}) {\n\n    const saveFile = (e) => {\n        if (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    \n        let parsed = JSON.stringify(content, null, 4);\n        let blob = new Blob([parsed], { type: 'octet/stream' });\n    \n        let url = window.URL.createObjectURL(blob);\n        let a = document.createElement('a');\n        \n        document.body.appendChild(a);\n        \n        a.href = url;\n        a.download = fileName+'.'+fileExtension;\n    \n        setTimeout(() => {\n            a.click();\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }, 100);\n    };\n\n    const createElement = (child) => {\n     \n        const click = (e) => {\n            if (onClick) {\n                if (disabled) return onClick(e);\n                else {\n                    saveFile(e);\n                    return onClick(e);\n                }\n            } else {\n                return (disabled) ? null : saveFile(e);\n            }\n        }\n\n        return React.cloneElement(child, { onClick: click, ...rest });\n    };\n    \n    \n    return (\n        <Composer createElement={createElement}>\n            {children}\n        </Composer>\n    );\n    \n}\n\nFileDownloader.propsTypes = {\n    content: PropTypes.object.isRequired,\n    fileExtension: PropTypes.string.isRequired,\n    fileName: PropTypes.string,\n    disabled: PropTypes.bool\n}\n\nFileDownloader.defaultProps = {\n    disabled: false,\n    fileName: 'file'\n}\n\nFileDownloader.isDecorator=true;\n\nexport default FileDownloader;\n\n\n        \n    \n\n","import React from \"react\";\nimport PropTypes from 'prop-types'\n\nimport Composer from \"plugins/tools/Composer\";\n\n\nfunction CopyToClipBoard({content, disabled, children, onClick, ...rest}) {\n\n    const copyToClipboard = textToCopy => {\n        try {\n          textToCopy = JSON.stringify(textToCopy, null, 2);\n        } catch (error) {\n          textToCopy = \"unable to stringify data\";\n        }\n    \n        if (navigator.clipboard) {\n          navigator.clipboard.writeText(textToCopy);\n        } else {\n          const el = document.createElement(\"textarea\");\n          el.value = textToCopy;\n          el.style.display = \"none\";\n          document.body.appendChild(el);\n          el.select();\n          document.execCommand(\"copy\");\n          document.body.removeChild(el);\n        }\n      };\n\n    const createElement = (child) => {\n     \n        const click = (e) => {\n            if (onClick) {\n                if (disabled) return onClick(e);\n                else {\n                    copyToClipboard(content);\n                    return onClick(e);\n                }\n            } else {\n                return (disabled) ? null : copyToClipboard(content);\n            }\n        }\n\n        return React.cloneElement(child, { onClick: click, ...rest });\n    };\n    \n    \n    return (\n        <Composer createElement={createElement}>\n            {children}\n        </Composer>\n    );\n    \n}\n\nCopyToClipBoard.propsTypes = {\n    content: PropTypes.object.isRequired,\n    disabled: PropTypes.bool\n}\n\nCopyToClipBoard.defaultProps = {\n    disabled: false\n}\n\nCopyToClipBoard.isDecorator=true;\n\nexport default CopyToClipBoard;\n\n\n        \n    \n\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport * as access from \"plugins/access\";\n\nimport styled from \"styled-components\";\nimport Row from \"plugins/Layouts/Row\";\nimport FileDownloader from \"plugins/tools/FileDownloader\";\nimport CopyToClipBoard from \"plugins/tools/CopyToClipBoard\";\n\nimport IconButton from \"plugins/icons/IconButton\";\n\nconst ButtonsCont = styled(Row)`\n  padding-left: 10px;\n`;\n\nfunction BarButtons({ content, filename }) {\n\n  const CopyButton = () => {\n    return (\n      <CopyToClipBoard content={content}>\n        <IconButton\n          icon={access.icon(\"schemaPanel.copy\")}\n          color={access.color(\"bottomBar.fg\")}\n          iconPadding={8}\n          iconSize={18}\n        />\n      </CopyToClipBoard>\n    );\n  };\n\n  const DownloadButton = () => {\n    return (\n      <FileDownloader\n        content={content}\n        fileName={filename}\n        fileExtension={\"json\"}\n      >\n        <IconButton\n          icon={access.icon(\"schemaPanel.download\")}\n          color={access.color(\"bottomBar.fg\")}\n          iconPadding={8}\n          iconSize={18}\n        />\n      </FileDownloader>\n    );\n  };\n\n  return (\n    <ButtonsCont>\n      <CopyButton />\n      <DownloadButton />\n    </ButtonsCont>\n  );\n}\n\nCopyToClipBoard.propsTypes = {\n  content: PropTypes.object.isRequired,\n  filename: PropTypes.string\n};\n\nCopyToClipBoard.defaultProps = {\n  filename: \"file\"\n};\n\nexport default BarButtons;\n","import React, { useState } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport { generate } from \"tree/actions/items\";\nimport * as access from \"plugins/access\";\n\nimport styled from \"styled-components\";\nimport IconButton from \"plugins/icons/IconButton\";\nimport Row from \"plugins/Layouts/Row\";\nimport BarButtons from \"plugins/schemaPanel/BarButtons\";\n\nconst BottomBar = styled(Row)`\n  justify-content: flex-end;\n  border-right: 1px solid ${access.color(\"schemaPanel.border\")};\n`;\n\nconst AmountInput = styled(\"input\")`\n  width: 60px;\n  margin-left: 25px;\n  padding: 0px 5px;\n  text-align: center;\n  outline-color: ${access.color(\"bottomBar.outline\")}\n  font-weight: 600;\n`;\n\nfunction BottomBarGen(params) {\n  const { mockData, dispatch } = useBranch({ mockData: [\"mockData\"] });\n  const { items } = useBranch({ items: [\"items\"] });\n  const { focus } = useBranch({ focus: [\"focus\"] });\n  const [amount, setAmount] = useState(1);\n  const fileName = `${focus.lib}_${focus.cat}`;\n\n  const gen = () => {\n    dispatch(generate, { items, amount });\n  };\n\n  const PlayButton = () => {\n    const btnStyle = { marginRight: 10, marginLeft: 10 };\n\n    return (\n      <IconButton\n        icon={access.icon(\"schemaPanel.play\")}\n        color={access.color(\"bottomBar.fg\")}\n        onClick={gen}\n        btnStyle={btnStyle}\n      />\n    );\n  };\n\n  const RenderAmountInput = () => {\n    const handleSetAmount = e => {\n      let value = e.target.value;\n\n      value = value < 1 ? 1 : value;\n      value = value > 10000 ? 10000 : value;\n\n      setAmount(value);\n    };\n\n    return (\n      <AmountInput\n        type={\"number\"}\n        value={amount}\n        onChange={handleSetAmount}\n        autoFocus={true}\n      />\n    );\n  };\n\n  return (\n    <BottomBar background={access.color(\"bottomBar.bg\")}>\n      <BarButtons content={mockData} filename={fileName} />\n      <RenderAmountInput />\n      <PlayButton />\n    </BottomBar>\n  );\n}\n\nexport default BottomBarGen;\n","import React from \"react\";\n\nimport * as access from \"plugins/access\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport styled from \"styled-components\";\nimport Row from \"plugins/Layouts/Row\";\nimport BarButtons from \"plugins/schemaPanel/BarButtons\";\n\nconst BottomBar = styled(Row)`\n  border-right: 1px solid ${access.color(\"schemaPanel.border\")}\n`;\n\nfunction BottomBarSchema(params) {\n  const { items } = useBranch({ items: [\"items\"] });\n  const { focus } = useBranch({ focus: [\"focus\"] });\n  const fileName = `${focus.lib}_${focus.cat}_schema`;\n\n  return (\n    <BottomBar background={access.color(\"bottomBar.bg\")}>\n      <BarButtons content={items} filename={fileName} />\n    </BottomBar>\n  );\n}\n\nexport default BottomBarSchema;\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Mask = styled.div`\n  position: absolute;\n  top: ${props => props.top || 0};\n  bottom: ${props => props.bottom || 0};\n  left: ${props => props.left || 0};\n  right: ${props => props.right || 0};\n  opacity: ${props => props.opacity};\n  background: ${props => props.mask};\n`;\n\nMask.defaultProps = {\n    opacity: 0.7,\n    mask: 'white',\n  }\n  \n  Mask.propTypes = {\n    opacity: PropTypes.number,\n    mask: PropTypes.string,\n  }\n  \n  \n  export default Mask","import React, { useState } from \"react\";\nimport * as access from \"plugins/access\";\nimport styled from \"styled-components\";\n\n\nimport Center from \"plugins/Layouts/Center\";\nimport Label from \"plugins/tools/Label\";\nimport Mask from \"plugins/tools/Mask\";\n\nconst RoundWrapper = styled('div')`\n  width: ${p => !p.open ? '0px' : '285px'};\n  height: ${p => !p.open ? '0px' : '285px'};\n  overflow: hidden;\n  background: ${access.color(\"backgrounds.primary\")};\n  color: ${access.color(\"texts.primary\")};\n  border-radius: 50%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  transition: all 250ms;\n`;\n\nfunction DragMask({ text }) {\n  const [open, setOpen] = useState(false);\n\n  const handleOnMouseEnter = e => {\n    setOpen(true);\n  };\n\n  const handleOnMouseLeave = e => {\n    setOpen(false);\n  };\n\n  const renderAdd = () => {\n    return (\n      <Center>\n        <RoundWrapper open={open}>\n          <Label fontSize={\"30px\"} weight={700} style={{maxWidth:'250px'}}>\n            {text}\n          </Label>\n        </RoundWrapper>\n      </Center>\n    );\n  };\n\n  return (\n    <Mask\n      opacity={0.8}\n      mask={access.color(\"schemaPanel.bg\")}\n      onMouseEnter={handleOnMouseEnter}\n      onMouseLeave={handleOnMouseLeave}\n      style={{ transition: `background 250ms` }}\n    >\n      {renderAdd()}\n    </Mask>\n  );\n}\n\nexport default DragMask;\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { v4 } from 'node-uuid';\n\nexport default class Start extends Component {\n  constructor(props) {\n    super(props);\n\n    this.width = 0;\n    this.height = 0;\n    this.measure = this.measure.bind(this);\n    this.createCanvas = this.createCanvas.bind(this);\n  }\n\n  componentDidMount() {\n    this.measure();\n    const canvas = this.createCanvas();\n    this.do(canvas);\n  }\n\n  do(canvas) {\n    const { margin } = this.props;\n    const width = this.width - (margin.left + margin.right);\n    const height = this.height - (margin.top + margin.bottom);\n\n    return this.props.canvasReady(canvas, width, height);\n  }\n\n  createCanvas() {\n    const { margin } = this.props;\n\n    const canvas = d3\n      .select(`#${this.id}`)\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    return canvas;\n  }\n\n  measure() {\n    const cont = document.getElementById(this.id);\n    const Bounding = cont.getBoundingClientRect();\n\n    this.width = Bounding.width;\n    this.height = Bounding.height;\n  }\n\n  render() {\n    this.id = 'cont' + v4();\n\n    return <div id={this.id} style={{ height: '100%', width: '100%' }} />;\n  }\n}\n\nStart.defaultProps = {\n  margin: {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }\n};\n","import * as d3 from \"d3\";\n\nlet prevMousePlace = null;\n\nexport const move = (canvas, board, color) => {\n  const line = d3\n    .line()\n    .x(d => d.x)\n    .y(d => d.y)\n    .curve(d3.curveBasis);\n\n  board.on(\"mouseout\", () => {\n    prevMousePlace = null;\n  });\n\n  board.on(\"mousemove\", (d, i) => {\n    const mousePlace = {\n      x: d3.event.offsetX - 2,\n      y: d3.event.offsetY - 2\n    };\n\n    if (!prevMousePlace) {\n      prevMousePlace = mousePlace;\n      return;\n    }\n\n    const data = [prevMousePlace, mousePlace];\n\n    prevMousePlace = mousePlace;\n\n    canvas\n      .append(\"path\")\n      .attr(\"d\", line(data))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", color)\n      .attr(\"stroke-width\", 2)\n      .transition()\n      .duration(450)\n      .attr(\"stroke-width\", 0)\n      .ease(t => d3.easeBounceOut(t))\n      .transition()\n      .duration(10)\n      .remove();\n  });\n};\n\nexport const dropCircles = (canvas, height, board, color) => {\n  board.on(\"mousemove\", (d, i) => {\n    const mousePlace = {\n      x: d3.event.offsetX,\n      y: d3.event.offsetY\n    };\n\n    canvas\n      .append(\"circle\")\n      .attr(\"cx\", mousePlace.x - 1)\n      .attr(\"cy\", mousePlace.y - 1)\n      .attr(\"r\", 1)\n      .attr(\"fill\", color)\n      .transition()\n      .duration(2000)\n      .attr(\"cy\", height)\n      .ease(t => d3.easeCircleIn(t))\n      .transition()\n      .duration(10)\n      .remove();\n  });\n};\n\nexport const ripple = (canvas, board, color = \"white\") => {\n  board.on(\"click\", (d, i) => {\n    const mousePlace = {\n      x: d3.event.offsetX,\n      y: d3.event.offsetY\n    };\n\n    const circle = canvas\n      .append(\"circle\")\n      .attr(\"cx\", mousePlace.x)\n      .attr(\"cy\", mousePlace.y)\n      .attr(\"r\", 1)\n      .attr(\"fill\", color)\n      .attr(\"fill-opacity\", 0.3);\n\n    ripple(canvas, circle, color);\n\n    circle\n      .transition()\n      .duration(500)\n      .attr(\"r\", 70)\n      .attr(\"fill-opacity\", 0)\n      .transition()\n      .duration(10)\n      .remove();\n  });\n};\n","import React, { useState } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport * as access from \"plugins/access\";\n\nimport Start from \"plugins/tools/Start\";\nimport { dropCircles } from \"plugins/canvases/utils/canvasActions\";\nimport \"plugins/canvases/style.css\";\n\nfunction OpenPanelCanvas() {\n    const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\n    const [close, setclose] = useState(false);\n\n    if(close) return null;\n\n    if(viewKey !== \"initKey\"){\n        setTimeout(() => {\n            setclose(true);\n        }, access.time('schemaPanel.removeCanvas'));\n    }\n\n    const createFrame = (canvas, width, height) => {\n        const frame = canvas\n          .append(\"rect\")\n          .attr(\"width\", width)\n          .attr(\"height\", height)\n          .attr(\"fill\", access.color(\"canvases.fg\"))\n\n\n        frame.transition()\n          .duration(access.time('schemaPanel.removeCanvas'))          \n          .attr(\"fill\", \"transparent\");\n\n    \n        return frame;\n      };\n \n\n  const onCanvasReady = (canvas, width, height) => {\n    const frame = createFrame(canvas, width, height);\n    dropCircles(canvas, height, frame, access.color(\"canvases.fg\"));    \n  };\n\n  const renderStart = () => {\n    const margin = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    return <Start canvasReady={onCanvasReady} margin={margin} />;\n  };\n\n  return (\n    <div style={{ height:'100vh', width: '100vw', overflow: 'hidden'}}>\n      {renderStart()}\n    </div>\n  );\n}\n\nexport default OpenPanelCanvas;\n","import React, { useState, useRef } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\n\nimport styled from \"styled-components\";\n\nimport * as access from \"plugins/access\";\n\nimport Row from \"plugins/Layouts/Row\";\nimport Column from \"plugins/Layouts/Column\";\nimport Center from \"plugins/Layouts/Center\";\nimport Label from \"plugins/tools/Label\";\nimport Editor from \"plugins/editor/Editor\";\nimport SwitchEditorBtn from \"plugins/schemaPanel/SwitchEditorBtn\";\nimport BottomBarGen from \"plugins/schemaPanel/BottomBarGen\";\nimport BottomBarSchema from \"plugins/schemaPanel/BottomBarSchema\";\nimport DragMask from \"plugins/schemaPanel/DragMask\";\nimport OpenPanelCanvas from \"plugins/canvases/OpenPanelCanvas\";\n\nconst Placeholder = styled('div')`\n  flex:1\n`\n\nconst Srow = styled(Row)`\n  flex: ${props => props.flex};\n  transition: flex ${access.time(\"schemaPanel.collapse\")}ms;\n`;\n\nconst TopBar = styled(Row)`\n  justify-content: space-between;\n  border-right: 1px solid ${access.color(\"schemaPanel.border\")}\n`;\n\nconst InnerColumn = styled(Column)`\n  min-width: 0;\n  transition: flex ${access.time(\"schemaPanel.transition\")}ms;\n  border-right: 1px solid ${access.color(\"schemaPanel.border\")}\n  overflow: hidden;\n  box-shadow: unset;\n`;\n\nfunction SchemaPanel() {\n\n  const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\n  const { dragState } = useBranch({ dragState: [\"drag\"] });\n  const { collapse } = useBranch({ collapse: [\"collapse\"] });\n  const { selectedCategory } = useBranch({\n    selectedCategory: [\"selectedCategory\"]\n  });\n\n  const editorWrapper = useRef();\n  const [editorWidth, setEditorWidth] = useState(0);\n  const [editorToRender, setEditorToRender] = useState(\"schema\");\n\n  const handleSwitchEditor = v => {\n    setEditorToRender(v);\n  };\n\n  const openPanelCanvas = () => {\n    if (viewKey === \"initKey\") return null;\n\n    return <OpenPanelCanvas />;\n  };\n\n  const dragCanvas = () => {\n    if (!dragState) return null;\n\n    return <DragMask text={dragState} />;\n  };\n\n  const renderEditor = () => {\n    const isData = editorToRender === \"code\" ? true : false;\n\n    if (viewKey === \"initKey\") {\n      return null;\n    } else if(collapse || editorWidth !== 0){\n      setTimeout(() => {\n        if (editorWrapper.current) {\n          setEditorWidth(editorWrapper.current.getBoundingClientRect().width);\n        }\n      }, 600);\n    } else {\n      setTimeout(() => {\n        if (editorWrapper.current) {\n          setEditorWidth(editorWrapper.current.getBoundingClientRect().width);\n        }\n      }, access.time(\"schemaPanel.showEditor\"));\n    }\n\n    if (editorWidth === 0) return <Placeholder/>;\n    const width = editorWidth;\n\n    return <Editor isData={isData} width={width} />;\n  };\n\n  const RenderActionBar = () => {\n    return (\n      <TopBar background={access.color(\"searchBar.bg\")}>\n        <Center style={{ minWidth: 50 }} overflow={\"hidden\"}>\n          <Label color={access.color(\"searchBar.fg\")}>{selectedCategory}</Label>\n        </Center>\n        <SwitchEditorBtn\n          onSwitch={handleSwitchEditor}\n          value={editorToRender}\n        />\n      </TopBar>\n    );\n  };\n\n  const RenderBottomBar = () => {\n    if (editorToRender === \"schema\") {\n      return <BottomBarSchema />;\n    }\n\n    return <BottomBarGen />;\n  };\n\n  const getFlex = () => {\n    if (viewKey !== \"initKey\"){\n\n      if(collapse){\n        return access.dim(\"flexCollapse.schemaPanel\");\n      }\n\n      return access.dim(\"flexViews.schemaPanel\");\n    } \n    return 0;\n  };\n\n  const getInnerFlex = () => {\n    if (viewKey !== \"initKey\") return 1;\n    return 0;\n  };\n\n  const flex = getFlex();\n  const InnerFlex = getInnerFlex();\n\n  const zIndex = access.dim(\"zIndexViews.schemaPanel\");\n\n  return (\n    <Srow\n      ref={editorWrapper}\n      flex={flex}\n      zIndex={zIndex}\n      background={access.color(\"canvases.bg\")}\n      height={\"100%\"}\n      shadowColor={\"none\"}\n    >\n      <InnerColumn flex={InnerFlex} background={access.color(\"schemaPanel.bg\")}>\n        <RenderActionBar />\n        {openPanelCanvas()}\n        {renderEditor()}\n        {dragCanvas()}\n        <RenderBottomBar />\n      </InnerColumn>\n    </Srow>\n  );\n}\n\nexport default SchemaPanel;\n","import * as d3 from \"d3\";\nimport { isEmpty, get } from \"lodash\";\nimport * as access from \"plugins/access\";\n\nimport { move } from \"plugins/canvases/utils/canvasActions\";\n\nexport default class Pack {\n  constructor(params) {\n    this.circlePadding = get(params, \"circlePadding\", 30);\n    this.margin = get(params, \"margin\", 45);\n    this.marginBottom = get(params, \"marginBottom\", 10);\n    this.marginRight = get(params, \"marginRight\", 22);\n    this.showMainCircle = get(params, \"showMainCircle\", true);\n    this.limitByLevel = get(params, \"limitByLevel\", 10);\n    this.fillOpacity = get(params, \"fillOpacity\", 0.8);\n\n    this.moveOnCircleColor = get(\n      params,\n      \"moveOnCircleColor\",\n      access.color(\"canvases.moveOnCircle\")\n    );\n    this.moveOnTextColor = get(\n      params,\n      \"moveOnTextColor\",\n      access.color(\"canvases.moveOnText\")\n    );\n\n    this.getTranslate = this.getTranslate.bind(this);\n    this.createPack = this.createPack.bind(this);\n    this.normalizeData = this.normalizeData.bind(this);\n\n    this.firstLevelClick = () => {};\n    this.secondLevelClick = () => {};\n    this.thirdLevelClick = () => {};\n    this.onClick = () => {};\n\n    this.clickIsBlock = false;\n    this.packDomain = 0;\n    this.colorScaleRange = [\n      access.color(\"canvases.packBgStart\"),\n      access.color(\"canvases.packBgEnd\")\n    ];\n\n    this.clickColor = access.color(\"canvases.clickColor\");\n\n    this.textClasses = {\n      in: \"light-text\",\n      out: \"text\"\n    };\n\n    this.init(params);\n  }\n\n  init(params) {\n    this.canvas = params.canvas;\n    this.width = params.width;\n    this.height = params.height;\n    this.mainGroup = this.canvas.append(\"g\").attr(\"class\", \"pack\");\n  }\n\n  initWithData(data, projectName) {\n    this.mainData = this.normalizeData(data, null, projectName);\n    this.createPack(this.mainData, true);\n  }\n\n  normalizeData(data, newData, projectName = \"Gen\") {\n    if (!newData)\n      newData = {\n        name: projectName,\n        value: 1,\n        children: [],\n        id: projectName,\n        level: 0\n      };\n\n    if (typeof data == \"string\" || typeof data == \"number\") {\n      newData.value = 1;\n      newData.name = `${newData.name}: ${data}`;\n      delete newData.children;\n      return newData;\n    }\n\n    for (const key in data) {\n      const d = {\n        name: key,\n        nameKey: key,\n        value: 1,\n        children: [],\n        id: `${newData.id}-${key}`,\n        level: newData.level + 1\n      };\n\n      if (this.limitByLevel === newData.level + 1) {\n        d.name = data[key].name || key;\n      }\n\n      const countBack = this.normalizeData(data[key], d);\n\n      newData.value += countBack.value;\n      newData.children.push(d);\n    }\n\n    return newData;\n  }\n\n  createPack(data, isMainData) {\n    const {\n      width,\n      height,\n      margin,\n      circlePadding,\n      showMainCircle,\n      limitByLevel\n    } = this;\n    const size = [width - margin, height - margin];\n\n    if (isMainData) this.mainData = data;\n    this.packDomain = data.value;\n\n    const packLayout = d3\n      .pack()\n      .size(size)\n      .padding(circlePadding);\n\n    const treeRoot = d3.hierarchy(data);\n    packLayout(treeRoot);\n\n    let nodes = treeRoot.descendants();\n\n    nodes = nodes.filter(n => {\n      if (n.data.level > limitByLevel) return false;\n      if (showMainCircle) return n.depth < 3;\n      return n.depth > 0 && n.depth < 3;\n    });\n\n    this.createNodes(nodes);\n  }\n\n  createNodes(nodes) {\n    const { moveOnCircleColor, moveOnTextColor, canvas, mainGroup } = this;\n\n    this.paintCircles(nodes);\n    this.paintTexts(nodes);\n    const circles = mainGroup.selectAll(\"circle\");\n    const texts = mainGroup.selectAll(\"text\");\n\n    move(canvas, circles, moveOnCircleColor);\n    move(canvas, texts, moveOnTextColor);\n\n    this.handleNodeClick(circles, texts);\n    this.handleNodeDrag(circles, texts);\n  }\n\n  handleNodeDrag(circles, texts) {}\n\n  paintCircles(nodes) {\n    const { colorScaleRange, packDomain, mainGroup } = this;\n\n    const colorScale = d3\n      .scaleLinear()\n      .domain([0, packDomain])\n      .range(colorScaleRange);\n\n    const enterCircles = c => {\n      c.enter()\n        .append(\"circle\")\n        .attr(\"id\", d => `circle-${d.data.id}`)\n        .attr(\"r\", 0)\n        .attr(\"transform\", this.getTranslate)\n        .attr(\"fill-opacity\", this.fillOpacity)\n        .transition()\n        .duration(2000)\n        .attr(\"fill\", d => colorScale(d.data.value))\n        .attr(\"transform\", this.getTranslate)\n        .attr(\"r\", d => d.r);\n    };\n\n    const exitCircles = c => {\n      c.exit()\n        .transition()\n        .duration(2000)\n        .attr(\"r\", 0)\n        .transition()\n        .remove();\n    };\n\n    const updateCircles = c => {\n      c.transition()\n        .duration(2000)\n        .attr(\"fill\", d => colorScale(d.data.value))\n        .attr(\"transform\", this.getTranslate)\n        .attr(\"r\", d => d.r);\n    };\n\n    const circles = mainGroup.selectAll(\"circle\").data(nodes, d => d.data.id);\n\n    enterCircles(circles);\n    exitCircles(circles);\n    updateCircles(circles);\n\n    return circles;\n  }\n\n  paintTexts(nodes) {\n    const { mainGroup, textClasses, limitByLevel } = this;\n\n    const childrenScope = d => {\n      return (\n        isEmpty(d.data.children) ||\n        d.depth === 2 ||\n        d.data.level >= limitByLevel\n      );\n    };\n\n    const adaptText = d => {\n      let text = d.data.name;\n      let radius = d.r;\n      let cutIn = 25;\n\n      if (childrenScope(d)) {\n        cutIn = radius < 80 ? 16 : cutIn;\n        cutIn = radius < 70 ? 14 : cutIn;\n        cutIn = radius < 40 ? 12 : cutIn;\n        cutIn = radius < 35 ? 9 : cutIn;\n        cutIn = radius < 30 ? 7 : cutIn;\n        cutIn = radius < 20 ? 3 : cutIn;\n        cutIn = radius < 14 ? 0 : cutIn;\n\n        if (text.length <= cutIn) return text;\n        return text.substring(0, cutIn) + \"...\";\n      }\n\n      return text;\n    };\n\n    const getFontSize = (d, isChildren) => {\n      if (isChildren) {\n        return Math.min(Math.max(d.r, 30) / 4, 36);\n      }\n\n      return Math.min(d.r, 60) / 3;\n    };\n\n    const getTextPosition = d => {\n      if (d.depth === 0 && !isEmpty(d.data.children)) return -(d.r + 10);\n      return childrenScope(d) ? 0 : -(d.r + 5);\n    };\n\n    const enterTexts = t => {\n      t.enter()\n        .append(\"text\")\n        .attr(\"id\", d => `text-${d.data.id}`)\n        .attr(\"transform\", this.getTranslate)\n        .attr(\"y\", getTextPosition)\n        .attr(\"class\", d =>\n          childrenScope(d) ? textClasses.in : textClasses.out\n        )\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"0\")\n        .text(d => adaptText(d))\n        .transition()\n        .duration(2000)\n        .attr(\"font-size\", d => getFontSize(d, childrenScope(d)));\n    };\n\n    const exitTexts = t => {\n      t.exit()\n        .transition()\n        .duration(2000)\n        .attr(\"font-size\", 0)\n        .transition()\n        .remove();\n    };\n\n    const updateTexts = t => {\n      t.transition()\n        .duration(1000)\n        .attr(\"font-size\", 0)\n        .transition()\n        .duration(10)\n        .attr(\"transform\", this.getTranslate)\n        .transition()\n        .duration(1000)\n        .text(d => adaptText(d))\n        .attr(\"y\", getTextPosition)\n        .attr(\"class\", d =>\n          childrenScope(d) ? textClasses.in : textClasses.out\n        )\n        .attr(\"font-size\", d => getFontSize(d, childrenScope(d)));\n    };\n\n    const texts = mainGroup.selectAll(\"text\").data(nodes, d => d.data.id);\n\n    enterTexts(texts);\n    exitTexts(texts);\n    updateTexts(texts);\n\n    return texts;\n  }\n\n  navigateBack(data) {}\n\n  handleNodeClick(circles, text) {\n    const blockButton = (t = 1000) => {\n      this.clickIsBlock = true;\n      setTimeout(() => {\n        this.clickIsBlock = false;\n      }, t);\n    };\n\n    const clickAction = n => {\n      if (this.clickIsBlock) return;\n      if (n.depth === 0) {\n        this.navigateBack(n.data);\n        return;\n      }\n      if (n.depth === 2) n = n.parent;\n\n      switch (n.data.level) {\n        case 1:\n          this.firstLevelClick(n.data.name);\n          break;\n        case 2:\n          this.secondLevelClick(n.data.name);\n          break;\n        case 3:\n          this.thirdLevelClick(n.data.name);\n          break;\n\n        default:\n          this.onClick(n.data.name);\n          break;\n      }\n\n      if(n.depth){\n        blink(n.data);\n      }\n\n      if (n.data.level < this.limitByLevel) {\n        this._clickAction && this._clickAction();\n        this.createPack(n.data);\n        blockButton();\n      }\n    };\n\n    const blink = (data) => {\n      const circle = d3.select(`#circle-${data.id}`);\n      let orininalColor;\n      \n      try {\n        orininalColor = circle.attr(\"fill\");\n      } catch (error) {\n        return null;\n      }\n\n      if(this.lastClickedId === data.id){\n        setTimeout(() => {\n          if(this.lastClickedId === data.id) this.lastClickedId = null;\n        }, 1000)\n        \n        return null;\n      } else {\n        this.lastClickedId = data.id;\n      }\n\n      circle\n        .transition()\n        .duration(200)\n        .attr(\"fill\", this.clickColor)\n        .transition()\n        .duration(600)\n        .attr(\"fill\", orininalColor);\n    }\n\n    circles.on(\"click\", n => {\n      clickAction(n);\n    });\n\n    text.on(\"click\", n => {\n      clickAction(n);\n    });\n  }\n\n  getTranslate(d) {\n    return `translate(${d.x + this.margin - this.marginRight},${d.y +\n      this.margin -\n      this.marginBottom})`;\n  }\n\n  setLevelClick(level, func) {\n    switch (level) {\n      case 1:\n        this.firstLevelClick = func;\n        break;\n      case 2:\n        this.secondLevelClick = func;\n        break;\n      case 3:\n        this.thirdLevelClick = func;\n        break;\n\n      default:\n        this.onClick = func;\n        break;\n    }\n  }\n\n  scaleDown() {\n    this.mainGroup\n      .transition()\n      .duration(2000)\n      .attr(\n        \"transform\",\n        `translate(${this.width / 2},${this.height / 2}), scale(0)`\n      );\n  }\n\n  scaleUp() {\n    this.mainGroup\n      .transition()\n      .duration(2000)\n      .attr(\"transform\", `translate(0,0), scale(1)`);\n  }\n}\n","import { v4 } from \"node-uuid\";\nimport { find, findIndex } from \"lodash\";\nimport Pack from \"plugins/canvases/pack/Pack\";\n\nexport default class LibraryPack extends Pack {\n  constructor(params) {\n    super(params);\n\n    this.limitByLevel = 3;\n  }\n\n  findLibrary(lib) {\n    const library = find(this.mainData.children, c => {\n      return c.name === lib;\n    });\n\n    return library;\n  }\n\n  findCategory(lib, cat) {\n    const category = find(lib.children, l => {\n      return l.name === cat;\n    });\n\n    return category;\n  }\n\n  findItem(category, item) {\n    const it = find(category.children, l => {\n      return l.name === item;\n    });\n\n    return it;\n  }\n\n  onLibrarySelected(lib) {\n    const library = this.findLibrary(lib);\n    this.createPack(library);\n  }\n\n  onCategorySelected(lib, cat) {\n    const library = this.findLibrary(lib);\n    const category = this.findCategory(library, cat);\n    this.createPack(category);\n  }\n\n  onItemSelected(lib, cat, it) {\n    const library = this.findLibrary(lib);\n    const category = this.findCategory(library, cat);\n    const item = this.findItem(category, it);\n    this.createPack(item);\n  }\n\n  onEditLibrary(oldName, newName) {\n    const { mainData } = this;\n\n    mainData.children = mainData.children.map(l => {\n      if (l.name === oldName) {\n        l.name = newName;\n      }\n      return l;\n    });\n\n    this.createPack(mainData);\n  }\n\n  onEditCategory(lib, oldName, newName) {\n    const library = this.findLibrary(lib);\n\n    library.children = library.children.map(c => {\n      if (c.name === oldName) {\n        c.name = newName;\n      }\n      return c;\n    });\n\n    this.createPack(library);\n  }\n\n  onEditItem(lib, cat, oldName, newName) {\n    const library = this.findLibrary(lib);\n    const category = this.findCategory(library, cat);\n\n    category.children = category.children.map(i => {\n      if (i.name === oldName) {\n        i.name = newName;\n      }\n      return i;\n    });\n    \n    this.createPack(category);\n  }\n\n  onRemoveLibrary(lib) {\n    const { mainData } = this;\n\n    mainData.children = mainData.children.filter(l => {\n      return l.name !== lib;\n    });\n\n    this.createPack(mainData);\n  }\n\n  onRemoveCategory(lib, cat) {\n    const library = this.findLibrary(lib);\n    library.children = library.children.filter(l => l.name !== cat);\n    this.createPack(library);\n  }\n\n  onRemoveItem(lib, cat, it) {\n    const library = this.findLibrary(lib);\n    const category = this.findCategory(library, cat);\n\n    category.children = category.children.filter(l => l.name !== it);\n    this.createPack(category);\n  }\n\n  onAddLibrary(newLib) {\n    const { mainData } = this;\n\n    if(find(mainData.children,(c)=>{return c.name === newLib})) return null;\n\n    mainData.children.push({\n      name: newLib,\n      value: 1,\n      children: [],\n      id: v4(),\n      level: 1\n    });\n\n    this.createPack(mainData);\n  }\n\n  onAddCategory(lib, newCat) {\n    const library = this.findLibrary(lib);\n\n    if(find(library.children,(c)=>{return c.name === newCat})) return null;\n\n    library.children.push({\n      name: newCat,\n      value: 1,\n      children: [],\n      id: v4(),\n      level: 2\n    });\n\n    this.createPack(library);\n  }\n\n  onAddItem(lib,cat,newItem) {\n    const library = this.findLibrary(lib);\n    const category = this.findCategory(library, cat);\n\n    if(find(category.children,(c)=>{return c.name === newItem})) return null;\n\n    category.children.push({\n      name: newItem,\n      value: 1,\n      children: [],\n      id: v4(),\n      level: 2\n    });\n    \n    this.createPack(category);\n  }\n\n  onChangeFromEditor(lib, cat, editorData) {\n    const { mainData } = this;\n\n    const library = this.findLibrary(lib);\n    let category = this.findCategory(library, cat);\n\n    const root = {\n      name: category.name,\n      value: 1,\n      children: [],\n      id: category.id,\n      level: 2\n    };\n\n    category = this.normalizeData(editorData, root);\n\n    const libIndex = findIndex(mainData.children, [\"name\", lib]);\n    const catIndex = findIndex(library.children, [\"name\", cat]);\n\n    mainData.children[libIndex].children[catIndex] = category;\n    this.createPack(category);\n  }\n\n  onBack(lib) {\n    const { mainData } = this;\n\n    if (lib) {\n      const library = this.findLibrary(lib);\n      return this.createPack(library);\n    }\n\n    this.createPack(mainData);\n  }\n}\n","let tagsContexts = [];\n\nexport default class Tag {\n  constructor(params) {\n    const {\n      canvas,\n      width,\n      height,\n      id,\n      label,\n      color,\n      index,\n      onSelect,\n      selected\n    } = params;\n\n    this.onSelect = onSelect;\n    this.selected = selected;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this.id = id;\n    this.label = label || id;\n    this.color = color;\n    this.index = index;\n\n    this.initPosition();\n    this.init();\n\n    tagsContexts.push(this);\n  }\n\n  initPosition() {\n    this.tagHeight = 34;\n    this.tagWidth = 80;\n    const margin = 15;\n\n    this.positionX = this.width - (this.tagWidth + margin);\n    const deltaY = this.tagHeight + 10;\n    this.positionY = margin + deltaY * this.index;\n  }\n\n  init() {\n    this.mainGroup = this.canvas.append(\"g\").attr(\"id\", this.id);\n    this.mainGroup.attr(\"opacity\", 0.5);\n    if (this.selected) {\n      this.mainGroup.attr(\"opacity\", 1);\n    }\n\n    this.paintTag();\n    this.paintText();\n    this.mouseEvents();\n  }\n\n  removeTag() {\n    this.mainGroup.selectAll('rect')\n      .transition()\n      .duration(700)\n      .attr(\"width\", 0)\n      .transition()\n      .duration(10)\n      .remove();\n\n      this.mainGroup.selectAll('text')\n      .transition()\n      .duration(700)\n      .attr(\"font-size\", 0)\n      .transition()\n      .duration(10)\n      .remove();\n\n      this.mainGroup\n      .transition()\n      .duration(700)\n      .remove();\n  }\n\n  mouseEvents() {\n    if (this.selected) {\n      this.mainGroup.attr(\"opacity\", 1);\n    }\n\n    this.mainGroup.on(\"mouseenter\", () => {\n      this.mainGroup.attr(\"opacity\", 0.8);\n    });\n\n    this.mainGroup.on(\"mouseleave\", () => {\n      if (this.selected) {\n        this.mainGroup.attr(\"opacity\", 1);\n      } else {\n        this.mainGroup.attr(\"opacity\", 0.5);\n      }\n    });\n\n    this.mainGroup.on(\"click\", () => {\n      this.mainGroup.attr(\"opacity\", 1);\n      this.onSelect(this.id);\n    });\n  }\n\n  setSelected(selected) {\n    this.selected = selected;\n\n    if (!selected) {\n      this.mainGroup.attr(\"opacity\", 0.5);\n    }\n  }\n\n  paintText() {\n    const { mainGroup, positionX, positionY, tagWidth, tagHeight } = this;\n\n    const x = positionX + tagWidth / 2;\n    const y = positionY + tagHeight / 2 + 3;\n\n    const enterTexts = t => {\n      t.enter()\n        .append(\"text\")\n        .attr(\"transform\", `translate(${x},${y})`)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"0\")\n        .attr(\"cursor\", \"pointer\")\n        .attr(\"class\", \"light-text\")\n        .text(d => d.label)\n        .transition()\n        .duration(2000)\n        .attr(\"font-size\", 12);\n    };\n\n    const texts = mainGroup.selectAll(\"text\").data([this], d => d.id);\n    enterTexts(texts);\n\n    return texts;\n  }\n\n  paintTag() {\n    const {\n      mainGroup,\n      color,\n      positionX,\n      positionY,\n      tagHeight,\n      tagWidth\n    } = this;\n\n    const enterTags = t => {\n      t.enter()\n        .append(\"rect\")\n        .attr(\"width\", 0)\n        .attr(\"height\", tagHeight)\n        .attr(\"rx\", 10)\n        .attr(\"cursor\", \"pointer\")\n        .attr(\"transform\", `translate(${positionX},${positionY})`)\n        .attr(\"fill\", color)\n        .transition()\n        .duration(700)\n        .attr(\"transform\", `translate(${positionX},${positionY})`)\n        .attr(\"width\", tagWidth)\n        .attr(\"height\", tagHeight);\n    };\n\n    const tags = mainGroup.selectAll(\"rect\").data([this], d => d.id);\n    enterTags(tags);\n\n    return tags;\n  }\n}\n","import * as d3 from \"d3\";\nimport Pack from \"plugins/canvases/pack/Pack\";\nimport * as access from \"plugins/access\";\nimport { isEmpty } from \"lodash\";\nimport Tag from \"plugins/canvases/paint/Tag\";\n\nexport default class TypesPack extends Pack {\n  constructor(params) {\n    super(params);\n\n    this.colorScaleRange = [\n      access.color(\"types.packBgStart\"),\n      access.color(\"types.packBgEnd\")\n    ];\n\n    this.clickColor = access.color(\"types.clickColor\");\n\n    this.textClasses = {\n      out: \"light-text\",\n      in: \"light-text-types\"\n    }\n\n    this.fillOpacity = 0.5;\n    this.limitByLevel = 2;\n    this.dragCircle = null;\n    this.dragText = null;\n    this.blockDrag = false;\n    this.firstMove = true;\n    this.panelIsopen = false;\n\n    this.addToSchema = () => {};\n    this.setDrag = () => {};\n  }\n\n  setAddToSchema(func) {\n    this.addToSchema = func;\n  }\n\n  setDragState(func) {\n    this.setDrag = func;\n  }\n\n  getXyFromEvent() {\n    const event = d3.event.sourceEvent;\n    let x = event.offsetX;\n    let y = event.offsetY;\n\n    const { prevX } = this.getPrevCircle();\n    if(prevX<100 && !this.firstMove){\n      x = prevX + event.movementX;\n    }\n\n    return { x, y };\n  }\n\n  getPrevCircle() {\n    const { dragCircle } = this;\n\n    const prevX = Number(dragCircle.attr(\"cx\"));\n    const prevY = Number(dragCircle.attr(\"cy\"));\n    const prevR = Number(dragCircle.attr(\"r\"));\n    const prevT = dragCircle.attr(\"transform\");\n\n    return { prevX, prevY, prevR, prevT };\n  }\n\n  getPrevText() {\n    const { dragText } = this;\n\n    const prevFontSize = dragText.attr(\"font-size\");\n    const prevText = dragText.text();\n\n    return { prevText, prevFontSize };\n  }\n\n  initDragStart(d, i, items) {\n    this.dragCircle = d3.select(`#circle-${d.data.id}`);\n    this.dragText = d3.select(`#text-${d.data.id}`);\n\n    const { prevX, prevY, prevR, prevT } = this.getPrevCircle();\n    const { prevText, prevFontSize } = this.getPrevText();\n\n    this.TempText = prevText;\n    this.TempFontSize = prevFontSize;\n    this.TempX = prevX;\n    this.TempY = prevY;\n    this.TempR = prevR;\n    this.TempT = prevT;\n  }\n\n  startDragCircle() {\n    const { x, y } = this.getXyFromEvent();\n\n    this.dragCircle\n      .attr(\"transform\", null)\n      .attr(\"cx\", x)\n      .attr(\"cy\", y)\n      .transition()\n      .duration(access.time(\"typesPack.transitions\"))\n      .attr(\"r\", 10)\n      .attr(\"fill-opacity\", 1);\n  }\n\n  endDragCircle() {\n    this.dragCircle\n      .transition()\n      .duration(access.time(\"typesPack.transitions\"))\n      .attr(\"r\", this.TempR)\n      .attr(\"cx\", this.TempX)\n      .attr(\"cy\", this.TempY)\n      .attr(\"transform\", this.TempT)\n      .attr(\"fill-opacity\", 0.5);\n  }\n\n  startDragText() {\n    const { x, y } = this.getXyFromEvent();\n\n    const addText = d => {\n      this.setDrag(d.data.name);\n      return d.data.name;\n    };\n\n    this.dragText\n      .attr(\"transform\", null)\n      .attr(\"class\", this.textClasses.out)\n      .attr(\"y\", y + 30)\n      .attr(\"x\", x)\n      .transition()\n      .duration(access.time(\"typesPack.transitions\"))\n      .attr(\"font-size\", \"20px\")\n      .text(addText);\n  }\n\n  endDragText() {\n    const childrenScope = d => {\n      return (\n        isEmpty(d.data.children) ||\n        d.depth === 2 ||\n        d.data.level >= this.limitByLevel\n      );\n    };\n\n    this.dragText\n      .transition()\n      .duration(access.time(\"typesPack.transitions\"))\n      .attr(\"x\", this.TempX)\n      .attr(\"y\", this.TempY)\n      .attr(\"class\", d =>\n        childrenScope(d) ? this.textClasses.in : this.textClasses.out\n      )\n      .text(this.TempText)\n      .attr(\"transform\", this.TempT)\n      .attr(\"font-size\", this.TempFontSize);\n  }\n\n  onDrag() {\n    const { dragCircle, dragText } = this;\n    const { x, y } = this.getXyFromEvent();\n\n    dragText\n      .attr(\"x\", x)\n      .attr(\"y\", y + 30);\n    dragCircle\n      .attr(\"cx\", x)\n      .attr(\"cy\", y);\n  }\n\n  stop(d) {\n    if (d.data.level < 2) return true;\n    if (this.blockDrag) return true;\n  }\n\n  block() {\n    this.blockDrag = true;\n    setTimeout(() => {\n      this.blockDrag = false;\n    }, 500);\n  }\n\n  handleNodeDrag(circles, texts) {\n    const dragAction = d3\n      .drag()\n      .on(\"drag\", d => {\n        if (this.stop(d)) return null;\n        if (this.firstMove) {\n          this.startDragCircle();\n          this.startDragText();\n        }\n\n        this.onDrag();\n        this.firstMove = false;\n      })\n      .on(\"end\", d => {\n        if (this.stop(d)) return null;\n        this.block();\n        this.checkDrop(d);\n        this.endDragText();\n        this.endDragCircle();\n        this.setDrag(false);\n        this.firstMove = true;\n      })\n      .on(\"start\", (d, i, items) => {\n        if (this.stop(d)) return null;\n        this.initDragStart(d);\n      });\n\n    circles.call(dragAction);\n    texts.call(dragAction);\n  }\n\n  checkDrop(d) {\n    let { x, y } = this.getXyFromEvent();\n\n    if (x < 0) {\n      setTimeout(() => {\n        this.addToSchema(d.data.nameKey);\n      }, access.time(\"addItemPanel.addToSchema\"));\n\n      this.canvas\n        .append(\"circle\")\n        .attr(\"cx\", x)\n        .attr(\"cy\", y)\n        .attr(\"fill\", access.color(\"canvases.fg\"))\n        .attr(\"r\", 10)\n        .transition()\n        .duration(access.time(\"addItemPanel.addToSchema\"))\n        .attr(\"fill\", access.color(\"canvases.bg\"))\n        .attr(\"r\", 4)\n        .attr(\"cx\", 0)\n        .transition()\n        .duration(10)\n        .remove();\n    }\n  }\n\n  _clickAction() {\n    const { canvas, width, height } = this;\n    let backTag;\n\n    const onSelect = () => {\n      this.createPack(this.mainData);\n      backTag.removeTag();\n    };\n\n    backTag = new Tag({\n      selected: false,\n      onSelect,\n      canvas,\n      width,\n      height,\n      id: \"back\",\n      index: 2,\n      color: access.color(\"tags.bg\")\n    });\n  }\n}\n","import * as access from \"plugins/access\";\nimport * as d3 from \"d3\";\n\nexport const paintFrame = (canvas, width, height) => {\n  const frame = canvas\n    .append(\"rect\")\n    .attr(\"id\",\"mainFrame\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"fill\", access.color(\"canvases.bg\"));\n\n  return frame;\n};\n\nexport const fillFrame = (color) => { \n  d3.select(\"#mainFrame\")\n  .transition()\n  .duration(1000)\n  .attr(\"fill\", color);\n\n}\n\nexport const openAddPanel = () => {\n  d3.select(\"#addPanel\")\n    .transition()\n    .duration(access.time(\"addItemPanel.open\"))\n    .attr(\"width\", 100);\n};\n\nexport const closeAddPanel = () => {\n  d3.select(\"#addPanel\")\n    .transition()\n    .duration(access.time(\"addItemPanel.close\"))\n    .attr(\"width\", 0);\n};\n\nexport const paintAddPanel = (canvas, height) => {\n  const addPanel =  canvas\n    .append(\"rect\")\n    .attr(\"id\", \"addPanel\")\n    .attr(\"width\", 0)\n    .attr(\"height\", height)\n    .attr(\"fill\", \"url(#svgGradient)\");\n\n    return addPanel;\n};\n\nexport const createGradient = defs => {\n  var gradient = defs\n    .append(\"linearGradient\")\n    .attr(\"id\", \"svgGradient\")\n    .attr(\"x1\", \"100%\")\n    .attr(\"x2\", \"0%\")\n    .attr(\"y1\", \"0%\")\n    .attr(\"y2\", \"0%\");\n\n  gradient\n    .append(\"stop\")\n    .attr(\"class\", \"start\")\n    .attr(\"offset\", \"0%\")\n    .attr(\"stop-color\", access.color(\"canvases.bg\"))\n    .attr(\"stop-opacity\", 0.5);\n\n  gradient\n    .append(\"stop\")\n    .attr(\"class\", \"end\")\n    .attr(\"offset\", \"100%\")\n    .attr(\"stop-color\", '#55708d')\n    .attr(\"stop-opacity\", 1);\n};\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Start from \"plugins/tools/Start\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport * as access from \"plugins/access\";\nimport { get } from \"plugins/requests\";\n\nimport { move } from \"plugins/canvases/utils/canvasActions\";\n\nimport { setTypes } from \"tree/actions/types\";\nimport * as libsActions from \"tree/actions/libs\";\nimport * as catsActions from \"tree/actions/cats\";\nimport * as itemsActions from \"tree/actions/items\";\n\nimport LibraryPack from \"plugins/canvases/pack/LibraryPack\";\nimport TypesPack from \"plugins/canvases/pack/TypesPack\";\nimport {\n  setLibraryPack,\n  getLibraryPack,\n  getTypesPack,\n  setTypesPack\n} from \"plugins/canvases/utils/packUtils\";\n\nimport {\n  paintFrame,\n  fillFrame,\n} from \"plugins/canvases/paint/Frames\";\nimport Tag from \"plugins/canvases/paint/Tag\";\n\nimport Absolute from \"plugins/Layouts/Absolute\";\n\nimport \"plugins/canvases/style.css\";\n\nconst Logo = styled.img`\n    width:60px; \n    height:60px; \n    margin:15px;\n    border-radius: 50%;\n    transform: rotate(${props=> props.rotate*180}deg);\n    transition: all 250ms; \n    box-shadow: 0px 0px 11px 4px #a1b1cf3b;\n`;\n\nfunction MainCanvas() {\n  const { viewKey, dispatch } = useBranch({ viewKey: [\"viewKey\"] });\n  const [rotate, setRotate] = useState(0);\n\n  const getFlex = () => {\n    const schemaPanelSize = access.dim(\"flexViews.schemaPanel\");\n    const leftPanelSize = access.dim(\"flexViews.leftPanel\");\n    const size = leftPanelSize + schemaPanelSize;\n    if (viewKey !== \"initKey\") return 1 - size;\n    return 1 - leftPanelSize;\n  };\n\n  const getCategoriesFromLibrary = lib => {\n    get(\"/getCategoriesFromLibrary\", { library: lib }).then(res => {\n      dispatch(catsActions.setCats, res.data);\n      setTimeout(() => {\n        dispatch(libsActions.setLibToFocus, lib);\n      });\n    });\n  };\n\n  const getItemsFromCategory = cat => {\n    dispatch(catsActions.getItemsFromCategory, cat);\n    dispatch(catsActions.setKey, { newKey: \"showSchema\", schemaName: cat });\n  };\n\n  const handleClickOnItem = label => {\n    dispatch(itemsActions.setItemToFocus, label);\n  };\n\n  const handleAddFromPack = type => {\n    dispatch(itemsActions.onAddFromPack, type);\n  };\n\n  const handleDragState = value => {\n    dispatch(itemsActions.changeDragState, value);\n  };\n\n  const getAllLibs = (canvas, width, height) => {\n    get(\"/getAll\").then(res => {\n      const {data, projectName } = res.data;\n\n      const libraryPack = new LibraryPack({ canvas, width, height });\n      libraryPack.initWithData(data,projectName);\n      libraryPack.setLevelClick(1, getCategoriesFromLibrary);\n      libraryPack.setLevelClick(2, getItemsFromCategory);\n      libraryPack.setLevelClick(3, handleClickOnItem);\n\n      setLibraryPack(libraryPack);\n    });\n  };\n\n  const getAllType = (canvas, width, height) => {\n    get(\"/getTypesArrangeByGroups\").then(res => {\n      const data = res.data;\n      dispatch(setTypes, res.data);\n      const typesPack = new TypesPack({\n        canvas,\n        width,\n        height,\n        showMainCircle: false\n      });\n      typesPack.setAddToSchema(handleAddFromPack);\n      typesPack.setDragState(handleDragState);\n      typesPack.initWithData(data);\n      typesPack.scaleDown();\n      setTypesPack(typesPack);\n    });\n  };\n\n  const createDefs = canvas => {\n    // var defs = canvas.append(\"defs\");\n    // createGradient(defs);\n  };\n\n  const paintTabs = (canvas, width, height) => {\n    // const openMenu = () => {\n    //   dispatch((tree)=>{\n    //     tree.set('openMenu',true);\n    //   })\n    // }\n\n\n    const onSelect = id => {\n      projectTag.setSelected(id === \"project\");\n      typesTag && typesTag.setSelected(id === \"types\");\n\n      switch (id) {\n        case \"types\":\n          getLibraryPack().scaleDown();\n          getTypesPack().scaleUp();\n          fillFrame(access.color(\"types.bg\"));\n          break;\n\n        case \"project\":\n          getLibraryPack().scaleUp();\n          getTypesPack().scaleDown();\n          fillFrame(access.color(\"canvases.bg\"));\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    const initKey = viewKey === \"initKey\";\n\n    const projectTag = new Tag({\n      selected: true,\n      onSelect,\n      canvas,\n      width,\n      height,\n      id: \"project\",\n      index: 0,\n      color: access.color(\"tags.bg\")\n    });\n\n    let typesTag;\n\n    if (!initKey) {\n      typesTag = new Tag({\n        selected: false,\n        onSelect,\n        canvas,\n        width,\n        height,\n        id: \"types\",\n        index: 1,\n        color: access.color(\"tags.bg\")\n      });\n    }\n\n    // const menuTag = new Tag({\n    //   selected: false,\n    //   onSelect: openMenu,\n    //   canvas,\n    //   width,\n    //   height,\n    //   id: \"menu\",\n    //   index: initKey ? 1 : 2,\n    //   color: access.color(\"tags.bg\")\n    // });\n  };\n\n  const onCanvasReady = (canvas, width, height) => {\n    createDefs(canvas);\n\n    const frame = paintFrame(canvas, width, height);\n    move(canvas, frame, access.color(\"canvases.fg\"));\n\n    paintTabs(canvas, width, height);\n    getAllLibs(canvas, width, height);\n    getAllType(canvas, width, height);\n  };\n\n  const renderStart = () => {\n    const margin = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    return <Start canvasReady={onCanvasReady} margin={margin} />;\n  };\n\n  const zIndex = access.dim(\"zIndexViews.schemaPanel\"); // check\n\n  return (\n    <div style={{ flex: getFlex(), zIndex: zIndex, width: \"100%\", userSelect: \"none\" }}>\n      {renderStart()}\n      <Absolute left={'unset'} top={'unset'}> \n        <Logo alt={'logo'} src={process.env.PUBLIC_URL + \"/gen_icon.png\"} onClick={()=>{ setRotate(rotate+1) }} rotate={rotate}/>\n      </Absolute>\n    </div>\n  );\n}\n\nexport default MainCanvas;\n","import React, { Fragment, useState } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport { Modal, ClickAwayListener } from \"@material-ui/core\";\n\nimport * as access from \"plugins/access\";\n\nimport Center from \"plugins/Layouts/Center\";\nimport Row from \"plugins/Layouts/Row\";\nimport Column from \"plugins/Layouts/Column\";\nimport Label from \"plugins/tools/Label\";\nimport IconButton from \"plugins/icons/IconButton\";\n\nfunction Menu(params) {\n  const { openMenu, dispatch } = useBranch({ openMenu: [\"openMenu\"] });\n  const [focus, setFocus] = useState(null);\n\n  const closeMenu = () => {\n    dispatch(tree => {\n      tree.set(\"openMenu\", false);\n    });\n  };\n\n  const renderBack = () => {\n    if (!focus) return;\n    const btnStyle = { marginLeft: 10, marginTop: 2 };\n\n    return (\n      <IconButton\n        icon={access.icon(\"searchBar.back\")}\n        color={access.color(\"menu.headerFg\")}\n        onClick={() => {\n          setFocus(null);\n        }}\n        btnStyle={btnStyle}\n      />\n    );\n  };\n\n  const MenuHeader = () => {\n\n    const label = focus ? access.translate(focus) : access.translate(\"menu\");\n\n    return (\n      <Row\n        background={access.color(\"menu.headerBg\")}\n        color={access.color(\"menu.headerFg\")}\n      >\n        {renderBack()}\n        <Label fontSize={'14px'} >{label.toUpperCase()}</Label>\n      </Row>\n    );\n  };\n\n  const MenuItem = ({ label, onClick }) => {\n    return (\n      <Row\n        menuItem={true}\n        style={{ boxShadow: \"unset\" }}\n        background={access.color(\"menu.bg\")}\n        onClick={onClick}\n      >\n        <Label>{label}</Label>\n      </Row>\n    );\n  };\n\n  const renderMainMenu = () => {\n\n    if(focus) return null;\n\n    const handleSave = () => {\n      setFocus(\"save\");\n    };\n\n    const handleNew = () => {\n      setFocus(\"new\");\n    };\n\n    const handleOpen = () => {\n      setFocus(\"open\");\n    };\n\n    const handleRemove = () => {\n      setFocus(\"remove\");\n    };\n\n    return (\n      <Fragment>\n        <MenuItem label={access.translate(\"Save as\")} onClick={handleSave} />\n        <MenuItem label={access.translate(\"New project\")} onClick={handleNew} />\n        <MenuItem\n          label={access.translate(\"Open project\")}\n          onClick={handleOpen}\n        />\n        <MenuItem\n          label={access.translate(\"Remove project\")}\n          onClick={handleRemove}\n        />\n      </Fragment>\n    );\n  };\n\n  return (\n    <Modal open={openMenu} onEscapeKeyDown={closeMenu}>\n      <Center>\n        <ClickAwayListener onClickAway={closeMenu}>\n          <Column\n            background={access.color(\"menu.headerBg\")}\n            width={\"300px\"}\n            height={\"250px\"}\n            style={{ borderRadius: 4, boxShadow: \"unset\" }}\n          >\n            <MenuHeader />\n            {renderMainMenu()}\n          </Column>\n        </ClickAwayListener>\n      </Center>\n    </Modal>\n  );\n}\n\nexport default Menu;\n","import React, { useState, useEffect } from \"react\";\nimport { useBranch } from \"baobab-react/hooks\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport styled from \"styled-components\";\n\nimport * as access from \"plugins/access\";\n\nimport MenuPanel from \"Views/MenuPanel\";\nimport SchemaPanel from \"Views/SchemaPanel\";\nimport Mask from \"plugins/tools/Mask\";\nimport MainCanvas from \"plugins/canvases/MainCanvas\";\nimport Menu from \"plugins/menuModal/Menu\";\n\nconst InitMask = styled(Mask)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nfunction Main() {\n  const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const t = setTimeout(() => {\n      setLoading(false);\n    }, 3000);\n    return () => {\n      clearTimeout(t);\n    };\n  }, []);\n\n  if (loading) {\n    return (\n      <InitMask opacity={1} mask={access.color(\"backgrounds.secondary\")}>\n        <img alt=\"logo\" src={process.env.PUBLIC_URL + \"/gen_logo.png\"} />\n        <div style={{ width: 400 }}>\n          <LinearProgress value={50} color={\"primary\"} />\n        </div>\n      </InitMask>\n    );\n  }\n\n  return (\n    <Mask\n      opacity={1}\n      mask={access.color(\"backgrounds.secondary\")}\n      style={{ display: \"flex\" }}\n    >\n      <MenuPanel viewKey={viewKey} />\n      <SchemaPanel />\n      <MainCanvas key={viewKey} />\n      <Menu />\n    </Mask>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nimport {useRoot} from 'baobab-react/hooks';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { color } from \"plugins/access\";\nimport Main from \"Views/Main\";\n\nconst primary = color('materialUI.primary');\nconst secondary = color('materialUI.secondary');\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: primary\n    },\n    secondary: {\n      main: secondary\n    }\n  }\n});\n\n\nfunction App({tree}) {\n\n  const Root = useRoot(tree);\n\n  return (\n    <Root>\n      <ThemeProvider theme={theme}>\n        <Main/>\n      </ThemeProvider>\n    </Root>\n  );\n}\n\nexport default App;\n","import Baobab from 'baobab';\n\nconst tree = new Baobab({\n  types: {},\n  projectName: \"project\",\n  libs: [],\n  cats: [],\n  items: [],\n  mockData: null,\n  focus: {\n    lib: null,\n    cat: null,\n    item: null\n  },\n\n  packView: 'project', // 'types'\n  drag: false,\n  selected: null,\n  selectedCategory: null,\n  selectedLibrary: null,\n\n  collapse: false,\n  viewKey: 'initKey',\n  openMenu: false\n});\n\nwindow.tree = tree;\n\nexport default tree;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.css';\nimport App from 'App';\n//import * as serviceWorker from './serviceWorker';\nimport tree from \"tree/tree\";\n\nReactDOM.render(<App tree={tree} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}