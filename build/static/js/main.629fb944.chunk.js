(this.webpackJsonpmg_client=this.webpackJsonpmg_client||[]).push([[0],{137:function(e){e.exports=JSON.parse('{"colors":{"black":"#000000","white":"#ffffff","blue01":"#39536f","blue02":"#496a8c","blue03":"#5980a9","blueLight01":"#bfd6ef","darkBlue01":"#344456","grey01":"#808080"},"materialUI":{"primary":"colors.blue01","secondary":"colors.blue02"},"backgrounds":{"primary":"colors.blue01","secondary":"colors.blueLight01","active":"colors.blue02","hover":"colors.blue03","code":"colors.darkBlue01"},"texts":{"primary":"colors.white","secondary":"colors.blue01","placeholder":"colors.grey01"},"searchBar":{"bg":"backgrounds.primary","fg":"texts.primary"},"schemePanel":{"bg":"backgrounds.code"},"canvases":{"bg":"backgrounds.secondary","fg":"texts.secondary","packBgStart":"backgrounds.primary","packBgEnd":"backgrounds.hover"}}')},138:function(e){e.exports=JSON.parse('{"icons":{"back":{"type":null,"name":"keyboard_arrow_left"},"remove":{"type":null,"name":"delete_outline"},"edit":{"type":null,"name":"edit"},"add":{"type":null,"name":"add"}},"searchBar":{"back":"icons.back"},"listItem":{"remove":"icons.remove","edit":"icons.edit"},"leftPanel":{"add":"icons.add"}}')},139:function(e){e.exports=JSON.parse('{"flexViews":{"leftPanel":0.2,"schemePanel":0.3},"zIndexViews":{"leftPanel":3,"schemePanel":2,"mainCanvas":1}}')},158:function(e,t,n){e.exports=n(272)},163:function(e,t,n){},174:function(e,t){},176:function(e,t){},211:function(e,t){},212:function(e,t){},271:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),c=n.n(i),o=(n(163),n(16)),u=n(148),l=n(304),s=n(137),f=n(138),d=n(139);function h(e,t){if(!t)return e;var n=e;"string"===typeof t&&(t=t.split(/[.,]/));for(var r=0;r<t.length;r++){if("undefined"===typeof n)return;n=n[t[r]]}return n}var m=function(e){return h(d,e)},b=function e(t){var n=h(s,t);return"string"!==typeof n?n:n.startsWith("#")?n:n.indexOf(".")>-1||n.indexOf(",")>-1?e(n):void 0},v=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?"type":"name",a=h(f,t);return"string"===typeof a&&(a.indexOf(".")>-1||a.indexOf(",")>-1)?e(a,n):a?a[r]?a[r]:a:void 0},p=function(e){return e},g=n(14),y=n(3),w=n.n(y),x=n(15);function k(){var e=Object(g.a)(["\n  position: absolute;\n  top: ",";\n  bottom: ",";\n  left: ",";\n  right: ",";\n  opacity: ",";\n  background: ",";\n"]);return k=function(){return e},e}var O=x.a.div(k(),(function(e){return e.top||0}),(function(e){return e.bottom||0}),(function(e){return e.left||0}),(function(e){return e.right||0}),(function(e){return e.opacity}),(function(e){return e.mask}));O.defaultProps={opacity:.7,mask:"white"},O.propTypes={opacity:w.a.number,mask:w.a.string};var j,E,C,z,B,I,K,P=O,S=n(20),T=n(50),A=n(42),R=null,N=function(e,t,n){var r=S.e().x((function(e){return e.x})).y((function(e){return e.y})).curve(S.a);t.on("mouseout",(function(){R=null})),t.on("mousemove",(function(t,a){var i={x:S.c.offsetX,y:S.c.offsetY};if(R){var c=[R,i];R=i,e.append("path").attr("d",r(c)).attr("fill","none").attr("stroke",n).attr("stroke-width",2).transition().duration(450).attr("stroke-width",0).ease((function(e){return S.b(e)})).transition().duration(10).remove()}else R=i}))},L=!1,V=0,_=null,J=[b("canvases.packBgStart"),b("canvases.packBgEnd")],F=function(e){return"translate(".concat(e.x,",").concat(e.y+45-10,")")},U=function(e,t){var n=function(e){if(!L&&0!==e.depth){switch(2===e.depth&&(e=e.parent),e.data.level){case 1:z(e.data.name);break;case 2:B(e.data.name);break;case 3:I(e.data.name)}oe(e.data),L=!0,setTimeout((function(){L=!1}),2e3)}};e.on("click",(function(e){n(e)})),t.on("click",(function(e){n(e)}))},W=function(e){var t=S.g().domain([0,V]).range(J),n=K.selectAll("circle").data(e,(function(e){return e.data.id}));n.enter().append("circle").attr("r",0).attr("transform",F).attr("fill-opacity",.5).transition().duration(2e3).attr("fill",(function(e){return t(e.data.value)})).attr("transform",F).attr("r",(function(e){return e.r})),function(e){e.exit().transition().duration(2e3).attr("r",0).transition().remove()}(n),function(e){e.transition().duration(2e3).attr("fill",(function(e){return t(e.data.value)})).attr("transform",F).attr("r",(function(e){return e.r}))}(n)},M=function(e){var t=function(e){return Object(A.isEmpty)(e.data.children)||2===e.depth},n=function(e){var n=e.data.name,r=e.r,a=16;return t(e)?(a=r<50?14:a,a=r<40?12:a,a=r<35?9:a,a=r<30?7:a,a=r<20?3:a,n.length<=a?n:n.substring(0,a)+"..."):n},r=function(e){var t=Math.floor(e.r/3);return t=(t=t<8?8:t)>14?14:t},a=function(e){return 0!==e.depth||Object(A.isEmpty)(e.data.children)?t(e)?0:-(e.r+5):-(e.r+10)},i=K.selectAll("text").data(e,(function(e){return e.data.id}));i.enter().append("text").attr("transform",F).attr("y",a).attr("class",(function(e){return t(e)?"light-text":"text"})).attr("text-anchor","middle").attr("font-size","0").text((function(e){return n(e)})).transition().duration(2e3).attr("font-size",(function(e){return r(e)})),function(e){e.exit().transition().duration(2e3).attr("font-size",0).transition().remove()}(i),function(e){e.transition().duration(1e3).attr("font-size",0).transition().duration(10).attr("transform",F).transition().duration(1e3).text((function(e){return n(e)})).attr("y",a).attr("class",(function(e){return t(e)?"light-text":"text"})).attr("font-size",(function(e){return r(e)}))}(i)},D=function(e){return Object(A.find)(_.children,(function(t){return t.name===e}))},G=function(e,t){return Object(A.find)(e.children,(function(e){return e.name===t}))},X=function(e){var t=D(e);oe(t)},Y=function(e,t){var n=D(e),r=G(n,t);oe(r)},$=function(e,t,n){var r=D(e),a=function(e,t){return Object(A.find)(e.children,(function(e){return e.name===t}))}(G(r,t),n);oe(a)},q=function(e){_.children=_.children.filter((function(t){return t.name!==e})),oe(_)},H=function(e,t){var n=D(e);n.children=n.children.filter((function(e){return e.name!==t})),oe(n)},Q=function(e,t,n){var r=D(e),a=G(r,t);a.children=a.children.filter((function(e){return e.name!==n})),oe(a)},Z=function(e){_.children.push({name:e,value:1,children:[],id:Object(T.v4)(),level:1}),oe(_)},ee=function(e,t){var n=D(e);n.children.push({name:t,value:1,children:[],id:Object(T.v4)(),level:2}),oe(n)},te=function(e){if(e){var t=D(e);return oe(t)}oe(_)},ne=function(e){z=e},re=function(e){B=e},ae=function(e){I=e},ie=function(e,t,n){E=t,C=n,K=(j=e).append("g").attr("class","pack")},ce=function e(t,n){if(n||(n={name:"all",value:0,children:[],id:"id",level:0}),"string"==typeof t||"number"==typeof t)return n.value=1,n.name="".concat(n.name,": ").concat(t),delete n.children,n;for(var r in t){var a={name:r,value:1,children:[],id:"".concat(n.id,"-").concat(r),level:n.level+1},i=e(t[r],a);n.value+=i.value,n.children.push(a)}return n},oe=function(e,t){t&&(_=e),V=e.value;var n=S.f().size([E,C-45]).padding(30),r=S.d(e);n(r);var a=r.descendants();!function(e){W(e),M(e);var t=K.selectAll("circle"),n=K.selectAll("text");N(j,t,b("canvases.bg")),N(j,n,b("canvases.fg")),U(t,n)}(a=a.filter((function(e){return e.depth<3})))};function ue(){var e=Object(g.a)(["\n  z-index: ",";\n  position: relative;\n  min-width: 100px;\n  height: ",";\n  background: ",";\n  display: flex;\n  flex: ",";\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow: auto;\n  box-shadow: 1px 0px 4px 0px ",";\n"]);return ue=function(){return e},e}var le=x.a.div(ue(),(function(e){return e.zIndex}),(function(e){return e.height}),(function(e){return e.background}),(function(e){return e.flex}),(function(e){return e.shadowColor}));le.defaultProps={zIndex:1,flex:.2,height:"100%",background:"inherit",shadowColor:"rgb(93, 107, 140)"},le.propTypes={flex:w.a.number,height:w.a.oneOfType([w.a.string,w.a.number]),background:w.a.string,shadowColor:w.a.string};var se=le,fe=n(306),de=n(303),he=n(299);function me(){var e=Object(g.a)(["  \n  z-index: ",";\n  position: relative; \n  overflow: hidden;\n  min-height: 50px;\n  height: ",";\n  width: ",";\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  cursor:  ",";\n  box-shadow: 0px 1px 4px 0px ",";\n  :hover {\n    background: ",";\n    color: ",";\n  }\n  :active {\n    background: ",";\n    color: ",";\n  }\n"]);return me=function(){return e},e}var be=x.a.div(me(),(function(e){return e.zIndex}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.menuItem&&"pointer"}),(function(e){return e.shadowColor}),(function(e){return e.menuItem&&b("backgrounds.hover")}),(function(e){return e.menuItem&&b("texts.primary")}),(function(e){return e.menuItem&&b("backgrounds.active")}),(function(e){return e.menuItem&&b("texts.primary")}));be.defaultProps={zIndex:1,width:"100%",height:"50px",background:"inherit",color:b("texts.secondary"),shadowColor:"rgb(93, 107, 140)"},be.propTypes={width:w.a.oneOfType([w.a.string,w.a.number]),height:w.a.oneOfType([w.a.string,w.a.number]),background:w.a.string,shadowColor:w.a.string};var ve=be;function pe(){var e=Object(g.a)(["   \n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 0 10px;\n  width: ",";\n  color: ",";\n  font-size: ",";\n  font-weight:  ",";\n"]);return pe=function(){return e},e}var ge=x.a.div(pe(),(function(e){return e.width||"fit-content"}),(function(e){return e.color||"inherit"}),(function(e){return e.fontSize||"inherit"}),(function(e){return e.weight||"400"})),ye=Object(he.a)((function(e){return{btn:{marginLeft:10,marginTop:2,color:b("searchBar.fg")}}}));var we=function(e){var t=e.label,n=e.nested,r=e.onBack,i=ye();return a.a.createElement(ve,{background:b("searchBar.bg")},function(){if(n)return a.a.createElement(fe.a,{className:i.btn,size:"small",onClick:r},a.a.createElement(de.a,null,v("searchBar.back")))}(),a.a.createElement(ge,{color:b("searchBar.fg")},t))};function xe(){var e=Object(g.a)(["   \n  width: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return xe=function(){return e},e}function ke(){var e=Object(g.a)(["   \n  width: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return ke=function(){return e},e}x.a.div(ke(),(function(e){return e.width||"50px"}));var Oe=x.a.div(xe(),(function(e){return e.width||"50px"}));function je(){var e=Object(g.a)(["\n  justify-content: space-between;\n  background: ",";\n  color: ",";\n"]);return je=function(){return e},e}var Ee=Object(x.a)(ve)(je(),(function(e){return e.selected?b("backgrounds.primary"):"inherit"}),(function(e){return e.selected?b("texts.primary"):"inherit"})),Ce=Object(he.a)((function(e){return{btn:{color:b("texts.primary"),padding:5,fontSize:20}}}));var ze=function(e){var t=e.label,n=e.handleRowClick,r=e.handleRemove,i=(e.handleEdit,e.parent),c=Ce(),u=Object(o.useBranch)({selected:["selected"]}).selected,l=function(e){e.stopPropagation(),r(t)},s=u==="".concat(i,":").concat(t);return a.a.createElement(Ee,{key:t,menuItem:!0,selected:s,onClick:function(){n(t)}},a.a.createElement(ge,null,t),a.a.createElement(Oe,{width:"50px"},null,a.a.createElement(fe.a,{size:"small",onClick:l},a.a.createElement(de.a,{className:c.btn},v("listItem.remove")))))},Be=n(151),Ie=n(305);function Ke(){var e=Object(g.a)(["\n  position: absolute;\n  top: ",";\n  bottom: ",";\n  left: ",";\n  right: ",";\n  background: transparent;\n"]);return Ke=function(){return e},e}var Pe=x.a.div(Ke(),(function(e){return e.top}),(function(e){return e.bottom}),(function(e){return e.left}),(function(e){return e.right}));Pe.defaultProps={top:0,bottom:0,left:0,right:0},Pe.propTypes={top:w.a.number,bottom:w.a.number,left:w.a.number,right:w.a.number};var Se=Pe,Te=!1,Ae=Object(he.a)((function(e){return{btn:{color:b("texts.secondary"),padding:5,fontSize:20}}}));var Re=function(e){var t=e.label,n=e.handleAdd,i=Ae(),c=Object(r.useState)(""),o=Object(Be.a)(c,2),u=o[0],l=o[1];Object(r.useEffect)((function(){Te=!1}),[]);var s=function(){n(u),l("")};return a.a.createElement(ve,{style:{cursor:"pointer"},onKeyUp:function(e){if(u)switch(e.key){case"Escape":l("");break;case"Enter":s()}}},a.a.createElement(Ie.a,{autoFocus:Te,fullWidth:!0,value:u,onChange:function(e){Te||(Te=!0),l(e.target.value.trimStart())},label:t,variant:"filled"}),u?a.a.createElement(Se,{left:null},a.a.createElement(ve,null,a.a.createElement(fe.a,{size:"small",onClick:s},a.a.createElement(de.a,{className:i.btn},v("leftPanel.add"))))):null)},Ne=n(254),Le="http://localhost:5588/mocking_G";function Ve(e,t){var n="".concat(Le).concat(e),r={params:t};return Ne.get(n,r)}function _e(e,t){e.set(["libs"],t)}function Je(e,t){e.set(["focus","lib"],t)}function Fe(e,t){Ve("/addLibrary",{library:t}).then((function(t){e.set("libs",t.data)})).catch((function(e){console.log(e.response.data.message)}))}function Ue(e,t){Ve("/removeLibrary",{library:t}).then((function(t){e.set("libs",t.data)}))}function We(e,t){Ve("/getCategoriesFromLibrary",{library:t}).then((function(n){e.set("cats",n.data),setTimeout((function(){e.set(["focus","lib"],t)}))}))}function Me(e,t){e.set(["cats"],t)}function De(e,t){e.set(["focus","cat"],t)}function Ge(e,t){Ve("/addCategory",{library:e.get(["focus","lib"]),category:t}).then((function(t){e.set("cats",t.data)})).catch((function(e){console.log(e.response.data.message)}))}function Xe(e,t){Ve("/removeCategory",{library:e.get(["focus","lib"]),category:t}).then((function(t){e.set("cats",t.data)}))}function Ye(e,t){Ve("/getScheme",{library:e.get(["focus","lib"]),category:t}).then((function(n){e.set("items",n.data),setTimeout((function(){e.set(["focus","cat"],t)}))}))}function $e(e,t){var n=t.newKey,r=t.schemeName,a=e.get("viewKey"),i=e.get(["focus","lib"]);a!==n?(e.set("viewKey",n),setTimeout((function(){Y(i,r)}),200)):Y(i,r)}function qe(e,t){e.set(["focus","item"],t)}function He(e,t){var n=e.get(["focus","cat"]);e.set(["selected"],"".concat(n,":").concat(t))}function Qe(e,t){var n=e.get(["focus"]);Ve("/removeFromScheme",{library:n.lib,category:n.cat,field:t}).then((function(t){console.log(t),e.set("items",t.data)}))}function Ze(e,t){var n=t.newKey,r=t.schemeName,a=e.get("viewKey"),i=e.get(["focus"]);a!==n?(e.set("viewKey",n),setTimeout((function(){$(i.lib,i.cat,r)}),200)):$(i.lib,i.cat,r)}var et=function(){var e=Object(o.useBranch)({libs:["libs"]}),t=e.libs,n=e.dispatch,i=Object(o.useBranch)({cats:["cats"]}).cats,c=Object(o.useBranch)({items:["items"]}).items,u=Object(o.useBranch)({focus:["focus"]}).focus;Object(r.useEffect)((function(){Ve("/getAllLibraries").then((function(e){n(_e,e.data)}))}),[]);var l=m("zIndexViews.leftPanel"),s=m("flexViews.leftPanel");return a.a.createElement(se,{flex:s,zIndex:l},a.a.createElement(we,{label:function(){var e=u.lib,t=u.cat;return e&&t?"".concat(e," - ").concat(t):e||p("libraries")}(),nested:u.lib,onBack:function(){var e=u.lib;u.cat?(n(De,null),te(e)):e&&(n(Je,null),te())}}),a.a.createElement((function(){var e=u.lib?"cats":"libs";u.lib&&(e=u.cat?"items":"cats");switch(e){case"libs":return a.a.createElement(Re,{label:p("Add Library"),handleAdd:function(e){e=e.trim(),n(Fe,e),Z(e)}});case"cats":return a.a.createElement(Re,{label:p("Add Category"),handleAdd:function(e){e=e.trim(),n(Ge,e),ee(u.lib,e)}});case"items":return a.a.createElement(Re,{label:p("Add Item"),handleAdd:function(e){e=e.trim()}});default:return}}),null),a.a.createElement(se,{flex:1},a.a.createElement((function(){var e=u.lib?"cats":"libs";u.lib&&(e=u.cat?"items":"cats");var r=function(e){n(We,e),X(e)},o=function(e){n(Ye,e),Y(u.lib,e),n($e,{newKey:"showScheme",schemeName:e})},l=function(e){n(He,e),n(Ze,{newKey:"showScheme",schemeName:e})},s=function(e){n(Ue,e),q(e)},f=function(e){n(Xe,e),H(u.lib,e)},d=function(e){n(Qe,e),Q(u.lib,u.cat,e)},h=function(e){},m=function(e){};switch(e){case"libs":return t.map((function(e){return a.a.createElement(ze,{key:e,label:e,handleRowClick:r,handleRemove:s,handleEdit:h})}));case"cats":return i.map((function(e){return a.a.createElement(ze,{key:e,parent:u.lib,label:e,handleRowClick:o,handleRemove:f,handleEdit:m})}));case"items":return Object.keys(c).map((function(e){return a.a.createElement(ze,{key:e,parent:u.cat,label:e,handleRowClick:l,handleRemove:d})}));default:return null}}),null)))};function tt(){var e=Object(g.a)(["\n    min-width: 0;\n    transition: flex 2.5s;\n    box-shadow: 3px 0px 5px 5px rgb(17, 38, 90);\n"]);return tt=function(){return e},e}function nt(){var e=Object(g.a)(["\n    flex: ",";\n    justify-content: flex-end;\n"]);return nt=function(){return e},e}var rt=Object(x.a)(ve)(nt(),(function(e){return e.flex})),at=Object(x.a)(se)(tt());var it=function(){var e=Object(o.useBranch)({viewKey:["viewKey"]}).viewKey,t="initKey"!==e?m("flexViews.schemePanel"):0,n="initKey"!==e?.99:0,r=m("zIndexViews.schemePanel");return a.a.createElement(rt,{flex:t,zIndex:r,background:b("canvases.bg"),height:"100%",shadowColor:"none"},a.a.createElement(at,{flex:n,background:b("schemePanel.bg")}))},ct=n(63),ot=n(29),ut=n(146),lt=n(147),st=n(22),ft=n(152),dt=function(e){function t(e){var n;return Object(ct.a)(this,t),(n=Object(ut.a)(this,Object(lt.a)(t).call(this,e))).width=0,n.height=0,n.measure=n.measure.bind(Object(st.a)(n)),n.createCanvas=n.createCanvas.bind(Object(st.a)(n)),n}return Object(ft.a)(t,e),Object(ot.a)(t,[{key:"componentDidMount",value:function(){this.measure();var e=this.createCanvas();this.do(e)}},{key:"do",value:function(e){var t=this.props.margin,n=this.width-(t.left+t.right),r=this.height-(t.top+t.bottom);return this.props.canvasReady(e,n,r)}},{key:"createCanvas",value:function(){var e=this.props.margin;return S.h("#".concat(this.id)).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")"))}},{key:"measure",value:function(){var e=document.getElementById(this.id).getBoundingClientRect();this.width=e.width,this.height=e.height}},{key:"render",value:function(){return this.id="cont"+Object(T.v4)(),a.a.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),t}(r.Component);dt.defaultProps={margin:{top:0,bottom:0,left:0,right:0}};n(271);var ht=function(){var e=Object(o.useBranch)({viewKey:["viewKey"]}),t=e.viewKey,n=e.dispatch,r={},i=function(e){Ve("/getCategoriesFromLibrary",{library:e}).then((function(t){n(Me,t.data),setTimeout((function(){n(Je,e)}))}))},c=function(e){n(Ye,e),n($e,{newKey:"showScheme",schemeName:e})},u=function(e){n(qe,e),n(He,e)},l=function(e,t,n){var a=function(e,t,n){return e.append("rect").attr("width",t).attr("height",n).attr("fill",b("canvases.bg"))}(e,t,n);N(e,a,b("canvases.fg")),function(e,t,n){Ve("/getAll").then((function(a){r=ce(a.data),ie(e,t,n),oe(r,!0),ne(i),re(c),ae(u)}))}(e,t,n)},s=m("zIndexViews.schemePanel");return a.a.createElement("div",{style:{flex:function(){var e=m("flexViews.schemePanel"),n=m("flexViews.leftPanel");return"initKey"!==t?1-(n+e):1-n}(),cursor:"none",zIndex:s}},a.a.createElement(dt,{canvasReady:l,margin:{top:0,bottom:0,left:0,right:0}}))};var mt=function(){var e=Object(o.useBranch)({viewKey:["viewKey"]}).viewKey;return a.a.createElement(P,{opacity:1,style:{display:"flex"}},a.a.createElement(et,null),a.a.createElement(ht,{key:e}),a.a.createElement(it,null))},bt=b("materialUI.primary"),vt=b("materialUI.secondary"),pt=Object(u.a)({palette:{primary:{main:bt},secondary:{main:vt}}});var gt=function(e){var t=e.tree,n=Object(o.useRoot)(t);return a.a.createElement(n,null,a.a.createElement(l.a,{theme:pt},a.a.createElement(mt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yt=n(83),wt=new(n.n(yt).a)({libs:[],cats:[],items:[],focus:{lib:null,cat:null,item:null},selected:null,viewKey:"initKey"});window.tree=wt;var xt=wt;c.a.render(a.a.createElement(gt,{tree:xt}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[158,1,2]]]);
//# sourceMappingURL=main.629fb944.chunk.js.map