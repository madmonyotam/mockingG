{"version":3,"sources":["plugins/access/index.js","plugins/tools/Mask.js","plugins/canvases/utils/packUtils.js","plugins/canvases/utils/canvasActions.js","plugins/Layouts/Column.js","plugins/Layouts/Row.js","plugins/tools/Label.js","plugins/menuPanel/SearchBar.js","plugins/Layouts/Spaces.js","plugins/menuPanel/ListItem.js","plugins/Layouts/Absolute.js","plugins/menuPanel/AddRow.js","plugins/requests/index.js","tree/actions/libs.js","tree/actions/cats.js","tree/actions/items.js","tree/actions/general.js","Views/MenuPanel.js","plugins/editor/Editor.js","plugins/schemePanel/SwitchEditorBtn.js","plugins/tools/Start.js","plugins/canvases/OpenPanelCanvas.js","Views/SchemePanel.js","plugins/canvases/MainCanvas.js","Views/Main.js","App.js","tree/tree.js","index.js"],"names":["get","collection","path","value","split","i","length","dim","dimensions","time","timeings","color","code","colors","startsWith","indexOf","icon","getType","typeOrName","icons","translate","Mask","styled","div","props","top","bottom","left","right","opacity","mask","defaultProps","propTypes","PropTypes","number","string","canvas","width","height","getCategories","selectCategory","selectItem","mainGroup","prevMousePlace","move","board","line","d3","x","d","y","curve","on","mousePlace","offsetX","offsetY","data","append","attr","transition","duration","ease","t","remove","clickIsBlock","packDomain","mainData","colorScaleRange","access","getTranslate","handleNodeClick","circle","text","clickAction","n","depth","parent","level","name","createPack","setTimeout","paintCircle","nodes","colorScale","domain","range","circles","selectAll","id","enter","r","c","exit","exitCircles","updateCircles","paintText","childrenScope","isEmpty","children","adaptText","radius","cutIn","substring","getFontSize","size","Math","floor","getTextPosition","texts","exitTexts","updateTexts","findLibrary","lib","find","findCategory","cat","l","onLibrarySelected","library","onCategorySelected","category","onItemSelected","it","item","findItem","onRemoveLibrary","filter","onRemoveCategory","onRemoveItem","onChangeFromEditor","editorData","root","normalizeData","libIndex","findIndex","catIndex","onAddLibrary","newLib","push","v4","onAddCategory","newCat","onBack","setSelectLib","getCategoriesFromLibrary","setSelectCat","handleClickOnCat","setSelectItem","handleClickOnItem","setCanvas","w","h","newData","key","countBack","isMainData","packLayout","padding","treeRoot","descendants","createNodes","Column","zIndex","background","flex","shadowColor","oneOfType","Row","menuItem","Label","fontSize","weight","useStyles","makeStyles","theme","btn","marginLeft","marginTop","SearchBar","label","nested","classes","IconButton","className","onClick","Icon","renderBack","SpaceAround","Srow","selected","ListItem","handleRowClick","handleRemove","handleEdit","useBranch","handleRemoveClick","e","stopPropagation","isSelected","Absolute","open","AddRow","handleAdd","useState","setValue","useEffect","add","style","cursor","onKeyUp","TextField","autoFocus","fullWidth","onChange","target","trimStart","variant","axios","require","rootUrl","params","from","query","setLibToSelected","tree","set","setLibs","libs","setLibToFocus","addLib","then","res","catch","err","console","log","response","message","removeLib","setCatToSelected","setCats","cats","setCatToFocus","addCategory","removeCategory","getItemsFromCategory","amount","generateFromCat","setKey","newKey","schemeName","viewKey","onEditorChange","items","scheme","generate","replaceScheme","setItemToFocus","setSelected","removeItem","field","focus","LeftPanel","dispatch","libsActions","getLabel","catsActions","packUtils","addTo","trim","listOf","handleClickOnLib","itemsActions","handleRemoveLib","handleRemoveCat","handleRemoveItem","handleEditLib","handleEditCat","map","Object","keys","Editor","isData","initCode","setInitCode","setCode","codeFromProps","JSON","stringify","placeholder","mode","onLoad","newCode","parse","error","updateScheme","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","SwitchButtonCont","selectedBtn","SwitchEditorBtn","onSwitch","CodeSelected","codeClass","schemeClass","marginRight","Start","measure","bind","createCanvas","this","do","margin","canvasReady","Bounding","document","getElementById","getBoundingClientRect","Component","OpenPanelCanvas","close","setclose","onCanvasReady","frame","createFrame","overflow","TopBar","InnerColumn","SchemePanel","mockData","selectedCategory","editorWrapper","useRef","editorWidth","setEditorWidth","editorToRender","setEditorToRender","handleSwitchEditor","v","InnerFlex","ref","current","jsonToRender","renderEditor","MainCanvas","getAllLibs","schemePanelSize","leftPanelSize","getFlex","Main","display","MenuPanel","primary","secondary","createMuiTheme","palette","main","App","Root","useRoot","ThemeProvider","Baobab","selectedLibrary","window","ReactDOM","render"],"mappings":"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","file":"static/js/main.593df8db.chunk.js","sourcesContent":["\nimport colors from \"../config/colors\";\nimport icons from \"../config/icons\";\nimport dimensions from \"../config/dimensions\";\nimport timeings from \"../config/time\";\n\nfunction get(collection, path) {\n    if(!path) return collection;\n    \n    let value = collection;\n    \n    if (typeof path === 'string') {\n        path = path.split(/[.,]/);\n    }\n    \n    for (let i = 0; i < path.length; i++) {\n        \n        if(typeof value === 'undefined'){\n            return undefined;\n        }\n        value = value[path[i]];  \n    }\n    \n    return value; \n};\n\nexport const dim = (path) => {\n    let dimension = get(dimensions,path);\n    return dimension;\n}\n\nexport const time = (path) => {\n    let timing = get(timeings,path);\n    return timing;\n}\n\nexport const color = (path) => {\n    let code = get(colors,path);\n    \n    if ( !(typeof code === 'string') ) {     \n        return code;\n    } \n\n    if ( code.startsWith('#') ) {\n      return code;\n    } \n\n    if ( code.indexOf('.') > -1 || code.indexOf(',') > -1 ){\n        return color(code);\n    }\n\n    return undefined;\n};\n\nexport const icon = (path, getType = false) => {\n    const typeOrName = getType ? 'type' : 'name';\n\n    let code = get(icons,path);\n    \n    if ( typeof code === 'string' && (code.indexOf('.') > -1 || code.indexOf(',') > -1) ){\n        return icon(code,getType);\n    }\n\n    if(!code) return undefined;\n\n    if ( !code[typeOrName] ) {     \n        return code;\n    }\n\n    return code[typeOrName];\n};\n\nexport const translate = (value) => {\n    return value;\n}\n\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Mask = styled.div`\n  position: absolute;\n  top: ${props => props.top || 0};\n  bottom: ${props => props.bottom || 0};\n  left: ${props => props.left || 0};\n  right: ${props => props.right || 0};\n  opacity: ${props => props.opacity};\n  background: ${props => props.mask};\n`;\n\nMask.defaultProps = {\n    opacity: 0.7,\n    mask: 'white',\n  }\n  \n  Mask.propTypes = {\n    opacity: PropTypes.number,\n    mask: PropTypes.string,\n  }\n  \n  \n  export default Mask","import * as d3 from \"d3\";\r\nimport { v4 } from \"node-uuid\";\r\nimport { isEmpty, find, findIndex } from \"lodash\";\r\nimport * as access from \"../../access\";\r\n\r\nimport { move } from \"./canvasActions\";\r\n\r\nconst padding = 30;\r\nconst margin = 45;\r\nconst marginBottom = 10;\r\n\r\nlet canvas, width, height;\r\nlet getCategories;\r\nlet selectCategory;\r\nlet selectItem;\r\nlet clickIsBlock = false;\r\nlet mainGroup;\r\nlet packDomain = 0;\r\nlet mainData = null;\r\nlet colorScaleRange = [\r\n  access.color(\"canvases.packBgStart\"),\r\n  access.color(\"canvases.packBgEnd\")\r\n];\r\n\r\n// const addGlowFilter = () => {\r\n//   var defs = canvas.append(\"defs\");\r\n\r\n//   var filter = defs.append(\"filter\").attr(\"id\", \"glow\");\r\n//   filter\r\n//     .append(\"feGaussianBlur\")\r\n//     .attr(\"stdDeviation\", \"3.5\")\r\n//     .attr(\"result\", \"coloredBlur\");\r\n\r\n//   var feMerge = filter.append(\"feMerge\");\r\n//   feMerge.append(\"feMergeNode\").attr(\"in\", \"coloredBlur\");\r\n//   feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\");\r\n// };\r\n\r\nconst getTranslate = d => {\r\n  return `translate(${d.x},${d.y + margin - marginBottom})`;\r\n};\r\n\r\nconst createNodes = nodes => {\r\n  paintCircle(nodes);\r\n  paintText(nodes);\r\n  const circles = mainGroup.selectAll(\"circle\");\r\n  const texts = mainGroup.selectAll(\"text\");\r\n\r\n  move(canvas, circles, access.color(\"canvases.bg\"));\r\n  move(canvas, texts, access.color(\"canvases.fg\"));\r\n\r\n  handleNodeClick(circles, texts);\r\n};\r\n\r\nconst handleNodeClick = (circle, text) => {\r\n  const blockButton = () => {\r\n    clickIsBlock = true;\r\n    setTimeout(() => {\r\n      clickIsBlock = false;\r\n    }, 2000);\r\n  };\r\n\r\n  const clickAction = n => {\r\n    if (clickIsBlock) return;\r\n    if (n.depth === 0) return;\r\n    if (n.depth === 2) n = n.parent;\r\n\r\n    switch (n.data.level) {\r\n      case 1:\r\n        getCategories(n.data.name);\r\n        break;\r\n      case 2:\r\n        selectCategory(n.data.name);\r\n        break;\r\n      case 3:\r\n        selectItem(n.data.name);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    createPack(n.data);\r\n    blockButton();\r\n  };\r\n\r\n  circle.on(\"click\", n => {\r\n    clickAction(n);\r\n  });\r\n\r\n  text.on(\"click\", n => {\r\n    clickAction(n);\r\n  });\r\n};\r\n\r\nconst paintCircle = nodes => {\r\n  const enterCircles = c => {\r\n    c.enter()\r\n      .append(\"circle\")\r\n      .attr(\"r\", 0)\r\n      .attr(\"transform\", getTranslate)\r\n      .attr(\"fill-opacity\", 0.5)\r\n      .transition()\r\n      .duration(2000)\r\n      .attr(\"fill\", d => colorScale(d.data.value))\r\n      .attr(\"transform\", getTranslate)\r\n      .attr(\"r\", d => d.r);\r\n  };\r\n\r\n  const exitCircles = c => {\r\n    c.exit()\r\n      .transition()\r\n      .duration(2000)\r\n      .attr(\"r\", 0)\r\n      .transition()\r\n      .remove();\r\n  };\r\n\r\n  const updateCircles = c => {\r\n    c.transition()\r\n      .duration(2000)\r\n      .attr(\"fill\", d => colorScale(d.data.value))\r\n      .attr(\"transform\", getTranslate)\r\n      .attr(\"r\", d => d.r);\r\n  };\r\n\r\n  const colorScale = d3\r\n    .scaleLinear()\r\n    .domain([0, packDomain])\r\n    .range(colorScaleRange);\r\n\r\n  const circles = mainGroup.selectAll(\"circle\").data(nodes, d => d.data.id);\r\n\r\n  enterCircles(circles);\r\n  exitCircles(circles);\r\n  updateCircles(circles);\r\n};\r\n\r\nconst paintText = nodes => {\r\n  const childrenScope = d => {\r\n    return isEmpty(d.data.children) || d.depth === 2;\r\n  };\r\n\r\n  const adaptText = d => {\r\n    let text = d.data.name;\r\n    let radius = d.r;\r\n    let cutIn = 16;\r\n\r\n    if (childrenScope(d)) {\r\n      cutIn = radius < 50 ? 14 : cutIn;\r\n      cutIn = radius < 40 ? 12 : cutIn;\r\n      cutIn = radius < 35 ? 9 : cutIn;\r\n      cutIn = radius < 30 ? 7 : cutIn;\r\n      cutIn = radius < 20 ? 3 : cutIn;\r\n\r\n      if (text.length <= cutIn) return text;\r\n      return text.substring(0, cutIn) + \"...\";\r\n    }\r\n\r\n    return text;\r\n  };\r\n\r\n  const getFontSize = d => {\r\n    let size = Math.floor(d.r / 3);\r\n\r\n    size = size < 8 ? 8 : size;\r\n    size = size > 14 ? 14 : size;\r\n    return size;\r\n  };\r\n\r\n  const getTextPosition = d => {\r\n    if (d.depth === 0 && !isEmpty(d.data.children)) return -(d.r + 10);\r\n    return childrenScope(d) ? 0 : -(d.r + 5);\r\n  };\r\n\r\n  const enterTexts = t => {\r\n    t.enter()\r\n      .append(\"text\")\r\n      .attr(\"transform\", getTranslate)\r\n      .attr(\"y\", getTextPosition)\r\n      .attr(\"class\", d => (childrenScope(d) ? \"light-text\" : \"text\"))\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"font-size\", \"0\")\r\n      .text(d => adaptText(d))\r\n      .transition()\r\n      .duration(2000)\r\n      .attr(\"font-size\", d => getFontSize(d));\r\n  };\r\n\r\n  const exitTexts = t => {\r\n    t.exit()\r\n      .transition()\r\n      .duration(2000)\r\n      .attr(\"font-size\", 0)\r\n      .transition()\r\n      .remove();\r\n  };\r\n\r\n  const updateTexts = t => {\r\n    t.transition()\r\n      .duration(1000)\r\n      .attr(\"font-size\", 0)\r\n      .transition()\r\n      .duration(10)\r\n      .attr(\"transform\", getTranslate)\r\n      .transition()\r\n      .duration(1000)\r\n      .text(d => adaptText(d))\r\n      .attr(\"y\", getTextPosition)\r\n      .attr(\"class\", d => (childrenScope(d) ? \"light-text\" : \"text\"))\r\n      .attr(\"font-size\", d => getFontSize(d));\r\n  };\r\n\r\n  const texts = mainGroup.selectAll(\"text\").data(nodes, d => d.data.id);\r\n\r\n  enterTexts(texts);\r\n  exitTexts(texts);\r\n  updateTexts(texts);\r\n};\r\n\r\nconst findLibrary = lib => {\r\n  const library = find(mainData.children, c => {\r\n    return c.name === lib;\r\n  });\r\n\r\n  return library;\r\n};\r\n\r\nconst findCategory = (lib, cat) => {\r\n  const category = find(lib.children, l => {\r\n    return l.name === cat;\r\n  });\r\n\r\n  return category;\r\n};\r\n\r\nconst findItem = (category, item) => {\r\n  const it = find(category.children, l => {\r\n    return l.name === item;\r\n  });\r\n\r\n  return it;\r\n};\r\n\r\nexport const onLibrarySelected = lib => {\r\n  const library = findLibrary(lib);\r\n  createPack(library);\r\n};\r\n\r\nexport const onCategorySelected = (lib, cat) => {\r\n  const library = findLibrary(lib);\r\n  const category = findCategory(library, cat);\r\n  createPack(category);\r\n};\r\n\r\nexport const onItemSelected = (lib, cat, it) => {\r\n  const library = findLibrary(lib);\r\n  const category = findCategory(library, cat);\r\n  const item = findItem(category, it);\r\n  createPack(item);\r\n};\r\n\r\nexport const onRemoveLibrary = lib => {\r\n  mainData.children = mainData.children.filter(l => {\r\n    return l.name !== lib;\r\n  });\r\n\r\n  createPack(mainData);\r\n};\r\n\r\nexport const onRemoveCategory = (lib, cat) => {\r\n  const library = findLibrary(lib);\r\n  library.children = library.children.filter(l=>  l.name !== cat);\r\n  createPack(library);\r\n};\r\n\r\nexport const onRemoveItem = (lib, cat, it) => {\r\n  const library = findLibrary(lib);\r\n  const category = findCategory(library,cat);\r\n\r\n  category.children = category.children.filter(l=>  l.name !== it);\r\n  createPack(category);\r\n};\r\n\r\nexport const onChangeFromEditor = (lib, cat, editorData) => {\r\n  const library = findLibrary(lib);\r\n  let category = findCategory(library,cat);\r\n\r\n  const root = {\r\n    name: category.name,\r\n    value: 1,\r\n    children: [],\r\n    id: category.id,\r\n    level: 2\r\n  };\r\n \r\n  category = normalizeData(editorData,root);\r\n\r\n  const libIndex = findIndex(mainData.children,['name', lib]);\r\n  const catIndex = findIndex(library.children,['name', cat]);\r\n\r\n  mainData.children[libIndex].children[catIndex] = category;\r\n  createPack(category);\r\n};\r\n\r\nexport const onAddLibrary = newLib => {\r\n  mainData.children.push({\r\n    name: newLib,\r\n    value: 1,\r\n    children: [],\r\n    id: v4(),\r\n    level: 1\r\n  });\r\n\r\n  createPack(mainData);\r\n};\r\n\r\nexport const onAddCategory = (lib, newCat) => {\r\n  const library = findLibrary(lib);\r\n\r\n  library.children.push({\r\n    name: newCat,\r\n    value: 1,\r\n    children: [],\r\n    id: v4(),\r\n    level: 2\r\n  });\r\n\r\n  createPack(library);\r\n};\r\n\r\nexport const onBack = (lib) => {\r\n  if(lib){\r\n    const library = findLibrary(lib);\r\n    return createPack(library);\r\n  }\r\n\r\n  createPack(mainData);\r\n};\r\n\r\nexport const setSelectLib = getCategoriesFromLibrary => {\r\n  getCategories = getCategoriesFromLibrary;\r\n};\r\n\r\nexport const setSelectCat = handleClickOnCat => {\r\n  selectCategory = handleClickOnCat;\r\n};\r\n\r\nexport const setSelectItem = handleClickOnItem => {\r\n  selectItem = handleClickOnItem;\r\n};\r\n\r\nexport const setCanvas = (c, w, h) => {\r\n  canvas = c;\r\n  width = w;\r\n  height = h;\r\n\r\n  mainGroup = canvas.append(\"g\").attr(\"class\", \"pack\");\r\n};\r\n\r\nexport const normalizeData = (data, newData) => {\r\n  if (!newData)\r\n    newData = {\r\n      name: \"Project Name\",\r\n      value: 1,\r\n      children: [],\r\n      id: \"id\",\r\n      level: 0\r\n    };\r\n\r\n  if (typeof data == \"string\" || typeof data == \"number\") {\r\n    newData.value = 1;\r\n    newData.name = `${newData.name}: ${data}`;\r\n    delete newData.children;\r\n    return newData;\r\n  }\r\n\r\n  for (const key in data) {\r\n    const d = {\r\n      name: key,\r\n      value: 1,\r\n      children: [],\r\n      id: `${newData.id}-${key}`,\r\n      level: newData.level + 1\r\n    };\r\n\r\n    const countBack = normalizeData(data[key], d);\r\n\r\n    newData.value += countBack.value;\r\n    newData.children.push(d);\r\n  }\r\n\r\n  return newData;\r\n};\r\n\r\nexport const createPack = (data, isMainData) => {\r\n  if (isMainData) mainData = data;\r\n\r\n  packDomain = data.value;\r\n\r\n  const packLayout = d3\r\n    .pack()\r\n    .size([width, height - margin])\r\n    .padding(padding);\r\n\r\n  const treeRoot = d3.hierarchy(data);\r\n  packLayout(treeRoot);\r\n\r\n  let nodes = treeRoot.descendants();\r\n\r\n  nodes = nodes.filter(n => {\r\n    return n.depth < 3;\r\n    // return n.depth > 0 && n.depth < 3;\r\n  });\r\n  createNodes(nodes);\r\n};\r\n","import * as d3 from \"d3\";\r\n\r\nlet prevMousePlace = null;\r\n\r\nexport const move = (canvas, board, color) => {\r\n  const line = d3\r\n    .line()\r\n    .x(d => d.x)\r\n    .y(d => d.y)\r\n    .curve(d3.curveBasis);\r\n\r\n  board.on(\"mouseout\", () => {\r\n    prevMousePlace = null;\r\n  });\r\n\r\n  board.on(\"mousemove\", (d, i) => {\r\n    const mousePlace = {\r\n      x: d3.event.offsetX,\r\n      y: d3.event.offsetY\r\n    };\r\n\r\n    if (!prevMousePlace) {\r\n      prevMousePlace = mousePlace;\r\n      return;\r\n    }\r\n\r\n    const data = [prevMousePlace, mousePlace];\r\n\r\n    prevMousePlace = mousePlace;\r\n\r\n    canvas\r\n      .append(\"path\")\r\n      .attr(\"d\", line(data))\r\n      .attr(\"fill\", \"none\")\r\n      .attr(\"stroke\", color)\r\n      .attr(\"stroke-width\", 2)\r\n      .transition()\r\n      .duration(450)\r\n      .attr(\"stroke-width\", 0)\r\n      .ease(t => d3.easeBounceOut(t))\r\n      .transition()\r\n      .duration(10)\r\n      .remove();\r\n  });\r\n};\r\n","import styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nconst Column = styled.div`\n  z-index: ${props => props.zIndex};\n  position: relative;\n  min-width: 100px;\n  height: ${props => props.height};\n  background: ${props => props.background};\n  display: flex;\n  flex: ${props => props.flex};\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow: auto;\n  box-shadow: 1px 0px 4px 0px ${props => props.shadowColor};\n`;\n\nColumn.defaultProps = {\n  zIndex: 1,\n  flex: 0.2,\n  height: '100%',\n  background: 'inherit',\n  shadowColor: \"rgb(93, 107, 140)\",\n  }\n\nColumn.propTypes = {\n  flex: PropTypes.number,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  background: PropTypes.string,\n  shadowColor: PropTypes.string\n};\n\nexport default Column;\n","import styled from 'styled-components';\nimport PropTypes from \"prop-types\";\nimport { color } from \"../access\";\n\nconst Row = styled.div`  \n  z-index: ${props => props.zIndex};\n  position: relative; \n  overflow: hidden;\n  min-height: 50px;\n  height: ${props => props.height};\n  width: ${props => props.width};\n  background: ${props => props.background};\n  color: ${props => props.color};\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  cursor:  ${(props) => (props.menuItem && 'pointer')};\n  box-shadow: 0px 1px 4px 0px ${props => props.shadowColor};\n  :hover {\n    background: ${(props) => (props.menuItem && color('backgrounds.hover'))};\n    color: ${(props) => (props.menuItem && color('texts.primary'))};\n  }\n  :active {\n    background: ${(props) => (props.menuItem && color('backgrounds.active'))};\n    color: ${(props) => (props.menuItem && color('texts.primary'))};\n  }\n`\n\nRow.defaultProps = {\n  zIndex: 1,\n  width: '100%',\n  height: '50px',\n  background: 'inherit',\n  color: color('texts.secondary'),\n  shadowColor: 'rgb(93, 107, 140)',\n  }\n\nRow.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  background: PropTypes.string,\n  shadowColor: PropTypes.string\n};\n\nexport default Row;","import styled from 'styled-components';\n\nconst Label = styled.div`   \n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 0 10px;\n  width: ${props => props.width || 'fit-content'};\n  color: ${props => props.color || 'inherit'};\n  font-size: ${props => props.fontSize || 'inherit'};\n  font-weight:  ${props => props.weight || '400'};\n`\n\nexport default Label;","import React from \"react\";\r\nimport { Icon, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport * as access from \"../access\";\r\n\r\nimport Row from \"../Layouts/Row\";\r\nimport Label from \"../tools/Label\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  btn: {\r\n    marginLeft: 10,\r\n    marginTop: 2,\r\n    color: access.color(\"searchBar.fg\")\r\n  }\r\n}));\r\n\r\nfunction SearchBar({ label, nested, onBack }) {\r\n  const classes = useStyles();\r\n  \r\n  const renderBack = ()=>{\r\n    if(!nested) return;\r\n    \r\n    return(\r\n      <IconButton className={classes.btn} size=\"small\" onClick={onBack}>\r\n        <Icon>{access.icon(\"searchBar.back\")}</Icon>\r\n      </IconButton>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Row background={access.color(\"searchBar.bg\")}>\r\n      { renderBack() }\r\n      <Label color={access.color(\"searchBar.fg\")}>{label}</Label>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import styled from 'styled-components';\n\nconst SpaceBetween = styled.div`   \n  width: ${props => props.width || '50px'};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst SpaceAround = styled.div`   \n  width: ${props => props.width || '50px'};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n`\n\nexport { SpaceBetween, SpaceAround };","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\n\r\nimport { Icon, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as access from \"../access\";\r\n\r\nimport Row from \"../Layouts/Row\";\r\nimport Label from \"../tools/Label\";\r\nimport { SpaceAround } from \"../Layouts/Spaces\";\r\n\r\nconst Srow = styled(Row)`\r\n  justify-content: space-between;\r\n  background: ${props => props.selected ? access.color('backgrounds.primary') : 'inherit'};\r\n  color: ${props => props.selected ? access.color('texts.primary') : 'inherit'};\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  btn: {\r\n    color: access.color(\"texts.primary\"),\r\n    padding: 5,\r\n    fontSize: 20,\r\n  }\r\n}));\r\n\r\nfunction ListItem({ label, handleRowClick, handleRemove, handleEdit, parent }) {\r\n  const classes = useStyles();\r\n  const { selected } = useBranch({ selected: [\"selected\"] });\r\n\r\n  const handleRemoveClick = (e)=>{\r\n    e.stopPropagation();\r\n    handleRemove(label);\r\n  }\r\n\r\n  // const handleEditClick = (e)=>{\r\n  //   e.stopPropagation();\r\n  //   handleEdit(label);\r\n  // }\r\n\r\n  const renderRemove = () => {\r\n    return (\r\n      <IconButton size=\"small\" onClick={handleRemoveClick}>\r\n        <Icon className={classes.btn}>{access.icon(\"listItem.remove\")}</Icon>\r\n      </IconButton>\r\n    );\r\n  };\r\n\r\n  const rendeEdit = () => {\r\n    return null\r\n    //TODO: edit + SpaceAround width={\"80px\"}\r\n    // return (\r\n    //   <IconButton style={{cursor:'not-allowed'}} size=\"small\" onClick={handleEditClick}>\r\n    //     <Icon className={classes.btn}>{access.icon(\"listItem.edit\")}</Icon>\r\n    //   </IconButton>\r\n    // );\r\n  };\r\n\r\n  const renderButtons = () => {\r\n    return (\r\n      <SpaceAround width={\"50px\"}>\r\n        {rendeEdit()}\r\n        {renderRemove()}\r\n      </SpaceAround>\r\n    );\r\n  };\r\n\r\n  const isSelected = selected === `${parent}:${label}`;\r\n\r\n  return (\r\n    <Srow\r\n      key={label}\r\n      menuItem={true}\r\n      selected={isSelected}\r\n      onClick={() => {\r\n        handleRowClick(label);\r\n      }}\r\n    >\r\n      <Label>{label}</Label>\r\n      {renderButtons()}\r\n    </Srow>\r\n  );\r\n}\r\n\r\nexport default ListItem;\r\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Absolute = styled.div`\n  position: absolute;\n  top: ${props => props.top};\n  bottom: ${props => props.bottom};\n  left: ${props => props.left};\n  right: ${props => props.right};\n  background: transparent;\n`;\n\nAbsolute.defaultProps = {\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0\n  }\n  \n  Absolute.propTypes = {\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n    left: PropTypes.number,\n    right: PropTypes.number\n  }\n  \n  \n  export default Absolute","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Icon, IconButton, TextField } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as access from \"../access\";\r\n\r\nimport Row from \"../Layouts/Row\";\r\nimport Absolute from \"../Layouts/Absolute\";\r\n\r\nlet open = false;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  btn: {\r\n    color: access.color(\"texts.secondary\"),\r\n    padding: 5,\r\n    fontSize: 20\r\n  }\r\n}));\r\n\r\nfunction AddRow({ label, handleAdd }) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    open = false;\r\n  }, []);\r\n\r\n  const handleOnKeyPrass = e => {\r\n    if (!value) return;\r\n    switch (e.key) {\r\n      case \"Escape\":\r\n        setValue(\"\");\r\n        break;\r\n      case \"Enter\":\r\n        add();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const add = () => {\r\n    handleAdd(value);\r\n    setValue(\"\");\r\n  };\r\n\r\n  const renderAddBtn = () => {\r\n    if (!value) return null;\r\n\r\n    return (\r\n      <Absolute left={null}>\r\n        <Row>\r\n          <IconButton size=\"small\" onClick={add}>\r\n            <Icon className={classes.btn}>{access.icon(\"leftPanel.add\")}</Icon>\r\n          </IconButton>\r\n        </Row>\r\n      </Absolute>\r\n    );\r\n  };\r\n\r\n  const renderInput = () => {\r\n    const handleChange = e => {\r\n      if (!open) open = true;\r\n      setValue(e.target.value.trimStart());\r\n    };\r\n\r\n    return (\r\n      <TextField\r\n        autoFocus={open}\r\n        fullWidth={true}\r\n        value={value}\r\n        onChange={handleChange}\r\n        label={label}\r\n        variant={\"filled\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Row style={{ cursor: \"pointer\" }} onKeyUp={handleOnKeyPrass}>\r\n      {renderInput()}\r\n      {renderAddBtn()}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default AddRow;\r\n","const axios = require(\"axios\");\r\n\r\nconst rootUrl = \"http://localhost:5588/mocking_G\";\r\n\r\nfunction get(path, params) {\r\n  let from = `${rootUrl}${path}`;\r\n  let query = { params };\r\n\r\n  return axios.get(from, query);\r\n}\r\n\r\nexport { get };\r\n","import { get } from \"../../plugins/requests\";\r\n\r\nfunction setLibToSelected(tree,lib) {\r\n  tree.set([\"selectedLibrary\"], lib);\r\n}\r\n\r\nexport function setLibs(tree, libs) {\r\n  tree.set([\"libs\"], libs);\r\n}\r\n\r\nexport function setLibToFocus(tree, lib) {\r\n  tree.set([\"focus\", \"lib\"], lib);\r\n\r\n  if(lib){\r\n    setLibToSelected(tree, lib);\r\n  }\r\n}\r\n\r\nexport function addLib(tree, lib) {\r\n  get(\"/addLibrary\", { library: lib })\r\n    .then(res => {\r\n      tree.set(\"libs\", res.data);\r\n    })\r\n    .catch(err => {\r\n      console.log(err.response.data.message);\r\n    });\r\n}\r\n\r\nexport function removeLib(tree, lib) {\r\n  get(\"/removeLibrary\", { library: lib }).then(res => {\r\n    tree.set(\"libs\", res.data);\r\n  });\r\n}\r\n\r\nexport function getCategoriesFromLibrary(tree, library) {\r\n  get(\"/getCategoriesFromLibrary\", { library }).then(res => {\r\n    tree.set(\"cats\", res.data);\r\n    setTimeout(() => {\r\n      tree.set([\"focus\", \"lib\"], library);\r\n      setLibToSelected(tree, library);\r\n    });\r\n  });\r\n}\r\n","import { onCategorySelected } from \"../../plugins/canvases/utils/packUtils\";\r\nimport { get } from \"../../plugins/requests\";\r\n\r\nfunction setCatToSelected(tree,cat) {\r\n  tree.set([\"selectedCategory\"], cat);\r\n}\r\n\r\nexport function generateFromCat(tree,category, amount = 1) {\r\n  const library = tree.get([\"focus\", \"lib\"]);\r\n\r\n  get(\"/generate\", { library, category, amount }).then((res)=>{\r\n    tree.set('mockData',res.data);\r\n  }).catch((err)=>{\r\n    //TODO: notify type does not exist\r\n    console.log(err.response.data.message)\r\n  })\r\n}\r\n\r\nexport function setCats(tree, cats) {\r\n  tree.set([\"cats\"], cats);\r\n}\r\n\r\nexport function setCatToFocus(tree, cat) {\r\n  tree.set([\"focus\", \"cat\"], cat);\r\n\r\n  if(cat){\r\n    setCatToSelected(tree,cat);\r\n  }\r\n}\r\n\r\nexport function addCategory(tree, category) {\r\n  const library = tree.get([\"focus\", \"lib\"]);\r\n\r\n  get(\"/addCategory\", { library, category })\r\n    .then(res => {\r\n      tree.set(\"cats\", res.data);\r\n    })\r\n    .catch(err => {\r\n      console.log(err.response.data.message);\r\n    });\r\n}\r\n\r\nexport function removeCategory(tree, category) {\r\n  const library = tree.get([\"focus\", \"lib\"]);\r\n\r\n  get(\"/removeCategory\", { library, category }).then(res => {\r\n    tree.set(\"cats\", res.data);\r\n  });\r\n}\r\n\r\nexport function getItemsFromCategory(tree, category) {\r\n  const library = tree.get([\"focus\", \"lib\"]);\r\n\r\n  get(\"/getScheme\", { library, category }).then(res => {\r\n    tree.set(\"items\", res.data);\r\n    setTimeout(() => {\r\n      tree.set([\"focus\", \"cat\"], category);\r\n      setCatToSelected(tree,category);\r\n      generateFromCat(tree,category)\r\n    });\r\n  });\r\n}\r\n\r\nexport function setKey(tree, { newKey, schemeName }) {\r\n  const viewKey = tree.get('viewKey');\r\n  const lib = tree.get(['focus','lib']);\r\n\r\n  if(viewKey !== newKey){\r\n      tree.set('viewKey',newKey);\r\n\r\n      setTimeout(() => {\r\n        onCategorySelected(lib,schemeName);\r\n      }, 200) \r\n  } else {\r\n    onCategorySelected(lib,schemeName);\r\n  }\r\n}\r\n","import { get } from \"../../plugins/requests\";\r\nimport { onChangeFromEditor } from \"../../plugins/canvases/utils/packUtils\";\r\n\r\nexport function setItems(tree, items) {\r\n  tree.set([\"items\"], items);\r\n}\r\n\r\nexport function generate(tree, items, amount = 1) {\r\n  get(\"/generate\", { scheme: items, amount })\r\n    .then(res => {\r\n      tree.set(\"mockData\", res.data);\r\n    })\r\n    .catch(err => {\r\n      //TODO: notify type does not exist\r\n      console.log(err.response.data.message);\r\n    });\r\n}\r\n\r\nfunction replaceScheme(tree, items) {\r\n  const library = tree.get(\"selectedLibrary\");\r\n  const category = tree.get(\"selectedCategory\");\r\n\r\n  get(\"/replaceScheme\", { scheme: items, library, category })\r\n    .then(res => {\r\n      tree.set(\"items\", res.data);\r\n      onChangeFromEditor(library, category, res.data);\r\n    })\r\n    .catch(err => {\r\n      //TODO: notify type does not exist\r\n      console.log(err.response.data.message);\r\n    });\r\n}\r\n\r\nexport function onEditorChange(tree, items) {\r\n  generate(tree, items, 1);\r\n  replaceScheme(tree, items);\r\n}\r\n\r\nexport function setItemToFocus(tree, item) {\r\n  tree.set([\"focus\", \"item\"], item);\r\n}\r\n\r\nexport function setSelected(tree, item) {\r\n  const cat = tree.get([\"focus\", \"cat\"]);\r\n  tree.set([\"selected\"], `${cat}:${item}`);\r\n}\r\n\r\nexport function removeItem(tree, field) {\r\n  const focus = tree.get([\"focus\"]);\r\n  const library = focus.lib;\r\n  const category = focus.cat;\r\n\r\n  get(\"/removeFromScheme\", { library, category, field }).then(res => {\r\n    tree.set(\"items\", res.data);\r\n  });\r\n}","import { onItemSelected } from \"../../plugins/canvases/utils/packUtils\";\r\n\r\nexport function setKey(tree, { newKey, schemeName}) {\r\n    const viewKey = tree.get('viewKey');\r\n    const focus = tree.get(['focus']);\r\n\r\n    if(viewKey !== newKey){\r\n        tree.set('viewKey',newKey);\r\n\r\n        setTimeout(() => {\r\n            onItemSelected(focus.lib,focus.cat,schemeName);\r\n        }, 200) \r\n    } else {\r\n        onItemSelected(focus.lib,focus.cat,schemeName);\r\n    }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\n\r\nimport * as access from \"../plugins/access\";\r\nimport * as packUtils from \"../plugins/canvases/utils/packUtils\";\r\n\r\nimport Column from \"../plugins/Layouts/Column\";\r\n\r\nimport SearchBar from \"../plugins/menuPanel/SearchBar\";\r\nimport ListItem from \"../plugins/menuPanel/ListItem\";\r\nimport AddRow from \"../plugins/menuPanel/AddRow\";\r\n\r\nimport * as libsActions from \"../tree/actions/libs\";\r\nimport * as catsActions from \"../tree/actions/cats\";\r\nimport * as itemsActions from \"../tree/actions/items\";\r\nimport { setKey } from \"../tree/actions/general\";\r\nimport { get } from \"../plugins/requests\";\r\n\r\nfunction LeftPanel() {\r\n  const { libs, dispatch } = useBranch({ libs: [\"libs\"] });\r\n  const { cats } = useBranch({ cats: [\"cats\"] });\r\n  const { items } = useBranch({ items: [\"items\"] });\r\n  const { focus } = useBranch({ focus: [\"focus\"] });\r\n\r\n  useEffect(() => {\r\n    get(\"/getAllLibraries\").then(res => {\r\n      dispatch(libsActions.setLibs, res.data);\r\n    });\r\n  }, []);\r\n\r\n  const RenderList = () => {\r\n    let listOf = !focus.lib ? \"libs\" : \"cats\";\r\n    if (focus.lib) {\r\n      listOf = !focus.cat ? \"cats\" : \"items\";\r\n    }\r\n\r\n    const handleClickOnLib = label => {\r\n      dispatch(libsActions.getCategoriesFromLibrary, label);\r\n      packUtils.onLibrarySelected(label);\r\n    };\r\n\r\n    const handleClickOnCat = label => {\r\n      dispatch(catsActions.getItemsFromCategory, label);\r\n      packUtils.onCategorySelected(focus.lib, label);\r\n      dispatch(catsActions.setKey, { newKey: \"showScheme\", schemeName: label });\r\n    };\r\n\r\n    const handleClickOnItem = label => {\r\n      dispatch(itemsActions.setSelected, label);\r\n\r\n      //TODO: open inspector\r\n      dispatch(setKey, { newKey: \"showScheme\", schemeName: label });\r\n    };\r\n\r\n    const handleRemoveLib = label => {\r\n      dispatch(libsActions.removeLib, label);\r\n      packUtils.onRemoveLibrary(label);\r\n    };\r\n\r\n    const handleRemoveCat = label => {\r\n      dispatch(catsActions.removeCategory, label);\r\n      packUtils.onRemoveCategory(focus.lib, label);\r\n    };\r\n\r\n    const handleRemoveItem = label => {\r\n      dispatch(itemsActions.removeItem, label);\r\n      packUtils.onRemoveItem(focus.lib, focus.cat, label);\r\n    };\r\n\r\n    const handleEditLib = label => {};\r\n\r\n    const handleEditCat = label => {};\r\n\r\n    switch (listOf) {\r\n      case \"libs\":\r\n        return libs.map(label => (\r\n          <ListItem\r\n            key={label}\r\n            label={label}\r\n            handleRowClick={handleClickOnLib}\r\n            handleRemove={handleRemoveLib}\r\n            handleEdit={handleEditLib}\r\n          />\r\n        ));\r\n      case \"cats\":\r\n        return cats.map(label => (\r\n          <ListItem\r\n            key={label}\r\n            parent={focus.lib}\r\n            label={label}\r\n            handleRowClick={handleClickOnCat}\r\n            handleRemove={handleRemoveCat}\r\n            handleEdit={handleEditCat}\r\n          />\r\n        ));\r\n      case \"items\":\r\n        return Object.keys(items).map(label => (\r\n          <ListItem\r\n            key={label}\r\n            parent={focus.cat}\r\n            label={label}\r\n            handleRowClick={handleClickOnItem}\r\n            handleRemove={handleRemoveItem}\r\n          />\r\n        ));\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const RenderAddRow = () => {\r\n    let addTo = !focus.lib ? \"libs\" : \"cats\";\r\n    if (focus.lib) {\r\n      addTo = !focus.cat ? \"cats\" : \"items\";\r\n    }\r\n\r\n    const handleAddLib = value => {\r\n      value = value.trim();\r\n      dispatch(libsActions.addLib, value);\r\n      packUtils.onAddLibrary(value);\r\n    };\r\n\r\n    const handleAddCat = value => {\r\n      value = value.trim();\r\n      dispatch(catsActions.addCategory, value);\r\n      packUtils.onAddCategory(focus.lib, value);\r\n    };\r\n\r\n    //TODO: add item\r\n    const handleAddItem = value => {\r\n      value = value.trim();\r\n      // dispatch(catsActions.addCategory, value);\r\n      // packUtils.onAddCategory(focus.lib, value);\r\n    };\r\n\r\n    switch (addTo) {\r\n      case \"libs\":\r\n        return (\r\n          <AddRow\r\n            label={access.translate(\"Add Library\")}\r\n            handleAdd={handleAddLib}\r\n          />\r\n        );\r\n      case \"cats\":\r\n        return (\r\n          <AddRow\r\n            label={access.translate(\"Add Category\")}\r\n            handleAdd={handleAddCat}\r\n          />\r\n        );\r\n      case \"items\":\r\n        return (\r\n          <AddRow\r\n            label={access.translate(\"Add Field\")}\r\n            handleAdd={handleAddItem}\r\n          />\r\n        );\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    const { lib, cat } = focus;\r\n    if (cat) {\r\n      dispatch(catsActions.setCatToFocus, null);\r\n      packUtils.onBack(lib);\r\n    } else if (lib) {\r\n      dispatch(libsActions.setLibToFocus, null);\r\n      packUtils.onBack();\r\n    }\r\n  };\r\n\r\n  const getLabel = () => {\r\n    const { lib, cat } = focus;\r\n    if (lib && cat) return `${lib} - ${cat}`;\r\n    if (lib) return lib;\r\n    return access.translate(\"Project Name\");\r\n  };\r\n\r\n  const zIndex = access.dim(\"zIndexViews.leftPanel\");\r\n  const flex = access.dim(\"flexViews.leftPanel\");\r\n\r\n  return (\r\n    <Column flex={flex} zIndex={zIndex}>\r\n      <SearchBar label={getLabel()} nested={focus.lib} onBack={handleBack} />\r\n      <RenderAddRow />\r\n      <Column flex={1}>\r\n        <RenderList />\r\n      </Column>\r\n    </Column>\r\n  );\r\n}\r\n\r\nexport default LeftPanel;\r\n","import React, { useState } from \"react\";\r\nimport AceEditor from \"react-ace\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\n\r\nimport \"ace-builds/src-noconflict/mode-json\";\r\nimport \"ace-builds/src-noconflict/theme-monokai\";\r\nimport \"ace-builds/src-noconflict/theme-xcode\";\r\n\r\nimport { onEditorChange } from \"../../tree/actions/items\";\r\n\r\nfunction Editor({ width, data, isData }) {\r\n  const { dispatch } = useBranch({ items: [\"focus\", \"cat\"] });\r\n\r\n  const [initCode, setInitCode] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n\r\n  const codeFromProps = JSON.stringify(data, null, 2);\r\n\r\n  if (data !== null && codeFromProps !== initCode) {\r\n    setInitCode(codeFromProps);\r\n    setCode(codeFromProps);\r\n  }\r\n\r\n  const updateScheme = newCode => {\r\n    try {\r\n      newCode = JSON.parse(newCode);\r\n      dispatch(onEditorChange, newCode);\r\n    } catch (error) {\r\n\r\n    }\r\n  };\r\n\r\n  const onLoad = () => {};\r\n\r\n  const onChange = c => {\r\n    setCode(c);\r\n    if (!isData) {\r\n      updateScheme(c);\r\n    }\r\n  };\r\n\r\n  const options = {\r\n    enableBasicAutocompletion: true,\r\n    enableLiveAutocompletion: false,\r\n    enableSnippets: false,\r\n    showLineNumbers: true,\r\n    tabSize: 2\r\n  };\r\n\r\n  const style = {\r\n    height: \"100%\",\r\n    width: width\r\n  };\r\n\r\n  return (\r\n    <AceEditor\r\n      style={style}\r\n      placeholder=\"Placeholder Text\"\r\n      mode=\"json\"\r\n      theme=\"xcode\"\r\n      name=\"blah2\"\r\n      onLoad={onLoad}\r\n      onChange={onChange}\r\n      fontSize={14}\r\n      showPrintMargin={true}\r\n      showGutter={true}\r\n      highlightActiveLine={true}\r\n      value={code}\r\n      setOptions={options}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { SpaceAround } from \"../Layouts/Spaces\";\r\n\r\nimport { Icon, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as access from \"../access\";\r\n\r\nconst SwitchButtonCont = styled(SpaceAround)`\r\n  &:before {\r\n    content: '';\r\n    height: 35px;\r\n    margin-right: 5px;\r\n    border-left: solid 1px ${access.color(\"schemePanel.divider\")};\r\n  }\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  selectedBtn: {\r\n    color: access.color(\"schemePanel.selected\"),\r\n    padding: 5,\r\n    fontSize: 25\r\n  },\r\n  btn: {\r\n    color: access.color(\"schemePanel.icons\"),\r\n    padding: 5,\r\n    fontSize: 25\r\n  }\r\n}));\r\n\r\nfunction SwitchEditorBtn({ onSwitch, value }) {\r\n  const selectScheme = () => {\r\n    onSwitch(\"scheme\");\r\n  };\r\n\r\n  const selectCode = () => {\r\n    onSwitch(\"code\");\r\n  };\r\n\r\n  const CodeSelected = value === \"code\";\r\n  const classes = useStyles();\r\n  const codeClass = CodeSelected ? classes.selectedBtn : classes.btn;\r\n  const schemeClass = !CodeSelected ? classes.selectedBtn : classes.btn;\r\n\r\n  return (\r\n    <SwitchButtonCont width={\"70px\"} style={{ marginRight: 10 }}>\r\n      <IconButton size=\"small\" onClick={selectScheme}>\r\n        <Icon className={schemeClass}>{access.icon(\"schemePanel.scheme\")}</Icon>\r\n      </IconButton>\r\n      <IconButton size=\"small\" onClick={selectCode}>\r\n        <Icon className={codeClass}>{access.icon(\"schemePanel.code\")}</Icon>\r\n      </IconButton>\r\n    </SwitchButtonCont>\r\n  );\r\n}\r\n\r\nSwitchEditorBtn.defaultProps = {\r\n  onSwitch: 1,\r\n  value: \"100%\"\r\n};\r\n\r\nSwitchEditorBtn.propTypes = {\r\n  onSwitch: PropTypes.func.isRequired,\r\n  value: PropTypes.oneOf([\"code\", \"scheme\"]).isRequired\r\n};\r\n\r\nexport default SwitchEditorBtn;\r\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { v4 } from 'node-uuid';\n\nexport default class Start extends Component {\n  constructor(props) {\n    super(props);\n\n    this.width = 0;\n    this.height = 0;\n    this.measure = this.measure.bind(this);\n    this.createCanvas = this.createCanvas.bind(this);\n  }\n\n  componentDidMount() {\n    this.measure();\n    const canvas = this.createCanvas();\n    this.do(canvas);\n  }\n\n  do(canvas) {\n    const { margin } = this.props;\n    const width = this.width - (margin.left + margin.right);\n    const height = this.height - (margin.top + margin.bottom);\n\n    return this.props.canvasReady(canvas, width, height);\n  }\n\n  createCanvas() {\n    const { margin } = this.props;\n\n    const canvas = d3\n      .select(`#${this.id}`)\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    return canvas;\n  }\n\n  measure() {\n    const cont = document.getElementById(this.id);\n    const Bounding = cont.getBoundingClientRect();\n\n    this.width = Bounding.width;\n    this.height = Bounding.height;\n  }\n\n  render() {\n    this.id = 'cont' + v4();\n\n    return <div id={this.id} style={{ height: '100%', width: '100%' }} />;\n  }\n}\n\nStart.defaultProps = {\n  margin: {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }\n};\n","import React, { useState } from \"react\";\r\nimport Start from \"../tools/Start\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\nimport * as access from \"../access\";\r\nimport { get } from \"../requests\";\r\n\r\nimport { move } from \"./utils/canvasActions\";\r\n\r\nimport \"./style.css\";\r\n\r\nfunction OpenPanelCanvas() {\r\n    const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\r\n    const [close, setclose] = useState(false);\r\n\r\n    if(close) return null;\r\n\r\n    if(viewKey !== \"initKey\"){\r\n        setTimeout(() => {\r\n            setclose(true);\r\n        }, access.time('schemePanel.removeCanvas'));\r\n    }\r\n\r\n    const createFrame = (canvas, width, height) => {\r\n        const frame = canvas\r\n          .append(\"rect\")\r\n          .attr(\"width\", width)\r\n          .attr(\"height\", height)\r\n          .attr(\"fill\", access.color(\"canvases.fg\"))\r\n\r\n\r\n        frame.transition()\r\n          .duration(3000)          \r\n          .attr(\"fill\", \"transparent\");\r\n\r\n    \r\n        return frame;\r\n      };\r\n \r\n\r\n  const onCanvasReady = (canvas, width, height) => {\r\n    const frame = createFrame(canvas, width, height);\r\n    move(canvas, frame, access.color(\"canvases.fg\"));\r\n  };\r\n\r\n  const renderStart = () => {\r\n    const margin = {\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0\r\n    };\r\n\r\n    return <Start canvasReady={onCanvasReady} margin={margin} />;\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '30vw' ,flex: 1, cursor: \"none\", overflow: 'hidden' }}>\r\n      {renderStart()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OpenPanelCanvas;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\n\r\nimport * as access from \"../plugins/access\";\r\n\r\nimport styled from \"styled-components\";\r\nimport Row from \"../plugins/Layouts/Row\";\r\nimport Column from \"../plugins/Layouts/Column\";\r\nimport Label from \"../plugins/tools/Label\";\r\nimport Editor from \"../plugins/editor/Editor\";\r\nimport SwitchEditorBtn from \"../plugins/schemePanel/SwitchEditorBtn\";\r\nimport OpenPanelCanvas from \"../plugins/canvases/OpenPanelCanvas\";\r\n\r\nconst Srow = styled(Row)`\r\n  flex: ${props => props.flex};\r\n`;\r\n\r\nconst TopBar = styled(Row)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst InnerColumn = styled(Column)`\r\n  min-width: 0;\r\n  transition: flex ${access.time('schemePanel.transition')}ms;\r\n  box-shadow: -2px 0px 4px 4px rgb(17, 38, 90);\r\n`;\r\n\r\nfunction SchemePanel() {\r\n  const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\r\n  const { items } = useBranch({ items: [\"items\"] });\r\n  const { mockData } = useBranch({ mockData: [\"mockData\"] });\r\n  const { selectedCategory } = useBranch({ selectedCategory: [\"selectedCategory\"] });\r\n\r\n  const editorWrapper = useRef();\r\n  const [editorWidth, setEditorWidth] = useState(0);\r\n  const [editorToRender, setEditorToRender] = useState('scheme');\r\n\r\n  const handleSwitchEditor = (v) => {\r\n    setEditorToRender(v);\r\n  }\r\n\r\n  const openPanelCanvas = () => {\r\n    if (viewKey === \"initKey\") return null;\r\n\r\n    return <OpenPanelCanvas/>\r\n  }\r\n\r\n  const renderEditor = () => {\r\n    const isData = editorToRender === 'code' ? true : false;\r\n\r\n    if (viewKey === \"initKey\") {\r\n      return null;\r\n    } else {\r\n      setTimeout(() => {\r\n        if(editorWrapper.current){\r\n          setEditorWidth(editorWrapper.current.getBoundingClientRect().width);\r\n        }\r\n      }, access.time('schemePanel.showEditor'));\r\n    }\r\n\r\n    if (editorWidth === 0) return null;\r\n    const width = editorWidth - editorWidth / 100;\r\n    let jsonToRender = items;\r\n    if(isData) jsonToRender = mockData;\r\n\r\n    return <Editor isData={isData} width={width} data={jsonToRender} />;\r\n  };\r\n\r\n  const renderActionBar = () => {\r\n    return (\r\n      <TopBar background={access.color(\"searchBar.bg\")}>\r\n        <Label color={access.color(\"searchBar.fg\")}>\r\n          {selectedCategory}\r\n        </Label>\r\n        <SwitchEditorBtn  onSwitch={handleSwitchEditor} value={editorToRender}/>\r\n      </TopBar>\r\n    );\r\n  };\r\n\r\n  const getFlex = () => {\r\n    if (viewKey !== \"initKey\") return access.dim(\"flexViews.schemePanel\");\r\n    return 0;\r\n  };\r\n\r\n  const getInnerFlex = () => {\r\n    if (viewKey !== \"initKey\") return 0.99;\r\n    return 0;\r\n  };\r\n\r\n  const flex = getFlex();\r\n  const InnerFlex = getInnerFlex();\r\n\r\n  const zIndex = access.dim(\"zIndexViews.schemePanel\");\r\n\r\n  \r\n  return (\r\n    <Srow\r\n      ref={editorWrapper}\r\n      flex={flex}\r\n      zIndex={zIndex}\r\n      background={access.color(\"canvases.bg\")}\r\n      height={\"100%\"}\r\n      shadowColor={\"none\"}\r\n    >\r\n      <InnerColumn flex={InnerFlex} background={access.color(\"schemePanel.bg\")}>\r\n        {renderActionBar()}\r\n        {openPanelCanvas()}\r\n        {renderEditor()}\r\n        \r\n      </InnerColumn>\r\n    </Srow>\r\n  );\r\n}\r\n\r\nexport default SchemePanel;\r\n","import React from \"react\";\r\nimport Start from \"../tools/Start\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\nimport * as access from \"../access\";\r\nimport { get } from \"../requests\";\r\n\r\nimport { move } from \"./utils/canvasActions\";\r\nimport * as packUtils from \"./utils/packUtils\";\r\nimport * as libsActions from \"../../tree/actions/libs\";\r\nimport * as catsActions from \"../../tree/actions/cats\";\r\nimport * as itemsActions from \"../../tree/actions/items\";\r\n\r\nimport \"./style.css\";\r\n\r\nfunction MainCanvas() {\r\n  const { viewKey, dispatch } = useBranch({ viewKey: [\"viewKey\"] });\r\n\r\n  let data = {};\r\n\r\n  const getFlex = () => {\r\n    const schemePanelSize = access.dim(\"flexViews.schemePanel\");\r\n    const leftPanelSize = access.dim(\"flexViews.leftPanel\");\r\n    const size = leftPanelSize + schemePanelSize;\r\n\r\n    if (viewKey !== \"initKey\") return 1 - size;\r\n    return 1 - leftPanelSize;\r\n  };\r\n\r\n  const getCategoriesFromLibrary = lib => {\r\n    get(\"/getCategoriesFromLibrary\", { library: lib }).then(res => {\r\n      dispatch(catsActions.setCats, res.data);\r\n      setTimeout(() => {\r\n        dispatch(libsActions.setLibToFocus, lib);\r\n      });\r\n    });\r\n  };\r\n\r\n  const getItemsFromCategory = cat => {\r\n    dispatch(catsActions.getItemsFromCategory, cat);\r\n    dispatch(catsActions.setKey, { newKey: \"showScheme\", schemeName: cat });\r\n  };\r\n\r\n  const handleClickOnItem = label => {\r\n    dispatch(itemsActions.setItemToFocus, label);\r\n    dispatch(itemsActions.setSelected, label);\r\n  };\r\n\r\n  const getAllLibs = (canvas, width, height) => {\r\n    get(\"/getAll\").then(res => {\r\n      data = packUtils.normalizeData(res.data);\r\n      packUtils.setCanvas(canvas, width, height);\r\n      packUtils.createPack(data, true);\r\n      packUtils.setSelectLib(getCategoriesFromLibrary);\r\n      packUtils.setSelectCat(getItemsFromCategory);\r\n      packUtils.setSelectItem(handleClickOnItem);\r\n    });\r\n  };\r\n\r\n  const createFrame = (canvas, width, height) => {\r\n    const frame = canvas\r\n      .append(\"rect\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .attr(\"fill\", access.color(\"canvases.bg\"));\r\n\r\n    return frame;\r\n  };\r\n\r\n  const onCanvasReady = (canvas, width, height) => {\r\n    const frame = createFrame(canvas, width, height);\r\n    move(canvas, frame, access.color(\"canvases.fg\"));\r\n    getAllLibs(canvas, width, height);\r\n  };\r\n\r\n  const renderStart = () => {\r\n    const margin = {\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0\r\n    };\r\n\r\n    return <Start canvasReady={onCanvasReady} margin={margin} />;\r\n  };\r\n\r\n  const zIndex = access.dim(\"zIndexViews.schemePanel\");\r\n\r\n  return (\r\n    <div style={{ flex: getFlex(), cursor: \"none\", zIndex: zIndex }}>\r\n      {renderStart()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainCanvas;\r\n","import React from \"react\";\r\nimport { useBranch } from \"baobab-react/hooks\";\r\n\r\nimport Mask from \"../plugins/tools/Mask\";\r\nimport MenuPanel from \"./MenuPanel\";\r\nimport SchemePanel from \"./SchemePanel\";\r\nimport MainCanvas from \"../plugins/canvases/MainCanvas\";\r\n\r\nfunction Main() {\r\n\r\n  const { viewKey } = useBranch({ viewKey: [\"viewKey\"] });\r\n    \r\n  return (\r\n      <Mask opacity={1} style={{display:'flex'}}>\r\n            <MenuPanel/>\r\n            <SchemePanel/>\r\n            <MainCanvas key={viewKey}/>\r\n      </Mask>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\nimport {useRoot} from 'baobab-react/hooks';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { color } from \"./plugins/access\";\nimport Main from \"./Views/Main\";\n\nconst primary = color('materialUI.primary');\nconst secondary = color('materialUI.secondary');\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: primary\n    },\n    secondary: {\n      main: secondary\n    }\n  }\n});\n\n\nfunction App({tree}) {\n\n  const Root = useRoot(tree);\n\n  return (\n    <Root>\n      <ThemeProvider theme={theme}>\n        <Main/>\n      </ThemeProvider>\n    </Root>\n  );\n}\n\nexport default App;\n","import Baobab from 'baobab';\r\n\r\nconst tree = new Baobab({\r\n  libs: [],\r\n  cats: [],\r\n  items: null,\r\n  mockData: null,\r\n  focus: {\r\n    lib: null,\r\n    cat: null,\r\n    item: null\r\n  },\r\n  selected: null,\r\n  selectedCategory: null,\r\n  selectedLibrary: null,\r\n  viewKey: 'initKey'\r\n});\r\n\r\nwindow.tree = tree;\r\n\r\nexport default tree;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\nimport tree from \"./tree/tree\";\n\nReactDOM.render(<App tree={tree} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}